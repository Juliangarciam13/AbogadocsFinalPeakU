{
  "version": 3,
  "sources": ["../../filestack-js/build/browser/webpack:/filestack/webpack/bootstrap", "../../filestack-js/build/browser/webpack:/filestack/node_modules/tslib/tslib.es6.js", "../../filestack-js/build/browser/src/lib/utils/index.ts", "../../filestack-js/build/browser/src/lib/utils/extensions.ts", "../../filestack-js/build/browser/webpack:/filestack/build/module/lib/utils/index.node.js", "../../filestack-js/build/browser/src/lib/request/error.ts", "../../filestack-js/build/browser/webpack:/filestack/node_modules/debug/src/browser.js", "../../filestack-js/build/browser/webpack:/src/is.ts", "../../filestack-js/build/browser/webpack:/filestack/build/module/lib/request/utils.node.js", "../../filestack-js/build/browser/src/lib/request/utils.ts", "../../filestack-js/build/browser/src/lib/request/types.ts", "../../filestack-js/build/browser/webpack:/filestack/node_modules/fast-xml-parser/src/util.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/eventemitter3/index.js", "../../filestack-js/build/browser/webpack:/src/misc.ts", "../../filestack-js/build/browser/webpack:/src/string.ts", "../../filestack-js/build/browser/src/lib/request/helpers/cookies.ts", "../../filestack-js/build/browser/src/lib/request/helpers/headers.ts", "../../filestack-js/build/browser/src/lib/request/helpers/data.ts", "../../filestack-js/build/browser/src/lib/request/helpers/url.ts", "../../filestack-js/build/browser/webpack:/filestack/node_modules/jsonschema/lib/helpers.js", "../../filestack-js/build/browser/webpack:/src/node.ts", "../../filestack-js/build/browser/webpack:/filestack/(webpack)/buildin/global.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/fast-xml-parser/src/xmlstr2xmlnode.js", "../../filestack-js/build/browser/src/lib/request/helpers/shouldRetry.ts", "../../filestack-js/build/browser/webpack:/filestack/node_modules/file-type/index.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/jsonschema/lib/index.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/node-libs-browser/node_modules/url/url.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/jsonschema/lib/scan.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/fast-xml-parser/src/parser.js", "../../filestack-js/build/browser/webpack:/src/browser.ts", "../../filestack-js/build/browser/webpack:/filestack/(webpack)/buildin/module.js", "../../filestack-js/build/browser/webpack:/filestack/(webpack)/buildin/amd-options.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/process/browser.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/isutf8/index.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/spark-md5/spark-md5.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/p-queue/index.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/lodash.clonedeep/index.js", "../../filestack-js/build/browser/webpack:/src/stacktrace.ts", "../../filestack-js/build/browser/webpack:/src/memo.ts", "../../filestack-js/build/browser/webpack:/filestack/node_modules/jsonschema/lib/validator.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/punycode/punycode.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/node-libs-browser/node_modules/url/util.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/querystring-es3/index.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/querystring-es3/decode.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/querystring-es3/encode.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/jsonschema/lib/attribute.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/debug/src/common.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/ms/index.js", "../../filestack-js/build/browser/src/lib/request/adapters/xhr.ts", "../../filestack-js/build/browser/webpack:/filestack/node_modules/fast-xml-parser/src/node2json.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/fast-xml-parser/src/xmlNode.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/fast-xml-parser/src/validator.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/fast-xml-parser/src/nimndata.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/fast-xml-parser/src/node2json_str.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/fast-xml-parser/src/json2xml.js", "../../filestack-js/build/browser/webpack:/filestack/node_modules/p-queue/node_modules/eventemitter3/index.js", "../../filestack-js/build/browser/webpack:/filestack/(webpack)/buildin/harmony-module.js", "../../filestack-js/build/browser/webpack:/src/session.ts", "../../filestack-js/build/browser/webpack:/filestack/FilestackLoader/webpack/bootstrap", "../../filestack-js/build/browser/webpack:/filestack/FilestackLoader/dist/module/index.js", "../../filestack-js/build/browser/webpack:/filestack/build/module/lib/api/security.node.js", "../../filestack-js/build/browser/webpack:/src/logger.ts", "../../filestack-js/build/browser/webpack:/src/syncpromise.ts", "../../filestack-js/build/browser/webpack:/src/scope.ts", "../../filestack-js/build/browser/webpack:/src/hub.ts", "../../filestack-js/build/browser/webpack:/src/index.ts", "../../filestack-js/build/browser/src/config.ts", "../../filestack-js/build/browser/src/filestack_error.ts", "../../filestack-js/build/browser/src/schema/transforms.schema.ts", "../../filestack-js/build/browser/src/schema/definitions.schema.ts", "../../filestack-js/build/browser/src/schema/validator.ts", "../../filestack-js/build/browser/src/lib/filelink.ts", "../../filestack-js/build/browser/src/schema/store.schema.ts", "../../filestack-js/build/browser/src/schema/preview.schema.ts", "../../filestack-js/build/browser/src/schema/upload.schema.ts", "../../filestack-js/build/browser/src/schema/picker.schema.ts", "../../filestack-js/build/browser/src/schema/metadata.schema.ts", "../../filestack-js/build/browser/src/schema/retrieve.schema.ts", "../../filestack-js/build/browser/src/lib/request/dispatch.ts", "../../filestack-js/build/browser/webpack:/filestack/build/module/lib/request/request_adapter.node.js", "../../filestack-js/build/browser/src/lib/request/request.ts", "../../filestack-js/build/browser/src/lib/request/token.ts", "../../filestack-js/build/browser/src/lib/api/file.ts", "../../filestack-js/build/browser/src/lib/api/transform.ts", "../../filestack-js/build/browser/src/lib/api/upload/file.ts", "../../filestack-js/build/browser/src/lib/utils/store.ts", "../../filestack-js/build/browser/webpack:/filestack/build/module/lib/api/upload/file_tools.node.js", "../../filestack-js/build/browser/src/lib/api/upload/uploaders/abstract.ts", "../../filestack-js/build/browser/src/lib/api/upload/uploaders/s3.ts", "../../filestack-js/build/browser/src/lib/api/upload/upload.ts", "../../filestack-js/build/browser/src/lib/api/preview.ts", "../../filestack-js/build/browser/webpack:/filestack/build/module/lib/utils/store.node.js", "../../filestack-js/build/browser/src/lib/api/cloud.ts", "../../filestack-js/build/browser/src/lib/api/prefetch.ts", "../../filestack-js/build/browser/src/lib/picker.ts", "../../filestack-js/build/browser/src/lib/client.ts", "../../filestack-js/build/browser/src/lib/api/store.ts", "../../filestack-js/build/browser/src/index.ts", "../../filestack-js/build/browser/webpack:/src/time.ts", "../../filestack-js/build/browser/webpack:/src/object.ts"],
  "sourcesContent": [" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 52);\n", "/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Session } from '../client';\nimport { Hosts } from './../../config';\nimport { ExtensionsMap } from './extensions';\nimport fileType from 'file-type';\nimport * as isutf8 from 'isutf8';\n\n/**\n * Resolve cdn url based on handle type\n *\n * @private\n * @param session session object\n * @param handle file handle (hash, src://alias, url)\n */\nexport const resolveCdnUrl = (session: Session, handle: string): string => {\n  const cdnURL = session.urls.cdnUrl;\n\n  if (handle && (handle.indexOf('src:') === 0 || handle.indexOf('http') === 0)) {\n    if (!session.apikey) {\n      throw new Error('Api key is required when storage alias is provided');\n    }\n\n    // apikey is required for alias or external sources call\n    return `${cdnURL}/${session.apikey}`;\n  }\n\n  return cdnURL;\n};\n\n/**\n * Resolve all urls with provided cnames\n *\n * @private\n * @param urls\n * @param cname\n */\nexport const resolveHost = (urls: Hosts, cname: string): Hosts => {\n  if (!cname) {\n    return urls;\n  }\n\n  const hosts = /filestackapi.com|filestackcontent.com/i;\n\n  Object.keys(urls).forEach(key => {\n    urls[key] = urls[key].replace(hosts, cname);\n  });\n\n  return urls;\n};\n\n/**\n * Removes empty options from object\n *\n * @private\n * @param obj\n */\nexport const removeEmpty = (obj: any) => {\n  const newObj = { ...obj };\n  Object.keys(newObj).forEach(k => !newObj[k] && typeof newObj[k] !== 'boolean' && delete newObj[k]);\n  return newObj;\n};\n\n/**\n * Returns unique time\n */\nlet last;\nexport const uniqueTime = () => {\n  const time = Date.now();\n  last = time === last ? time + 1 : time;\n  return last;\n};\n\n/**\n * Generates random string with provided length\n *\n * @param len\n */\nexport const uniqueId = (len: number = 10): string => {\n  return new Array(len).join().replace(/(.|$)/g, () => ((Math.random() * 36) | 0).toString(36)[Math.random() < 0.5 ? 'toString' : 'toUpperCase']());\n};\n\n/**\n * Check if input is a svg\n *\n * @param {Uint8Array | Buffer} file\n * @returns {string} - mimetype\n */\nexport const getMimetype = (file: Uint8Array | Buffer, name?: string): string => {\n  let type = fileType(file);\n\n  const excludedMimetypes = ['text/plain', 'application/octet-stream', 'application/x-ms', 'application/x-msi', 'application/zip'];\n\n  if (type && excludedMimetypes.indexOf(type.mime) === -1) {\n    return type.mime;\n  }\n\n  if (name && name.indexOf('.') > -1) {\n    const mime = extensionToMime(name);\n\n    if (mime) {\n      return mime;\n    }\n  }\n\n  try {\n    if (isutf8(file)) {\n      return 'text/plain';\n    }\n  } catch (e) {\n    /* istanbul ignore next */\n    console.warn('Additional mimetype checks (text/plain) are currently not supported for browsers');\n  }\n  // this is only fallback, omit it in coverage\n  /* istanbul ignore next */\n\n  // if we cant find types by extensions and we have magic bytes fallback to it\n  if (type) {\n    return type.mime;\n  }\n\n  return 'application/octet-stream';\n};\n\n/**\n * Change extension to according mimetype using ext=>mimetype map\n *\n * @param ext - string\n * @return string|boolean\n */\nexport const extensionToMime = (ext: string) => {\n  if (!ext || ext.length === 0) {\n    return;\n  }\n\n  if (ext.split('/').length === 2) {\n    return ext;\n  }\n\n  if (ext.indexOf('.') > -1) {\n    ext = ext.split('.').pop();\n  }\n\n  ext = ext.toLocaleLowerCase();\n\n  const keys = Object.keys(ExtensionsMap);\n  const mapLen = keys.length;\n\n  for (let i = 0; i < mapLen; i++) {\n    if (ExtensionsMap[keys[i]].indexOf(ext) > -1) {\n      return keys[i];\n    }\n  }\n\n  return;\n};\n\n/**\n * Sanitizer Options\n */\nexport type SanitizeOptions =\n  | boolean\n  | {\n    exclude?: string[];\n    replacement?: string;\n  };\n\n/**\n * Sanitize file name\n *\n * @param name\n * @param {bool} options  - enable,disable sanitizer, default enabled\n * @param {string} options.replacement - replacement for sanitized chars defaults to \"-\"\n * @param {string[]} options.exclude - array with excluded chars default - ['\\', '{', '}','|', '%', '`', '\"', \"'\", '~', '[', ']', '#', '|', '^', '<', '>']\n */\nexport const sanitizeName = (name: string, options: SanitizeOptions = true): string => {\n  if (typeof options === 'boolean' && !options) {\n    return name;\n  }\n\n  let ext;\n\n  const replacement = typeof options !== 'boolean' && options.replacement ? options.replacement : '-';\n  const exclude = typeof options !== 'boolean' && options.exclude ? options.exclude : ['\\\\', '{', '}', '|', '%', '`', '\"', \"'\", '~', '[', ']', '#', '|', '^', '<', '>'];\n\n  if (!name || name.length === 0) {\n    return 'undefined';\n  }\n\n  const fileParts = name.split('.');\n\n  if (fileParts.length > 1) {\n    ext = fileParts.pop();\n  }\n\n  return `${fileParts\n    .join('.')\n    .split('')\n    .map(char => (exclude.indexOf(char) > -1 ? replacement : char))\n    .join('')}${ext ? '.' + ext : ''}`;\n};\n\n/**\n * Filter object to given fields\n *\n * @param toFilter\n * @param requiredFields\n */\nexport const filterObject = (toFilter, requiredFields: string[]) => {\n  if (!requiredFields || requiredFields.length === 0) {\n    return toFilter;\n  }\n\n  if (Object.keys(toFilter).length === 0) {\n    return toFilter;\n  }\n\n  return Object.keys(toFilter)\n    .filter(f => requiredFields.indexOf(f) > -1)\n    .reduce((obj, key) => ({ ...obj, [key]: toFilter[key] }), {});\n};\n\n/**\n * Deep cleanup object from functions\n *\n * @param obj\n */\nexport const cleanUpCallbacks = (obj: any) => {\n  if (!obj || Object.keys(obj).length === 0) {\n    return obj;\n  }\n\n  Object.keys(obj).forEach(k => {\n    if (typeof obj[k] === 'function') {\n      obj[k] = undefined;\n    }\n\n    if (obj[k] === Object(obj[k])) {\n      obj[k] = cleanUpCallbacks(obj[k]);\n    }\n  });\n\n  return obj;\n};\n\nexport * from './index.node';\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const ExtensionsMap = {\n  'application/andrew-inset': ['ez'],\n  'application/applixware': ['aw'],\n  'application/atom+xml': ['atom'],\n  'application/atomcat+xml': ['atomcat'],\n  'application/atomsvc+xml': ['atomsvc'],\n  'application/bdoc': ['bdoc'],\n  'application/ccxml+xml': ['ccxml'],\n  'application/cdmi-capability': ['cdmia'],\n  'application/cdmi-container': ['cdmic'],\n  'application/cdmi-domain': ['cdmid'],\n  'application/cdmi-object': ['cdmio'],\n  'application/cdmi-queue': ['cdmiq'],\n  'application/cu-seeme': ['cu'],\n  'application/dash+xml': ['mpd'],\n  'application/davmount+xml': ['davmount'],\n  'application/docbook+xml': ['dbk'],\n  'application/dssc+der': ['dssc'],\n  'application/dssc+xml': ['xdssc'],\n  'application/ecmascript': ['ecma', 'es'],\n  'application/emma+xml': ['emma'],\n  'application/epub+zip': ['epub'],\n  'application/exi': ['exi'],\n  'application/font-tdpfr': ['pfr'],\n  'application/geo+json': ['geojson'],\n  'application/gml+xml': ['gml'],\n  'application/gpx+xml': ['gpx'],\n  'application/gxf': ['gxf'],\n  'application/gzip': ['gz'],\n  'application/hjson': ['hjson'],\n  'application/hyperstudio': ['stk'],\n  'application/inkml+xml': ['ink', 'inkml'],\n  'application/ipfix': ['ipfix'],\n  'application/java-archive': ['jar', 'war', 'ear'],\n  'application/java-serialized-object': ['ser'],\n  'application/java-vm': ['class'],\n  'application/javascript': ['js', 'mjs'],\n  'application/json': ['json', 'map'],\n  'application/json5': ['json5'],\n  'application/jsonml+json': ['jsonml'],\n  'application/ld+json': ['jsonld'],\n  'application/lost+xml': ['lostxml'],\n  'application/mac-binhex40': ['hqx'],\n  'application/mac-compactpro': ['cpt'],\n  'application/mads+xml': ['mads'],\n  'application/manifest+json': ['webmanifest'],\n  'application/marc': ['mrc'],\n  'application/marcxml+xml': ['mrcx'],\n  'application/mathematica': ['ma', 'nb', 'mb'],\n  'application/mathml+xml': ['mathml'],\n  'application/mbox': ['mbox'],\n  'application/mediaservercontrol+xml': ['mscml'],\n  'application/metalink+xml': ['metalink'],\n  'application/metalink4+xml': ['meta4'],\n  'application/mets+xml': ['mets'],\n  'application/mods+xml': ['mods'],\n  'application/mp21': ['m21', 'mp21'],\n  'application/mp4': ['mp4s', 'm4p'],\n  'application/msword': ['doc', 'dot'],\n  'application/mxf': ['mxf'],\n  'application/n-quads': ['nq'],\n  'application/n-triples': ['nt'],\n  'application/octet-stream': [\n    'bin',\n    'dms',\n    'lrf',\n    'mar',\n    'so',\n    'dist',\n    'distz',\n    'pkg',\n    'bpk',\n    'dump',\n    'elc',\n    'deploy',\n    'exe',\n    'dll',\n    'deb',\n    'dmg',\n    'iso',\n    'msp',\n    'buffer',\n  ],\n  'application/oda': ['oda'],\n  'application/oebps-package+xml': ['opf'],\n  'application/ogg': ['ogx'],\n  'application/omdoc+xml': ['omdoc'],\n  'application/onenote': ['onetoc', 'onetoc2', 'onetmp', 'onepkg'],\n  'application/oxps': ['oxps'],\n  'application/patch-ops-error+xml': ['xer'],\n  'application/pdf': ['pdf'],\n  'application/pgp-encrypted': ['pgp'],\n  'application/pgp-signature': ['asc', 'sig'],\n  'application/pics-rules': ['prf'],\n  'application/pkcs10': ['p10'],\n  'application/pkcs7-mime': ['p7m', 'p7c'],\n  'application/pkcs7-signature': ['p7s'],\n  'application/pkcs8': ['p8'],\n  'application/pkix-attr-cert': ['ac'],\n  'application/pkix-cert': ['cer'],\n  'application/pkix-crl': ['crl'],\n  'application/pkix-pkipath': ['pkipath'],\n  'application/pkixcmp': ['pki'],\n  'application/pls+xml': ['pls'],\n  'application/postscript': ['ai', 'eps', 'ps'],\n  'application/pskc+xml': ['pskcxml'],\n  'application/raml+yaml': ['raml'],\n  'application/rdf+xml': ['rdf', 'owl'],\n  'application/reginfo+xml': ['rif'],\n  'application/relax-ng-compact-syntax': ['rnc'],\n  'application/resource-lists+xml': ['rl'],\n  'application/resource-lists-diff+xml': ['rld'],\n  'application/rls-services+xml': ['rs'],\n  'application/rpki-ghostbusters': ['gbr'],\n  'application/rpki-manifest': ['mft'],\n  'application/rpki-roa': ['roa'],\n  'application/rsd+xml': ['rsd'],\n  'application/rss+xml': ['rss'],\n  'application/rtf': ['rtf'],\n  'application/sbml+xml': ['sbml'],\n  'application/scvp-cv-request': ['scq'],\n  'application/scvp-cv-response': ['scs'],\n  'application/scvp-vp-request': ['spq'],\n  'application/scvp-vp-response': ['spp'],\n  'application/sdp': ['sdp'],\n  'application/set-payment-initiation': ['setpay'],\n  'application/set-registration-initiation': ['setreg'],\n  'application/shf+xml': ['shf'],\n  'application/sieve': ['siv', 'sieve'],\n  'application/smil+xml': ['smi', 'smil'],\n  'application/sparql-query': ['rq'],\n  'application/sparql-results+xml': ['srx'],\n  'application/srgs': ['gram'],\n  'application/srgs+xml': ['grxml'],\n  'application/sru+xml': ['sru'],\n  'application/ssdl+xml': ['ssdl'],\n  'application/ssml+xml': ['ssml'],\n  'application/tei+xml': ['tei', 'teicorpus'],\n  'application/thraud+xml': ['tfi'],\n  'application/timestamped-data': ['tsd'],\n  'application/voicexml+xml': ['vxml'],\n  'application/wasm': ['wasm'],\n  'application/widget': ['wgt'],\n  'application/winhlp': ['hlp'],\n  'application/wsdl+xml': ['wsdl'],\n  'application/wspolicy+xml': ['wspolicy'],\n  'application/xaml+xml': ['xaml'],\n  'application/xcap-diff+xml': ['xdf'],\n  'application/xenc+xml': ['xenc'],\n  'application/xhtml+xml': ['xhtml', 'xht'],\n  'application/xml': ['xml', 'xsl', 'xsd', 'rng'],\n  'application/xml-dtd': ['dtd'],\n  'application/xop+xml': ['xop'],\n  'application/xproc+xml': ['xpl'],\n  'application/xslt+xml': ['xslt'],\n  'application/xspf+xml': ['xspf'],\n  'application/xv+xml': ['mxml', 'xhvml', 'xvml', 'xvm'],\n  'application/yang': ['yang'],\n  'application/yin+xml': ['yin'],\n  'application/zip': ['zip'],\n  'audio/3gpp': ['*3gpp'],\n  'audio/adpcm': ['adp'],\n  'audio/basic': ['au', 'snd'],\n  'audio/midi': ['mid', 'midi', 'kar', 'rmi'],\n  'audio/mp3': ['*mp3'],\n  'audio/mp4': ['m4a', 'mp4a'],\n  'audio/mpeg': ['mpga', 'mp2', 'mp2a', 'mp3', 'm2a', 'm3a'],\n  'audio/ogg': ['oga', 'ogg', 'spx'],\n  'audio/s3m': ['s3m'],\n  'audio/silk': ['sil'],\n  'audio/wav': ['wav'],\n  'audio/wave': ['*wav'],\n  'audio/webm': ['weba'],\n  'audio/xm': ['xm'],\n  'font/collection': ['ttc'],\n  'font/otf': ['otf'],\n  'font/ttf': ['ttf'],\n  'font/woff': ['woff'],\n  'font/woff2': ['woff2'],\n  'image/aces': ['exr'],\n  'image/apng': ['apng'],\n  'image/bmp': ['bmp'],\n  'image/cgm': ['cgm'],\n  'image/dicom-rle': ['drle'],\n  'image/emf': ['emf'],\n  'image/fits': ['fits'],\n  'image/g3fax': ['g3'],\n  'image/gif': ['gif'],\n  'image/heic': ['heic'],\n  'image/heic-sequence': ['heics'],\n  'image/heif': ['heif'],\n  'image/heif-sequence': ['heifs'],\n  'image/ief': ['ief'],\n  'image/jls': ['jls'],\n  'image/jp2': ['jp2', 'jpg2'],\n  'image/jpeg': ['jpeg', 'jpg', 'jpe'],\n  'image/jpm': ['jpm'],\n  'image/jpx': ['jpx', 'jpf'],\n  'image/jxr': ['jxr'],\n  'image/ktx': ['ktx'],\n  'image/png': ['png'],\n  'image/sgi': ['sgi'],\n  'image/svg+xml': ['svg', 'svgz'],\n  'image/t38': ['t38'],\n  'image/tiff': ['tif', 'tiff'],\n  'image/tiff-fx': ['tfx'],\n  'image/webp': ['webp'],\n  'image/wmf': ['wmf'],\n  'message/disposition-notification': ['disposition-notification'],\n  'message/global': ['u8msg'],\n  'message/global-delivery-status': ['u8dsn'],\n  'message/global-disposition-notification': ['u8mdn'],\n  'message/global-headers': ['u8hdr'],\n  'message/rfc822': ['eml', 'mime'],\n  'model/3mf': ['3mf'],\n  'model/gltf+json': ['gltf'],\n  'model/gltf-binary': ['glb'],\n  'model/iges': ['igs', 'iges'],\n  'model/mesh': ['msh', 'mesh', 'silo'],\n  'model/stl': ['stl'],\n  'model/vrml': ['wrl', 'vrml'],\n  'model/x3d+binary': ['*x3db', 'x3dbz'],\n  'model/x3d+fastinfoset': ['x3db'],\n  'model/x3d+vrml': ['*x3dv', 'x3dvz'],\n  'model/x3d+xml': ['x3d', 'x3dz'],\n  'model/x3d-vrml': ['x3dv'],\n  'text/cache-manifest': ['appcache', 'manifest'],\n  'text/calendar': ['ics', 'ifb'],\n  'text/coffeescript': ['coffee', 'litcoffee'],\n  'text/css': ['css'],\n  'text/csv': ['csv'],\n  'text/html': ['html', 'htm', 'shtml'],\n  'text/jade': ['jade'],\n  'text/jsx': ['jsx'],\n  'text/less': ['less'],\n  'text/markdown': ['markdown', 'md'],\n  'text/mathml': ['mml'],\n  'text/mdx': ['mdx'],\n  'text/n3': ['n3'],\n  'text/plain': ['txt', 'text', 'conf', 'def', 'list', 'log', 'in', 'ini'],\n  'text/richtext': ['rtx'],\n  'application/font-ttf': 'ttf',\n  'application/vnd.ms-fontobject': 'eot',\n  'application/font-otf': 'otf',\n  'text/rtf': ['*rtf'],\n  'text/sgml': ['sgml', 'sgm'],\n  'text/shex': ['shex'],\n  'text/slim': ['slim', 'slm'],\n  'text/stylus': ['stylus', 'styl'],\n  'text/tab-separated-values': ['tsv'],\n  'text/troff': ['t', 'tr', 'roff', 'man', 'me', 'ms'],\n  'text/turtle': ['ttl'],\n  'text/uri-list': ['uri', 'uris', 'urls'],\n  'text/vcard': ['vcard', 'vcr'],\n  'text/vtt': ['vtt'],\n  'text/xml': ['*xml'],\n  'text/yaml': ['yaml', 'yml'],\n  'video/3gpp': ['3gp', '3gpp'],\n  'video/3gpp2': ['3g2'],\n  'video/h261': ['h261'],\n  'video/h263': ['h263'],\n  'video/h264': ['h264'],\n  'video/jpeg': ['jpgv'],\n  'video/jpm': ['*jpm', 'jpgm'],\n  'video/mj2': ['mj2', 'mjp2'],\n  'video/mp2t': ['ts'],\n  'video/mp4': ['mp4', 'mp4v', 'mpg4'],\n  'video/mpeg': ['mpeg', 'mpg', 'mpe', 'm1v', 'm2v'],\n  'video/ogg': ['ogv'],\n  'video/quicktime': ['qt', 'mov'],\n  'video/webm': ['webm'],\n  'application/prs.cww': ['cww'],\n  'application/vnd.3gpp.pic-bw-large': ['plb'],\n  'application/vnd.3gpp.pic-bw-small': ['psb'],\n  'application/vnd.3gpp.pic-bw-var': ['pvb'],\n  'application/vnd.3gpp2.tcap': ['tcap'],\n  'application/vnd.3m.post-it-notes': ['pwn'],\n  'application/vnd.accpac.simply.aso': ['aso'],\n  'application/vnd.accpac.simply.imp': ['imp'],\n  'application/vnd.acucobol': ['acu'],\n  'application/vnd.acucorp': ['atc', 'acutc'],\n  'application/vnd.adobe.air-application-installer-package+zip': ['air'],\n  'application/vnd.adobe.formscentral.fcdt': ['fcdt'],\n  'application/vnd.adobe.fxp': ['fxp', 'fxpl'],\n  'application/vnd.adobe.xdp+xml': ['xdp'],\n  'application/vnd.adobe.xfdf': ['xfdf'],\n  'application/vnd.ahead.space': ['ahead'],\n  'application/vnd.airzip.filesecure.azf': ['azf'],\n  'application/vnd.airzip.filesecure.azs': ['azs'],\n  'application/vnd.amazon.ebook': ['azw'],\n  'application/vnd.americandynamics.acc': ['acc'],\n  'application/vnd.amiga.ami': ['ami'],\n  'application/vnd.android.package-archive': ['apk'],\n  'application/vnd.anser-web-certificate-issue-initiation': ['cii'],\n  'application/vnd.anser-web-funds-transfer-initiation': ['fti'],\n  'application/vnd.antix.game-component': ['atx'],\n  'application/vnd.apple.installer+xml': ['mpkg'],\n  'application/vnd.apple.keynote': ['keynote', 'key'],\n  'application/vnd.apple.mpegurl': ['m3u8'],\n  'application/vnd.apple.numbers': ['numbers'],\n  'application/vnd.apple.pages': ['pages'],\n  'application/vnd.apple.key': ['key'],\n  'application/vnd.apple.pkpass': ['pkpass'],\n  'application/vnd.aristanetworks.swi': ['swi'],\n  'application/vnd.astraea-software.iota': ['iota'],\n  'application/vnd.audiograph': ['aep'],\n  'application/vnd.blueice.multipass': ['mpm'],\n  'application/vnd.bmi': ['bmi'],\n  'application/vnd.businessobjects': ['rep'],\n  'application/vnd.chemdraw+xml': ['cdxml'],\n  'application/vnd.chipnuts.karaoke-mmd': ['mmd'],\n  'application/vnd.cinderella': ['cdy'],\n  'application/vnd.citationstyles.style+xml': ['csl'],\n  'application/vnd.claymore': ['cla'],\n  'application/vnd.cloanto.rp9': ['rp9'],\n  'application/vnd.clonk.c4group': ['c4g', 'c4d', 'c4f', 'c4p', 'c4u'],\n  'application/vnd.cluetrust.cartomobile-config': ['c11amc'],\n  'application/vnd.cluetrust.cartomobile-config-pkg': ['c11amz'],\n  'application/vnd.commonspace': ['csp'],\n  'application/vnd.contact.cmsg': ['cdbcmsg'],\n  'application/vnd.cosmocaller': ['cmc'],\n  'application/vnd.crick.clicker': ['clkx'],\n  'application/vnd.crick.clicker.keyboard': ['clkk'],\n  'application/vnd.crick.clicker.palette': ['clkp'],\n  'application/vnd.crick.clicker.template': ['clkt'],\n  'application/vnd.crick.clicker.wordbank': ['clkw'],\n  'application/vnd.criticaltools.wbs+xml': ['wbs'],\n  'application/vnd.ctc-posml': ['pml'],\n  'application/vnd.cups-ppd': ['ppd'],\n  'application/vnd.curl.car': ['car'],\n  'application/vnd.curl.pcurl': ['pcurl'],\n  'application/vnd.dart': ['dart'],\n  'application/vnd.data-vision.rdz': ['rdz'],\n  'application/vnd.dece.data': ['uvf', 'uvvf', 'uvd', 'uvvd'],\n  'application/vnd.dece.ttml+xml': ['uvt', 'uvvt'],\n  'application/vnd.dece.unspecified': ['uvx', 'uvvx'],\n  'application/vnd.dece.zip': ['uvz', 'uvvz'],\n  'application/vnd.denovo.fcselayout-link': ['fe_launch'],\n  'application/vnd.dna': ['dna'],\n  'application/vnd.dolby.mlp': ['mlp'],\n  'application/vnd.dpgraph': ['dpg'],\n  'application/vnd.dreamfactory': ['dfac'],\n  'application/vnd.ds-keypoint': ['kpxx'],\n  'application/vnd.dvb.ait': ['ait'],\n  'application/vnd.dvb.service': ['svc'],\n  'application/vnd.dynageo': ['geo'],\n  'application/vnd.ecowin.chart': ['mag'],\n  'application/vnd.enliven': ['nml'],\n  'application/vnd.epson.esf': ['esf'],\n  'application/vnd.epson.msf': ['msf'],\n  'application/vnd.epson.quickanime': ['qam'],\n  'application/vnd.epson.salt': ['slt'],\n  'application/vnd.epson.ssf': ['ssf'],\n  'application/vnd.eszigno3+xml': ['es3', 'et3'],\n  'application/vnd.ezpix-album': ['ez2'],\n  'application/vnd.ezpix-package': ['ez3'],\n  'application/vnd.fdf': ['fdf'],\n  'application/vnd.fdsn.mseed': ['mseed'],\n  'application/vnd.fdsn.seed': ['seed', 'dataless'],\n  'application/vnd.flographit': ['gph'],\n  'application/vnd.fluxtime.clip': ['ftc'],\n  'application/vnd.framemaker': ['fm', 'frame', 'maker', 'book'],\n  'application/vnd.frogans.fnc': ['fnc'],\n  'application/vnd.frogans.ltf': ['ltf'],\n  'application/vnd.fsc.weblaunch': ['fsc'],\n  'application/vnd.fujitsu.oasys': ['oas'],\n  'application/vnd.fujitsu.oasys2': ['oa2'],\n  'application/vnd.fujitsu.oasys3': ['oa3'],\n  'application/vnd.fujitsu.oasysgp': ['fg5'],\n  'application/vnd.fujitsu.oasysprs': ['bh2'],\n  'application/vnd.fujixerox.ddd': ['ddd'],\n  'application/vnd.fujixerox.docuworks': ['xdw'],\n  'application/vnd.fujixerox.docuworks.binder': ['xbd'],\n  'application/vnd.fuzzysheet': ['fzs'],\n  'application/vnd.genomatix.tuxedo': ['txd'],\n  'application/vnd.geogebra.file': ['ggb'],\n  'application/vnd.geogebra.tool': ['ggt'],\n  'application/vnd.geometry-explorer': ['gex', 'gre'],\n  'application/vnd.geonext': ['gxt'],\n  'application/vnd.geoplan': ['g2w'],\n  'application/vnd.geospace': ['g3w'],\n  'application/vnd.gmx': ['gmx'],\n  'application/vnd.google-apps.document': ['gdoc'],\n  'application/vnd.google-apps.presentation': ['gslides'],\n  'application/vnd.google-apps.spreadsheet': ['gsheet'],\n  'application/vnd.google-earth.kml+xml': ['kml'],\n  'application/vnd.google-earth.kmz': ['kmz'],\n  'application/vnd.grafeq': ['gqf', 'gqs'],\n  'application/vnd.groove-account': ['gac'],\n  'application/vnd.groove-help': ['ghf'],\n  'application/vnd.groove-identity-message': ['gim'],\n  'application/vnd.groove-injector': ['grv'],\n  'application/vnd.groove-tool-message': ['gtm'],\n  'application/vnd.groove-tool-template': ['tpl'],\n  'application/vnd.groove-vcard': ['vcg'],\n  'application/vnd.hal+xml': ['hal'],\n  'application/vnd.handheld-entertainment+xml': ['zmm'],\n  'application/vnd.hbci': ['hbci'],\n  'application/vnd.hhe.lesson-player': ['les'],\n  'application/vnd.hp-hpgl': ['hpgl'],\n  'application/vnd.hp-hpid': ['hpid'],\n  'application/vnd.hp-hps': ['hps'],\n  'application/vnd.hp-jlyt': ['jlt'],\n  'application/vnd.hp-pcl': ['pcl'],\n  'application/vnd.hp-pclxl': ['pclxl'],\n  'application/vnd.hydrostatix.sof-data': ['sfd-hdstx'],\n  'application/vnd.ibm.minipay': ['mpy'],\n  'application/vnd.ibm.modcap': ['afp', 'listafp', 'list3820'],\n  'application/vnd.ibm.rights-management': ['irm'],\n  'application/vnd.ibm.secure-container': ['sc'],\n  'application/vnd.iccprofile': ['icc', 'icm'],\n  'application/vnd.igloader': ['igl'],\n  'application/vnd.immervision-ivp': ['ivp'],\n  'application/vnd.immervision-ivu': ['ivu'],\n  'application/vnd.insors.igm': ['igm'],\n  'application/vnd.intercon.formnet': ['xpw', 'xpx'],\n  'application/vnd.intergeo': ['i2g'],\n  'application/vnd.intu.qbo': ['qbo'],\n  'application/vnd.intu.qfx': ['qfx'],\n  'application/vnd.ipunplugged.rcprofile': ['rcprofile'],\n  'application/vnd.irepository.package+xml': ['irp'],\n  'application/vnd.is-xpr': ['xpr'],\n  'application/vnd.isac.fcs': ['fcs'],\n  'application/vnd.jam': ['jam'],\n  'application/vnd.jcp.javame.midlet-rms': ['rms'],\n  'application/vnd.jisp': ['jisp'],\n  'application/vnd.joost.joda-archive': ['joda'],\n  'application/vnd.kahootz': ['ktz', 'ktr'],\n  'application/vnd.kde.karbon': ['karbon'],\n  'application/vnd.kde.kchart': ['chrt'],\n  'application/vnd.kde.kformula': ['kfo'],\n  'application/vnd.kde.kivio': ['flw'],\n  'application/vnd.kde.kontour': ['kon'],\n  'application/vnd.kde.kpresenter': ['kpr', 'kpt'],\n  'application/vnd.kde.kspread': ['ksp'],\n  'application/vnd.kde.kword': ['kwd', 'kwt'],\n  'application/vnd.kenameaapp': ['htke'],\n  'application/vnd.kidspiration': ['kia'],\n  'application/vnd.kinar': ['kne', 'knp'],\n  'application/vnd.koan': ['skp', 'skd', 'skt', 'skm'],\n  'application/vnd.kodak-descriptor': ['sse'],\n  'application/vnd.las.las+xml': ['lasxml'],\n  'application/vnd.llamagraphics.life-balance.desktop': ['lbd'],\n  'application/vnd.llamagraphics.life-balance.exchange+xml': ['lbe'],\n  'application/vnd.lotus-1-2-3': ['123'],\n  'application/vnd.lotus-approach': ['apr'],\n  'application/vnd.lotus-freelance': ['pre'],\n  'application/vnd.lotus-notes': ['nsf'],\n  'application/vnd.lotus-organizer': ['org'],\n  'application/vnd.lotus-screencam': ['scm'],\n  'application/vnd.lotus-wordpro': ['lwp'],\n  'application/vnd.macports.portpkg': ['portpkg'],\n  'application/vnd.mcd': ['mcd'],\n  'application/vnd.medcalcdata': ['mc1'],\n  'application/vnd.mediastation.cdkey': ['cdkey'],\n  'application/vnd.mfer': ['mwf'],\n  'application/vnd.mfmp': ['mfm'],\n  'application/vnd.micrografx.flo': ['flo'],\n  'application/vnd.micrografx.igx': ['igx'],\n  'application/vnd.mif': ['mif'],\n  'application/vnd.mobius.daf': ['daf'],\n  'application/vnd.mobius.dis': ['dis'],\n  'application/vnd.mobius.mbk': ['mbk'],\n  'application/vnd.mobius.mqy': ['mqy'],\n  'application/vnd.mobius.msl': ['msl'],\n  'application/vnd.mobius.plc': ['plc'],\n  'application/vnd.mobius.txf': ['txf'],\n  'application/vnd.mophun.application': ['mpn'],\n  'application/vnd.mophun.certificate': ['mpc'],\n  'application/vnd.mozilla.xul+xml': ['xul'],\n  'application/vnd.ms-artgalry': ['cil'],\n  'application/vnd.ms-cab-compressed': ['cab'],\n  'application/vnd.ms-excel': ['xls', 'xlm', 'xla', 'xlc', 'xlt', 'xlw'],\n  'application/vnd.ms-excel.addin.macroenabled.12': ['xlam'],\n  'application/vnd.ms-excel.sheet.binary.macroenabled.12': ['xlsb'],\n  'application/vnd.ms-excel.sheet.macroenabled.12': ['xlsm'],\n  'application/vnd.ms-excel.template.macroenabled.12': ['xltm'],\n  'application/vnd.ms-htmlhelp': ['chm'],\n  'application/vnd.ms-ims': ['ims'],\n  'application/vnd.ms-lrm': ['lrm'],\n  'application/vnd.ms-officetheme': ['thmx'],\n  'application/vnd.ms-outlook': ['msg'],\n  'application/vnd.ms-pki.seccat': ['cat'],\n  'application/vnd.ms-pki.stl': ['*stl'],\n  'application/vnd.ms-powerpoint': ['ppt', 'pps', 'pot'],\n  'application/vnd.ms-powerpoint.addin.macroenabled.12': ['ppam'],\n  'application/vnd.ms-powerpoint.presentation.macroenabled.12': ['pptm'],\n  'application/vnd.ms-powerpoint.slide.macroenabled.12': ['sldm'],\n  'application/vnd.ms-powerpoint.slideshow.macroenabled.12': ['ppsm'],\n  'application/vnd.ms-powerpoint.template.macroenabled.12': ['potm'],\n  'application/vnd.ms-project': ['mpp', 'mpt'],\n  'application/vnd.ms-word.document.macroenabled.12': ['docm'],\n  'application/vnd.ms-word.template.macroenabled.12': ['dotm'],\n  'application/vnd.ms-works': ['wps', 'wks', 'wcm', 'wdb'],\n  'application/vnd.ms-wpl': ['wpl'],\n  'application/vnd.ms-xpsdocument': ['xps'],\n  'application/vnd.mseq': ['mseq'],\n  'application/vnd.musician': ['mus'],\n  'application/vnd.muvee.style': ['msty'],\n  'application/vnd.mynfc': ['taglet'],\n  'application/vnd.neurolanguage.nlu': ['nlu'],\n  'application/vnd.nitf': ['ntf', 'nitf'],\n  'application/vnd.noblenet-directory': ['nnd'],\n  'application/vnd.noblenet-sealer': ['nns'],\n  'application/vnd.noblenet-web': ['nnw'],\n  'application/vnd.nokia.n-gage.data': ['ngdat'],\n  'application/vnd.nokia.n-gage.symbian.install': ['n-gage'],\n  'application/vnd.nokia.radio-preset': ['rpst'],\n  'application/vnd.nokia.radio-presets': ['rpss'],\n  'application/vnd.novadigm.edm': ['edm'],\n  'application/vnd.novadigm.edx': ['edx'],\n  'application/vnd.novadigm.ext': ['ext'],\n  'application/vnd.oasis.opendocument.chart': ['odc'],\n  'application/vnd.oasis.opendocument.chart-template': ['otc'],\n  'application/vnd.oasis.opendocument.database': ['odb'],\n  'application/vnd.oasis.opendocument.formula': ['odf'],\n  'application/vnd.oasis.opendocument.formula-template': ['odft'],\n  'application/vnd.oasis.opendocument.graphics': ['odg'],\n  'application/vnd.oasis.opendocument.graphics-template': ['otg'],\n  'application/vnd.oasis.opendocument.image': ['odi'],\n  'application/vnd.oasis.opendocument.image-template': ['oti'],\n  'application/vnd.oasis.opendocument.presentation': ['odp'],\n  'application/vnd.oasis.opendocument.presentation-template': ['otp'],\n  'application/vnd.oasis.opendocument.spreadsheet': ['ods'],\n  'application/vnd.oasis.opendocument.spreadsheet-template': ['ots'],\n  'application/vnd.oasis.opendocument.text': ['odt'],\n  'application/vnd.oasis.opendocument.text-master': ['odm'],\n  'application/vnd.oasis.opendocument.text-template': ['ott'],\n  'application/vnd.oasis.opendocument.text-web': ['oth'],\n  'application/vnd.olpc-sugar': ['xo'],\n  'application/vnd.oma.dd2+xml': ['dd2'],\n  'application/vnd.openofficeorg.extension': ['oxt'],\n  'application/vnd.openxmlformats-officedocument.presentationml.presentation': ['pptx'],\n  'application/vnd.openxmlformats-officedocument.presentationml.slide': ['sldx'],\n  'application/vnd.openxmlformats-officedocument.presentationml.slideshow': ['ppsx'],\n  'application/vnd.openxmlformats-officedocument.presentationml.template': ['potx'],\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': ['xlsx'],\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.template': ['xltx'],\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['docx'],\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.template': ['dotx'],\n  'application/vnd.osgeo.mapguide.package': ['mgp'],\n  'application/vnd.osgi.dp': ['dp'],\n  'application/vnd.osgi.subsystem': ['esa'],\n  'application/vnd.palm': ['pdb', 'pqa', 'oprc'],\n  'application/vnd.pawaafile': ['paw'],\n  'application/vnd.pg.format': ['str'],\n  'application/vnd.pg.osasli': ['ei6'],\n  'application/vnd.picsel': ['efif'],\n  'application/vnd.pmi.widget': ['wg'],\n  'application/vnd.pocketlearn': ['plf'],\n  'application/vnd.powerbuilder6': ['pbd'],\n  'application/vnd.previewsystems.box': ['box'],\n  'application/vnd.proteus.magazine': ['mgz'],\n  'application/vnd.publishare-delta-tree': ['qps'],\n  'application/vnd.pvi.ptid1': ['ptid'],\n  'application/vnd.quark.quarkxpress': ['qxd', 'qxt', 'qwd', 'qwt', 'qxl', 'qxb'],\n  'application/vnd.realvnc.bed': ['bed'],\n  'application/vnd.recordare.musicxml': ['mxl'],\n  'application/vnd.recordare.musicxml+xml': ['musicxml'],\n  'application/vnd.rig.cryptonote': ['cryptonote'],\n  'application/vnd.rim.cod': ['cod'],\n  'application/vnd.rn-realmedia': ['rm'],\n  'application/vnd.rn-realmedia-vbr': ['rmvb'],\n  'application/vnd.route66.link66+xml': ['link66'],\n  'application/vnd.sailingtracker.track': ['st'],\n  'application/vnd.seemail': ['see'],\n  'application/vnd.sema': ['sema'],\n  'application/vnd.semd': ['semd'],\n  'application/vnd.semf': ['semf'],\n  'application/vnd.shana.informed.formdata': ['ifm'],\n  'application/vnd.shana.informed.formtemplate': ['itp'],\n  'application/vnd.shana.informed.interchange': ['iif'],\n  'application/vnd.shana.informed.package': ['ipk'],\n  'application/vnd.simtech-mindmapper': ['twd', 'twds'],\n  'application/vnd.smaf': ['mmf'],\n  'application/vnd.smart.teacher': ['teacher'],\n  'application/vnd.solent.sdkm+xml': ['sdkm', 'sdkd'],\n  'application/vnd.spotfire.dxp': ['dxp'],\n  'application/vnd.spotfire.sfs': ['sfs'],\n  'application/vnd.stardivision.calc': ['sdc'],\n  'application/vnd.stardivision.draw': ['sda'],\n  'application/vnd.stardivision.impress': ['sdd'],\n  'application/vnd.stardivision.math': ['smf'],\n  'application/vnd.stardivision.writer': ['sdw', 'vor'],\n  'application/vnd.stardivision.writer-global': ['sgl'],\n  'application/vnd.stepmania.package': ['smzip'],\n  'application/vnd.stepmania.stepchart': ['sm'],\n  'application/vnd.sun.wadl+xml': ['wadl'],\n  'application/vnd.sun.xml.calc': ['sxc'],\n  'application/vnd.sun.xml.calc.template': ['stc'],\n  'application/vnd.sun.xml.draw': ['sxd'],\n  'application/vnd.sun.xml.draw.template': ['std'],\n  'application/vnd.sun.xml.impress': ['sxi'],\n  'application/vnd.sun.xml.impress.template': ['sti'],\n  'application/vnd.sun.xml.math': ['sxm'],\n  'application/vnd.sun.xml.writer': ['sxw'],\n  'application/vnd.sun.xml.writer.global': ['sxg'],\n  'application/vnd.sun.xml.writer.template': ['stw'],\n  'application/vnd.sus-calendar': ['sus', 'susp'],\n  'application/vnd.svd': ['svd'],\n  'application/vnd.symbian.install': ['sis', 'sisx'],\n  'application/vnd.syncml+xml': ['xsm'],\n  'application/vnd.syncml.dm+wbxml': ['bdm'],\n  'application/vnd.syncml.dm+xml': ['xdm'],\n  'application/vnd.tao.intent-module-archive': ['tao'],\n  'application/vnd.tcpdump.pcap': ['pcap', 'cap', 'dmp'],\n  'application/vnd.tmobile-livetv': ['tmo'],\n  'application/vnd.trid.tpt': ['tpt'],\n  'application/vnd.triscape.mxs': ['mxs'],\n  'application/vnd.trueapp': ['tra'],\n  'application/vnd.ufdl': ['ufd', 'ufdl'],\n  'application/vnd.uiq.theme': ['utz'],\n  'application/vnd.umajin': ['umj'],\n  'application/vnd.unity': ['unityweb'],\n  'application/vnd.uoml+xml': ['uoml'],\n  'application/vnd.vcx': ['vcx'],\n  'application/vnd.visio': ['vsd', 'vst', 'vss', 'vsw'],\n  'application/vnd.visionary': ['vis'],\n  'application/vnd.vsf': ['vsf'],\n  'application/vnd.wap.wbxml': ['wbxml'],\n  'application/vnd.wap.wmlc': ['wmlc'],\n  'application/vnd.wap.wmlscriptc': ['wmlsc'],\n  'application/vnd.webturbo': ['wtb'],\n  'application/vnd.wolfram.player': ['nbp'],\n  'application/vnd.wordperfect': ['wpd'],\n  'application/vnd.wqd': ['wqd'],\n  'application/vnd.wt.stf': ['stf'],\n  'application/vnd.xara': ['xar'],\n  'application/vnd.xfdl': ['xfdl'],\n  'application/vnd.yamaha.hv-dic': ['hvd'],\n  'application/vnd.yamaha.hv-script': ['hvs'],\n  'application/vnd.yamaha.hv-voice': ['hvp'],\n  'application/vnd.yamaha.openscoreformat': ['osf'],\n  'application/vnd.yamaha.openscoreformat.osfpvg+xml': ['osfpvg'],\n  'application/vnd.yamaha.smaf-audio': ['saf'],\n  'application/vnd.yamaha.smaf-phrase': ['spf'],\n  'application/vnd.yellowriver-custom-menu': ['cmp'],\n  'application/vnd.zul': ['zir', 'zirz'],\n  'application/vnd.zzazz.deck+xml': ['zaz'],\n  'application/x-7z-compressed': ['7z'],\n  'application/x-abiword': ['abw'],\n  'application/x-ace-compressed': ['ace'],\n  'application/x-apple-diskimage': ['*dmg'],\n  'application/x-arj': ['arj'],\n  'application/x-authorware-bin': ['aab', 'x32', 'u32', 'vox'],\n  'application/x-authorware-map': ['aam'],\n  'application/x-authorware-seg': ['aas'],\n  'application/x-bcpio': ['bcpio'],\n  'application/x-bdoc': ['*bdoc'],\n  'application/x-bittorrent': ['torrent'],\n  'application/x-blorb': ['blb', 'blorb'],\n  'application/x-bzip': ['bz'],\n  'application/x-bzip2': ['bz2', 'boz'],\n  'application/x-cbr': ['cbr', 'cba', 'cbt', 'cbz', 'cb7'],\n  'application/x-cdlink': ['vcd'],\n  'application/x-cfs-compressed': ['cfs'],\n  'application/x-chat': ['chat'],\n  'application/x-chess-pgn': ['pgn'],\n  'application/x-chrome-extension': ['crx'],\n  'application/x-cocoa': ['cco'],\n  'application/x-conference': ['nsc'],\n  'application/x-cpio': ['cpio'],\n  'application/x-csh': ['csh'],\n  'application/x-debian-package': ['*deb', 'udeb'],\n  'application/x-dgc-compressed': ['dgc'],\n  'application/x-director': ['dir', 'dcr', 'dxr', 'cst', 'cct', 'cxt', 'w3d', 'fgd', 'swa'],\n  'application/x-doom': ['wad'],\n  'application/x-dtbncx+xml': ['ncx'],\n  'application/x-dtbook+xml': ['dtb'],\n  'application/x-dtbresource+xml': ['res'],\n  'application/x-dvi': ['dvi'],\n  'application/x-envoy': ['evy'],\n  'application/x-eva': ['eva'],\n  'application/x-font-bdf': ['bdf'],\n  'application/x-font-ghostscript': ['gsf'],\n  'application/x-font-linux-psf': ['psf'],\n  'application/x-font-pcf': ['pcf'],\n  'application/x-font-snf': ['snf'],\n  'application/x-font-type1': ['pfa', 'pfb', 'pfm', 'afm'],\n  'application/x-freearc': ['arc'],\n  'application/x-futuresplash': ['spl'],\n  'application/x-gca-compressed': ['gca'],\n  'application/x-glulx': ['ulx'],\n  'application/x-gnumeric': ['gnumeric'],\n  'application/x-gramps-xml': ['gramps'],\n  'application/x-gtar': ['gtar'],\n  'application/x-hdf': ['hdf'],\n  'application/x-httpd-php': ['php'],\n  'application/x-install-instructions': ['install'],\n  'application/x-iso9660-image': ['*iso'],\n  'application/x-java-archive-diff': ['jardiff'],\n  'application/x-java-jnlp-file': ['jnlp'],\n  'application/x-latex': ['latex'],\n  'application/x-lua-bytecode': ['luac'],\n  'application/x-lzh-compressed': ['lzh', 'lha'],\n  'application/x-makeself': ['run'],\n  'application/x-mie': ['mie'],\n  'application/x-mobipocket-ebook': ['prc', 'mobi'],\n  'application/x-ms-application': ['application'],\n  'application/x-ms-shortcut': ['lnk'],\n  'application/x-ms-wmd': ['wmd'],\n  'application/x-ms-wmz': ['wmz'],\n  'application/x-ms-xbap': ['xbap'],\n  'application/x-msaccess': ['mdb'],\n  'application/x-msbinder': ['obd'],\n  'application/x-mscardfile': ['crd'],\n  'application/x-msclip': ['clp'],\n  'application/x-msdos-program': ['*exe'],\n  'application/x-msdownload': ['*exe', '*dll', 'com', 'bat', '*msi'],\n  'application/x-msmediaview': ['mvb', 'm13', 'm14'],\n  'application/x-msmetafile': ['*wmf', '*wmz', '*emf', 'emz'],\n  'application/x-msmoney': ['mny'],\n  'application/x-mspublisher': ['pub'],\n  'application/x-msschedule': ['scd'],\n  'application/x-msterminal': ['trm'],\n  'application/x-mswrite': ['wri'],\n  'application/x-netcdf': ['nc', 'cdf'],\n  'application/x-ns-proxy-autoconfig': ['pac'],\n  'application/x-nzb': ['nzb'],\n  'application/x-perl': ['pl', 'pm'],\n  'application/x-pilot': ['*prc', '*pdb'],\n  'application/x-pkcs12': ['p12', 'pfx'],\n  'application/x-pkcs7-certificates': ['p7b', 'spc'],\n  'application/x-pkcs7-certreqresp': ['p7r'],\n  'application/x-rar-compressed': ['rar'],\n  'application/x-redhat-package-manager': ['rpm'],\n  'application/x-research-info-systems': ['ris'],\n  'application/x-sea': ['sea'],\n  'application/x-sh': ['sh'],\n  'application/x-shar': ['shar'],\n  'application/x-shockwave-flash': ['swf'],\n  'application/x-silverlight-app': ['xap'],\n  'application/x-sql': ['sql'],\n  'application/x-stuffit': ['sit'],\n  'application/x-stuffitx': ['sitx'],\n  'application/x-subrip': ['srt'],\n  'application/x-sv4cpio': ['sv4cpio'],\n  'application/x-sv4crc': ['sv4crc'],\n  'application/x-t3vm-image': ['t3'],\n  'application/x-tads': ['gam'],\n  'application/x-tar': ['tar'],\n  'application/x-tcl': ['tcl', 'tk'],\n  'application/x-tex': ['tex'],\n  'application/x-tex-tfm': ['tfm'],\n  'application/x-texinfo': ['texinfo', 'texi'],\n  'application/x-tgif': ['obj'],\n  'application/x-ustar': ['ustar'],\n  'application/x-virtualbox-hdd': ['hdd'],\n  'application/x-virtualbox-ova': ['ova'],\n  'application/x-virtualbox-ovf': ['ovf'],\n  'application/x-virtualbox-vbox': ['vbox'],\n  'application/x-virtualbox-vbox-extpack': ['vbox-extpack'],\n  'application/x-virtualbox-vdi': ['vdi'],\n  'application/x-virtualbox-vhd': ['vhd'],\n  'application/x-virtualbox-vmdk': ['vmdk'],\n  'application/x-wais-source': ['src'],\n  'application/x-web-app-manifest+json': ['webapp'],\n  'application/x-x509-ca-cert': ['der', 'crt', 'pem'],\n  'application/x-xfig': ['fig'],\n  'application/x-xliff+xml': ['xlf'],\n  'application/x-xpinstall': ['xpi'],\n  'application/x-xz': ['xz'],\n  'application/x-zmachine': ['z1', 'z2', 'z3', 'z4', 'z5', 'z6', 'z7', 'z8'],\n  'audio/vnd.dece.audio': ['uva', 'uvva'],\n  'audio/vnd.digital-winds': ['eol'],\n  'audio/vnd.dra': ['dra'],\n  'audio/vnd.dts': ['dts'],\n  'audio/vnd.dts.hd': ['dtshd'],\n  'audio/vnd.lucent.voice': ['lvp'],\n  'audio/vnd.ms-playready.media.pya': ['pya'],\n  'audio/vnd.nuera.ecelp4800': ['ecelp4800'],\n  'audio/vnd.nuera.ecelp7470': ['ecelp7470'],\n  'audio/vnd.nuera.ecelp9600': ['ecelp9600'],\n  'audio/vnd.rip': ['rip'],\n  'audio/x-aac': ['aac'],\n  'audio/x-aiff': ['aif', 'aiff', 'aifc'],\n  'audio/x-caf': ['caf'],\n  'audio/x-flac': ['flac'],\n  'audio/x-m4a': ['*m4a'],\n  'audio/x-matroska': ['mka'],\n  'audio/x-mpegurl': ['m3u'],\n  'audio/x-ms-wax': ['wax'],\n  'audio/x-ms-wma': ['wma'],\n  'audio/x-pn-realaudio': ['ram', 'ra'],\n  'audio/x-pn-realaudio-plugin': ['rmp'],\n  'audio/x-realaudio': ['*ra'],\n  'audio/x-wav': ['*wav'],\n  'chemical/x-cdx': ['cdx'],\n  'chemical/x-cif': ['cif'],\n  'chemical/x-cmdf': ['cmdf'],\n  'chemical/x-cml': ['cml'],\n  'chemical/x-csml': ['csml'],\n  'chemical/x-xyz': ['xyz'],\n  'image/prs.btif': ['btif'],\n  'image/prs.pti': ['pti'],\n  'image/vnd.adobe.photoshop': ['psd'],\n  'image/vnd.airzip.accelerator.azv': ['azv'],\n  'image/vnd.dece.graphic': ['uvi', 'uvvi', 'uvg', 'uvvg'],\n  'image/vnd.djvu': ['djvu', 'djv'],\n  'image/vnd.dvb.subtitle': ['*sub'],\n  'image/vnd.dwg': ['dwg'],\n  'image/vnd.dxf': ['dxf'],\n  'image/vnd.fastbidsheet': ['fbs'],\n  'image/vnd.fpx': ['fpx'],\n  'image/vnd.fst': ['fst'],\n  'image/vnd.fujixerox.edmics-mmr': ['mmr'],\n  'image/vnd.fujixerox.edmics-rlc': ['rlc'],\n  'image/vnd.microsoft.icon': ['ico'],\n  'image/vnd.ms-modi': ['mdi'],\n  'image/vnd.ms-photo': ['wdp'],\n  'image/vnd.net-fpx': ['npx'],\n  'image/vnd.tencent.tap': ['tap'],\n  'image/vnd.valve.source.texture': ['vtf'],\n  'image/vnd.wap.wbmp': ['wbmp'],\n  'image/vnd.xiff': ['xif'],\n  'image/vnd.zbrush.pcx': ['pcx'],\n  'image/x-3ds': ['3ds'],\n  'image/x-cmu-raster': ['ras'],\n  'image/x-cmx': ['cmx'],\n  'image/x-freehand': ['fh', 'fhc', 'fh4', 'fh5', 'fh7'],\n  'image/x-icon': ['*ico'],\n  'image/x-jng': ['jng'],\n  'image/x-mrsid-image': ['sid'],\n  'image/x-ms-bmp': ['*bmp'],\n  'image/x-pcx': ['*pcx'],\n  'image/x-pict': ['pic', 'pct'],\n  'image/x-portable-anymap': ['pnm'],\n  'image/x-portable-bitmap': ['pbm'],\n  'image/x-portable-graymap': ['pgm'],\n  'image/x-portable-pixmap': ['ppm'],\n  'image/x-rgb': ['rgb'],\n  'image/x-tga': ['tga'],\n  'image/x-xbitmap': ['xbm'],\n  'image/x-xpixmap': ['xpm'],\n  'image/x-xwindowdump': ['xwd'],\n  'message/vnd.wfa.wsc': ['wsc'],\n  'model/vnd.collada+xml': ['dae'],\n  'model/vnd.dwf': ['dwf'],\n  'model/vnd.gdl': ['gdl'],\n  'model/vnd.gtw': ['gtw'],\n  'model/vnd.mts': ['mts'],\n  'model/vnd.opengex': ['ogex'],\n  'model/vnd.parasolid.transmit.binary': ['x_b'],\n  'model/vnd.parasolid.transmit.text': ['x_t'],\n  'model/vnd.usdz+zip': ['usdz'],\n  'model/vnd.valve.source.compiled-map': ['bsp'],\n  'model/vnd.vtu': ['vtu'],\n  'text/prs.lines.tag': ['dsc'],\n  'text/vnd.curl': ['curl'],\n  'text/vnd.curl.dcurl': ['dcurl'],\n  'text/vnd.curl.mcurl': ['mcurl'],\n  'text/vnd.curl.scurl': ['scurl'],\n  'text/vnd.dvb.subtitle': ['sub'],\n  'text/vnd.fly': ['fly'],\n  'text/vnd.fmi.flexstor': ['flx'],\n  'text/vnd.graphviz': ['gv'],\n  'text/vnd.in3d.3dml': ['3dml'],\n  'text/vnd.in3d.spot': ['spot'],\n  'text/vnd.sun.j2me.app-descriptor': ['jad'],\n  'text/vnd.wap.wml': ['wml'],\n  'text/vnd.wap.wmlscript': ['wmls'],\n  'text/x-asm': ['s', 'asm'],\n  'text/x-c': ['c', 'cc', 'cxx', 'cpp', 'h', 'hh', 'dic'],\n  'text/x-component': ['htc'],\n  'text/x-fortran': ['f', 'for', 'f77', 'f90'],\n  'text/x-handlebars-template': ['hbs'],\n  'text/x-java-source': ['java'],\n  'text/x-lua': ['lua'],\n  'text/x-markdown': ['mkd'],\n  'text/x-nfo': ['nfo'],\n  'text/x-opml': ['opml'],\n  'text/x-org': ['*org'],\n  'text/x-pascal': ['p', 'pas'],\n  'text/x-processing': ['pde'],\n  'text/x-sass': ['sass'],\n  'text/x-scss': ['scss'],\n  'text/x-setext': ['etx'],\n  'text/x-sfv': ['sfv'],\n  'text/x-suse-ymp': ['ymp'],\n  'text/x-uuencode': ['uu'],\n  'text/x-vcalendar': ['vcs'],\n  'text/x-vcard': ['vcf'],\n  'video/vnd.dece.hd': ['uvh', 'uvvh'],\n  'video/vnd.dece.mobile': ['uvm', 'uvvm'],\n  'video/vnd.dece.pd': ['uvp', 'uvvp'],\n  'video/vnd.dece.sd': ['uvs', 'uvvs'],\n  'video/vnd.dece.video': ['uvv', 'uvvv'],\n  'video/vnd.dvb.file': ['dvb'],\n  'video/vnd.fvt': ['fvt'],\n  'video/vnd.mpegurl': ['mxu', 'm4u'],\n  'video/vnd.ms-playready.media.pyv': ['pyv'],\n  'video/vnd.uvvu.mp4': ['uvu', 'uvvu'],\n  'video/vnd.vivo': ['viv'],\n  'video/x-f4v': ['f4v'],\n  'video/x-fli': ['fli'],\n  'video/x-flv': ['flv'],\n  'video/x-m4v': ['m4v'],\n  'video/x-matroska': ['mkv', 'mk3d', 'mks'],\n  'video/x-mng': ['mng'],\n  'video/x-ms-asf': ['asf', 'asx'],\n  'video/x-ms-vob': ['vob'],\n  'video/x-ms-wm': ['wm'],\n  'video/x-ms-wmv': ['wmv'],\n  'video/x-ms-wmx': ['wmx'],\n  'video/x-ms-wvx': ['wvx'],\n  'video/x-msvideo': ['avi'],\n  'video/x-sgi-movie': ['movie'],\n  'video/x-smv': ['smv'],\n  'x-conference/x-cooltalk': ['ice'],\n  'application/x-msi': 'msi',\n  'application/x-ms': 'ms',\n  'application/vnd.geo+json': 'geojson',\n  'application/vnd.debian.binary-package': 'deb',\n  'application/font-woff': 'woff',\n  'application/font-woff2': 'woff2',\n  'application/x-font-ttf': ['ttc', 'ttf'],\n  'font/opentype': 'otf',\n  'application/x-bb-appworld': 'bbaw',\n  'application/x-cd-image': 'iso',\n  'application/x-opera-extension': 'oex',\n  'application/x-ms-dos-executable': 'exe',\n  'text/vnd.rim.location.xloc': 'xloc',\n  'application/x-desktop': 'desktop',\n  'application/x-typescript': 'ts',\n  'application/x-java-archive': 'jar',\n  'application/x-sharedlib': 'so',\n};\n", "/*\n * Copyright (c) 2019 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as SparkMD5 from 'spark-md5';\nvar mobileRegexp = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;\n/**\n * Calculates a MD5 checksum for passed buffer\n * @private\n * @param data  Data to be hashed\n * @returns     base64 encoded MD5 hash\n */\nexport var md5 = function (data) {\n    /* istanbul ignore next */\n    return btoa(SparkMD5.ArrayBuffer.hash(data, true));\n};\n/**\n * return based string\n *\n * @param data\n */\nexport var b64 = function (data, safeUrl) {\n    if (safeUrl === void 0) { safeUrl = false; }\n    var b64 = btoa(data);\n    if (safeUrl) {\n        return b64.replace(/\\//g, '_').replace(/\\+/g, '-');\n    }\n    return b64;\n};\n/**\n * Return currently used filestack-js sdk version\n */\nexport var getVersion = function () {\n    return 'JS-3.26.1';\n};\n/**\n * Returns if browser is a mobile device (if node env always return false)\n */\n/* istanbul ignore next */\nexport var isMobile = function () { return navigator && navigator.userAgent && mobileRegexp.test(navigator.userAgent); };\n/**\n * Check if application is runned in facebook browser\n */\nexport var isFacebook = function () { return navigator && navigator.userAgent && /\\[FB.*;/i.test(navigator.userAgent); };\n\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvdXRpbHMvaW5kZXguYnJvd3Nlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7O0dBZUc7QUFDSCxPQUFPLEtBQUssUUFBUSxNQUFNLFdBQVcsQ0FBQztBQUV0QyxJQUFNLFlBQVksR0FBRyw0VkFBNFYsQ0FBQztBQUVsWDs7Ozs7R0FLRztBQUNILE1BQU0sQ0FBQyxJQUFNLEdBQUcsR0FBRyxVQUFDLElBQVM7SUFDM0IsMEJBQTBCO0lBQzFCLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3JELENBQUMsQ0FBQztBQUVGOzs7O0dBSUc7QUFDSCxNQUFNLENBQUMsSUFBTSxHQUFHLEdBQUcsVUFBQyxJQUFZLEVBQUUsT0FBd0I7SUFBeEIsd0JBQUEsRUFBQSxlQUF3QjtJQUN4RCxJQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFFdkIsSUFBSSxPQUFPLEVBQUU7UUFDWCxPQUFPLEdBQUcsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7S0FDcEQ7SUFFRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMsQ0FBQztBQUVGOztHQUVHO0FBQ0gsTUFBTSxDQUFDLElBQU0sVUFBVSxHQUFHO0lBQ3hCLE9BQU8sZUFBZSxDQUFDO0FBQ3pCLENBQUMsQ0FBQztBQUVGOztHQUVHO0FBQ0gsMEJBQTBCO0FBQzFCLE1BQU0sQ0FBQyxJQUFNLFFBQVEsR0FBRyxjQUFNLE9BQUEsU0FBUyxJQUFJLFNBQVMsQ0FBQyxTQUFTLElBQUksWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEVBQTFFLENBQTBFLENBQUM7QUFFekc7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSxVQUFVLEdBQUcsY0FBTSxPQUFBLFNBQVMsSUFBSSxTQUFTLENBQUMsU0FBUyxJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxFQUF4RSxDQUF3RSxDQUFDIiwiZmlsZSI6ImxpYi91dGlscy9pbmRleC5icm93c2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAoYykgMjAxOSBieSBGaWxlc3RhY2suXG4gKiBTb21lIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCAqIGFzIFNwYXJrTUQ1IGZyb20gJ3NwYXJrLW1kNSc7XG5cbmNvbnN0IG1vYmlsZVJlZ2V4cCA9IC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllc1s0Nl0wfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIChjZXxwaG9uZSl8eGRhfHhpaW5vfGFuZHJvaWR8aXBhZHxwbGF5Ym9va3xzaWxrL2k7XG5cbi8qKlxuICogQ2FsY3VsYXRlcyBhIE1ENSBjaGVja3N1bSBmb3IgcGFzc2VkIGJ1ZmZlclxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBkYXRhICBEYXRhIHRvIGJlIGhhc2hlZFxuICogQHJldHVybnMgICAgIGJhc2U2NCBlbmNvZGVkIE1ENSBoYXNoXG4gKi9cbmV4cG9ydCBjb25zdCBtZDUgPSAoZGF0YTogYW55KTogc3RyaW5nID0+IHtcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgcmV0dXJuIGJ0b2EoU3BhcmtNRDUuQXJyYXlCdWZmZXIuaGFzaChkYXRhLCB0cnVlKSk7XG59O1xuXG4vKipcbiAqIHJldHVybiBiYXNlZCBzdHJpbmdcbiAqXG4gKiBAcGFyYW0gZGF0YVxuICovXG5leHBvcnQgY29uc3QgYjY0ID0gKGRhdGE6IHN0cmluZywgc2FmZVVybDogYm9vbGVhbiA9IGZhbHNlKTogc3RyaW5nID0+IHtcbiAgY29uc3QgYjY0ID0gYnRvYShkYXRhKTtcblxuICBpZiAoc2FmZVVybCkge1xuICAgIHJldHVybiBiNjQucmVwbGFjZSgvXFwvL2csICdfJykucmVwbGFjZSgvXFwrL2csICctJyk7XG4gIH1cblxuICByZXR1cm4gYjY0O1xufTtcblxuLyoqXG4gKiBSZXR1cm4gY3VycmVudGx5IHVzZWQgZmlsZXN0YWNrLWpzIHNkayB2ZXJzaW9uXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRWZXJzaW9uID0gKCkgPT4ge1xuICByZXR1cm4gJ0pTLUB7VkVSU0lPTn0nO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGlmIGJyb3dzZXIgaXMgYSBtb2JpbGUgZGV2aWNlIChpZiBub2RlIGVudiBhbHdheXMgcmV0dXJuIGZhbHNlKVxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IGlzTW9iaWxlID0gKCkgPT4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbW9iaWxlUmVnZXhwLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbi8qKlxuICogQ2hlY2sgaWYgYXBwbGljYXRpb24gaXMgcnVubmVkIGluIGZhY2Vib29rIGJyb3dzZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGlzRmFjZWJvb2sgPSAoKSA9PiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiAvXFxbRkIuKjsvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuIl19\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { FsRequestOptions, FsResponse } from './types';\n\n/**\n * Filestack error codes (common for browser and node)\n *\n * @export\n * @enum {number}\n */\nexport enum FsRequestErrorCode {\n  ABORTED = 'ABORTED',\n  NETWORK = 'NETWORK',\n  TIMEOUT = 'TIMEDOUT',\n  SERVER = 'SERVER',\n  REQUEST = 'REQUEST',\n  OTHER = 'OTHER',\n  REDIRECT = 'REDIRECT',\n}\n\n/**\n * Custom Filestack Request error class\n *\n * @export\n * @class FsRequestError\n * @extends {Error}\n */\nexport class FsRequestError extends Error {\n  /**\n   * Error details, ie validation errors\n   *\n   * @type {*}\n   * @memberof FilestackError\n   */\n  public readonly config: FsRequestOptions;\n  public readonly response: FsResponse;\n  public readonly code: FsRequestErrorCode;\n\n  /**\n   * Creates an instance of FsRequestError.\n   *\n   * @param {string} message\n   * @param {*} config\n   * @param {FsResponse} [response]\n   * @param {FsRequestErrorCode} [code]\n   * @memberof FsRequestError\n   */\n  constructor(message: string, config: any, response?: FsResponse, code?: FsRequestErrorCode) {\n    /* istanbul ignore next */\n    super(message);\n\n    this.config = config;\n    this.response = response;\n    this.code = code;\n\n    // const captureStackTrace: Function = (Error as any).captureStackTrace;\n    // captureStackTrace && captureStackTrace(this);\n    fixProto(this, new.target.prototype);\n  }\n}\n\nfunction fixProto(target: Error, prototype: {}) {\n  const setPrototypeOf: Function = (Object as any).setPrototypeOf;\n  /* istanbul ignore next */\n  setPrototypeOf ? setPrototypeOf(target, prototype) : ((target as any).__proto__ = prototype);\n}\n", "/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n", "/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n\nimport { Primitive } from '@sentry/types';\n/**\n * Checks whether given value's type is one of a few Error or Error-like\n * {@link isError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isError(wat: any): boolean {\n  switch (Object.prototype.toString.call(wat)) {\n    case '[object Error]':\n      return true;\n    case '[object Exception]':\n      return true;\n    case '[object DOMException]':\n      return true;\n    default:\n      return isInstanceOf(wat, Error);\n  }\n}\n\n/**\n * Checks whether given value's type is ErrorEvent\n * {@link isErrorEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isErrorEvent(wat: any): boolean {\n  return Object.prototype.toString.call(wat) === '[object ErrorEvent]';\n}\n\n/**\n * Checks whether given value's type is DOMError\n * {@link isDOMError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isDOMError(wat: any): boolean {\n  return Object.prototype.toString.call(wat) === '[object DOMError]';\n}\n\n/**\n * Checks whether given value's type is DOMException\n * {@link isDOMException}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isDOMException(wat: any): boolean {\n  return Object.prototype.toString.call(wat) === '[object DOMException]';\n}\n\n/**\n * Checks whether given value's type is a string\n * {@link isString}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isString(wat: any): boolean {\n  return Object.prototype.toString.call(wat) === '[object String]';\n}\n\n/**\n * Checks whether given value's is a primitive (undefined, null, number, boolean, string, bigint, symbol)\n * {@link isPrimitive}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isPrimitive(wat: any): wat is Primitive {\n  return wat === null || (typeof wat !== 'object' && typeof wat !== 'function');\n}\n\n/**\n * Checks whether given value's type is an object literal\n * {@link isPlainObject}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isPlainObject(wat: any): boolean {\n  return Object.prototype.toString.call(wat) === '[object Object]';\n}\n\n/**\n * Checks whether given value's type is an Event instance\n * {@link isEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isEvent(wat: any): boolean {\n  return typeof Event !== 'undefined' && isInstanceOf(wat, Event);\n}\n\n/**\n * Checks whether given value's type is an Element instance\n * {@link isElement}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isElement(wat: any): boolean {\n  return typeof Element !== 'undefined' && isInstanceOf(wat, Element);\n}\n\n/**\n * Checks whether given value's type is an regexp\n * {@link isRegExp}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isRegExp(wat: any): boolean {\n  return Object.prototype.toString.call(wat) === '[object RegExp]';\n}\n\n/**\n * Checks whether given value has a then function.\n * @param wat A value to be checked.\n */\nexport function isThenable(wat: any): boolean {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return Boolean(wat && wat.then && typeof wat.then === 'function');\n}\n\n/**\n * Checks whether given value's type is a SyntheticEvent\n * {@link isSyntheticEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isSyntheticEvent(wat: any): boolean {\n  return isPlainObject(wat) && 'nativeEvent' in wat && 'preventDefault' in wat && 'stopPropagation' in wat;\n}\n/**\n * Checks whether given value's type is an instance of provided constructor.\n * {@link isInstanceOf}.\n *\n * @param wat A value to be checked.\n * @param base A constructor to be used in a check.\n * @returns A boolean representing the result.\n */\nexport function isInstanceOf(wat: any, base: any): boolean {\n  try {\n    return wat instanceof base;\n  } catch (_e) {\n    return false;\n  }\n}\n", "/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nexport var isBuffer = function () { return false; };\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nexport var isStream = function () { return false; };\n\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvcmVxdWVzdC91dGlscy5icm93c2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7R0FlRztBQUVIOzs7OztHQUtHO0FBQ0gsTUFBTSxDQUFDLElBQU0sUUFBUSxHQUFHLGNBQU0sT0FBQSxLQUFLLEVBQUwsQ0FBSyxDQUFDO0FBRXBDOzs7OztHQUtHO0FBQ0gsTUFBTSxDQUFDLElBQU0sUUFBUSxHQUFHLGNBQU0sT0FBQSxLQUFLLEVBQUwsQ0FBSyxDQUFDIiwiZmlsZSI6ImxpYi9yZXF1ZXN0L3V0aWxzLmJyb3dzZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE4IGJ5IEZpbGVzdGFja1xuICogU29tZSByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmV4cG9ydCBjb25zdCBpc0J1ZmZlciA9ICgpID0+IGZhbHNlO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5leHBvcnQgY29uc3QgaXNTdHJlYW0gPSAoKSA9PiBmYWxzZTtcbiJdfQ==\n", "/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nexport const isArray = (val: any[]) => Object.prototype.toString.call(val) === '[object Array]';\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nexport const isArrayBuffer = (val: ArrayBuffer) => Object.prototype.toString.call(val) === '[object ArrayBuffer]';\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nexport const isArrayBufferView = (val: ArrayBufferView) => {\n  let result;\n  if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = val && val.buffer && val.buffer instanceof ArrayBuffer;\n  }\n\n  return result;\n};\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nexport const isObject = (val: any) => val !== null && typeof val === 'object';\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nexport const isString = (val: any) => typeof val === 'string' || val instanceof String;\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nexport const isFile = (val: File) => Object.prototype.toString.call(val) === '[object File]';\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nexport const isBlob = (val: Blob) => Object.prototype.toString.call(val) === '[object Blob]';\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nexport const isURLSearchParams = (val: URLSearchParams) => typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n\n/**\n * Determine if value is form data\n *\n * @param val\n */\nexport const isFormData = val => typeof FormData !== 'undefined' && val instanceof FormData;\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nexport const trim = str => str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n\nexport * from './utils.node';\n", "/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { FsCancelToken } from './token';\n\nexport enum FsHttpMethod {\n  GET = 'GET',\n  DELETE = 'DELETE',\n  HEAD = 'HEAD',\n  PURGE = 'PURGE',\n  OPTIONS = 'OPTIONS',\n  POST = 'POST',\n  PUT = 'PUT',\n  PATH = 'PATH',\n}\n\nexport interface FsRetryConfig {\n  retry: number;\n  onRetry?: (requestConfig: any) => void;\n  retryMaxTime?: number;\n  retryFactor?: number;\n}\n\nexport interface FsAuthConfig {\n  username: string;\n  password: string;\n}\n\nexport interface FsRequestHeaders {\n  [name: string]: string;\n}\n\nexport interface FsRequestParams {\n  [name: string]: string | number;\n}\n\n/**\n * Request runtime data like retryCount etc\n */\nexport interface FsRequestRuntime {\n  retryCount?: number;\n  [name: string]: any;\n}\n\nexport interface FsRequestOptions {\n  url?: string;\n  data?: any;\n  method?: FsHttpMethod;\n  mode?: RequestMode;\n  cache?: RequestCache;\n  redirect?: RequestRedirect;\n  params?: FsRequestParams;\n  filestackHeaders?: boolean;\n  headers?: FsRequestHeaders;\n  blobResponse?: boolean; // blob response only for browsers\n  timeout?: number;\n  cancelToken?: FsCancelToken;\n  retry?: FsRetryConfig;\n  onProgress?: (pr: ProgressEvent) => any;\n  auth?: FsAuthConfig;\n  runtime?: FsRequestRuntime;\n}\n\nexport interface FsResponse {\n  status: number;\n  statusText: string;\n  headers: any;\n  data: any;\n  config: FsRequestOptions;\n}\n", "'use strict';\n\nconst nameStartChar = ':A-Za-z_\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\nconst nameChar = nameStartChar + '\\\\-.\\\\d\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040';\nconst nameRegexp = '[' + nameStartChar + '][' + nameChar + ']*'\nconst regexName = new RegExp('^' + nameRegexp + '$');\n\nconst getAllMatches = function(string, regex) {\n  const matches = [];\n  let match = regex.exec(string);\n  while (match) {\n    const allmatches = [];\n    const len = match.length;\n    for (let index = 0; index < len; index++) {\n      allmatches.push(match[index]);\n    }\n    matches.push(allmatches);\n    match = regex.exec(string);\n  }\n  return matches;\n};\n\nconst isName = function(string) {\n  const match = regexName.exec(string);\n  return !(match === null || typeof match === 'undefined');\n};\n\nexports.isExist = function(v) {\n  return typeof v !== 'undefined';\n};\n\nexports.isEmptyObject = function(obj) {\n  return Object.keys(obj).length === 0;\n};\n\n/**\n * Copy all the properties of a into b.\n * @param {*} target\n * @param {*} a\n */\nexports.merge = function(target, a, arrayMode) {\n  if (a) {\n    const keys = Object.keys(a); // will return an array of own properties\n    const len = keys.length; //don't make it inline\n    for (let i = 0; i < len; i++) {\n      if(arrayMode === 'strict'){\n        target[keys[i]] = [ a[keys[i]] ];\n      }else{\n        target[keys[i]] = a[keys[i]];\n      }\n    }\n  }\n};\n/* exports.merge =function (b,a){\n  return Object.assign(b,a);\n} */\n\nexports.getValue = function(v) {\n  if (exports.isExist(v)) {\n    return v;\n  } else {\n    return '';\n  }\n};\n\n// const fakeCall = function(a) {return a;};\n// const fakeCallNoReturn = function() {};\n\nexports.buildOptions = function(options, defaultOptions, props) {\n  var newOptions = {};\n  if (!options) {\n    return defaultOptions; //if there are not options\n  }\n\n  for (let i = 0; i < props.length; i++) {\n    if (options[props[i]] !== undefined) {\n      newOptions[props[i]] = options[props[i]];\n    } else {\n      newOptions[props[i]] = defaultOptions[props[i]];\n    }\n  }\n  return newOptions;\n};\n\nexports.isName = isName;\nexports.getAllMatches = getAllMatches;\nexports.nameRegexp = nameRegexp;\n", "'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n", "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Event, Integration, StackFrame, WrappedFunction } from '@sentry/types';\n\nimport { isNodeEnv } from './node';\nimport { snipLine } from './string';\n\n/** Internal */\ninterface SentryGlobal {\n  Sentry?: {\n    Integrations?: Integration[];\n  };\n  SENTRY_ENVIRONMENT?: string;\n  SENTRY_DSN?: string;\n  SENTRY_RELEASE?: {\n    id?: string;\n  };\n  __SENTRY__: {\n    globalEventProcessors: any;\n    hub: any;\n    logger: any;\n  };\n}\n\nconst fallbackGlobalObject = {};\n\n/**\n * Safely get global scope object\n *\n * @returns Global scope object\n */\nexport function getGlobalObject<T>(): T & SentryGlobal {\n  return (isNodeEnv()\n    ? global\n    : typeof window !== 'undefined'\n    ? window\n    : typeof self !== 'undefined'\n    ? self\n    : fallbackGlobalObject) as T & SentryGlobal;\n}\n\n/**\n * Extended Window interface that allows for Crypto API usage in IE browsers\n */\ninterface MsCryptoWindow extends Window {\n  msCrypto?: Crypto;\n}\n\n/**\n * UUID4 generator\n *\n * @returns string Generated UUID4.\n */\nexport function uuid4(): string {\n  const global = getGlobalObject() as MsCryptoWindow;\n  const crypto = global.crypto || global.msCrypto;\n\n  if (!(crypto === void 0) && crypto.getRandomValues) {\n    // Use window.crypto API if available\n    const arr = new Uint16Array(8);\n    crypto.getRandomValues(arr);\n\n    // set 4 in byte 7\n    // eslint-disable-next-line no-bitwise\n    arr[3] = (arr[3] & 0xfff) | 0x4000;\n    // set 2 most significant bits of byte 9 to '10'\n    // eslint-disable-next-line no-bitwise\n    arr[4] = (arr[4] & 0x3fff) | 0x8000;\n\n    const pad = (num: number): string => {\n      let v = num.toString(16);\n      while (v.length < 4) {\n        v = `0${v}`;\n      }\n      return v;\n    };\n\n    return (\n      pad(arr[0]) + pad(arr[1]) + pad(arr[2]) + pad(arr[3]) + pad(arr[4]) + pad(arr[5]) + pad(arr[6]) + pad(arr[7])\n    );\n  }\n  // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n  return 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    // eslint-disable-next-line no-bitwise\n    const r = (Math.random() * 16) | 0;\n    // eslint-disable-next-line no-bitwise\n    const v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\n/**\n * Parses string form of URL into an object\n * // borrowed from https://tools.ietf.org/html/rfc3986#appendix-B\n * // intentionally using regex and not <a/> href parsing trick because React Native and other\n * // environments where DOM might not be available\n * @returns parsed URL object\n */\nexport function parseUrl(\n  url: string,\n): {\n  host?: string;\n  path?: string;\n  protocol?: string;\n  relative?: string;\n} {\n  if (!url) {\n    return {};\n  }\n\n  const match = url.match(/^(([^:/?#]+):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/);\n\n  if (!match) {\n    return {};\n  }\n\n  // coerce to undefined values to empty string so we don't get 'undefined'\n  const query = match[6] || '';\n  const fragment = match[8] || '';\n  return {\n    host: match[4],\n    path: match[5],\n    protocol: match[2],\n    relative: match[5] + query + fragment, // everything minus origin\n  };\n}\n\n/**\n * Extracts either message or type+value from an event that can be used for user-facing logs\n * @returns event's description\n */\nexport function getEventDescription(event: Event): string {\n  if (event.message) {\n    return event.message;\n  }\n  if (event.exception && event.exception.values && event.exception.values[0]) {\n    const exception = event.exception.values[0];\n\n    if (exception.type && exception.value) {\n      return `${exception.type}: ${exception.value}`;\n    }\n    return exception.type || exception.value || event.event_id || '<unknown>';\n  }\n  return event.event_id || '<unknown>';\n}\n\n/** JSDoc */\ninterface ExtensibleConsole extends Console {\n  [key: string]: any;\n}\n\n/** JSDoc */\nexport function consoleSandbox(callback: () => any): any {\n  const global = getGlobalObject<Window>();\n  const levels = ['debug', 'info', 'warn', 'error', 'log', 'assert'];\n\n  if (!('console' in global)) {\n    return callback();\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  const originalConsole = (global as any).console as ExtensibleConsole;\n  const wrappedLevels: { [key: string]: any } = {};\n\n  // Restore all wrapped console methods\n  levels.forEach(level => {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    if (level in (global as any).console && (originalConsole[level] as WrappedFunction).__sentry_original__) {\n      wrappedLevels[level] = originalConsole[level] as WrappedFunction;\n      originalConsole[level] = (originalConsole[level] as WrappedFunction).__sentry_original__;\n    }\n  });\n\n  // Perform callback manipulations\n  const result = callback();\n\n  // Revert restoration to wrapped state\n  Object.keys(wrappedLevels).forEach(level => {\n    originalConsole[level] = wrappedLevels[level];\n  });\n\n  return result;\n}\n\n/**\n * Adds exception values, type and value to an synthetic Exception.\n * @param event The event to modify.\n * @param value Value of the exception.\n * @param type Type of the exception.\n * @hidden\n */\nexport function addExceptionTypeValue(event: Event, value?: string, type?: string): void {\n  event.exception = event.exception || {};\n  event.exception.values = event.exception.values || [];\n  event.exception.values[0] = event.exception.values[0] || {};\n  event.exception.values[0].value = event.exception.values[0].value || value || '';\n  event.exception.values[0].type = event.exception.values[0].type || type || 'Error';\n}\n\n/**\n * Adds exception mechanism to a given event.\n * @param event The event to modify.\n * @param mechanism Mechanism of the mechanism.\n * @hidden\n */\nexport function addExceptionMechanism(\n  event: Event,\n  mechanism: {\n    [key: string]: any;\n  } = {},\n): void {\n  // TODO: Use real type with `keyof Mechanism` thingy and maybe make it better?\n  try {\n    // @ts-ignore Type 'Mechanism | {}' is not assignable to type 'Mechanism | undefined'\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    event.exception!.values![0].mechanism = event.exception!.values![0].mechanism || {};\n    Object.keys(mechanism).forEach(key => {\n      // @ts-ignore Mechanism has no index signature\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      event.exception!.values![0].mechanism[key] = mechanism[key];\n    });\n  } catch (_oO) {\n    // no-empty\n  }\n}\n\n/**\n * A safe form of location.href\n */\nexport function getLocationHref(): string {\n  try {\n    return document.location.href;\n  } catch (oO) {\n    return '';\n  }\n}\n\n// https://semver.org/#is-there-a-suggested-regular-expression-regex-to-check-a-semver-string\nconst SEMVER_REGEXP = /^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$/;\n\n/**\n * Represents Semantic Versioning object\n */\ninterface SemVer {\n  major?: number;\n  minor?: number;\n  patch?: number;\n  prerelease?: string;\n  buildmetadata?: string;\n}\n\n/**\n * Parses input into a SemVer interface\n * @param input string representation of a semver version\n */\nexport function parseSemver(input: string): SemVer {\n  const match = input.match(SEMVER_REGEXP) || [];\n  const major = parseInt(match[1], 10);\n  const minor = parseInt(match[2], 10);\n  const patch = parseInt(match[3], 10);\n  return {\n    buildmetadata: match[5],\n    major: isNaN(major) ? undefined : major,\n    minor: isNaN(minor) ? undefined : minor,\n    patch: isNaN(patch) ? undefined : patch,\n    prerelease: match[4],\n  };\n}\n\nconst defaultRetryAfter = 60 * 1000; // 60 seconds\n\n/**\n * Extracts Retry-After value from the request header or returns default value\n * @param now current unix timestamp\n * @param header string representation of 'Retry-After' header\n */\nexport function parseRetryAfterHeader(now: number, header?: string | number | null): number {\n  if (!header) {\n    return defaultRetryAfter;\n  }\n\n  const headerDelay = parseInt(`${header}`, 10);\n  if (!isNaN(headerDelay)) {\n    return headerDelay * 1000;\n  }\n\n  const headerDate = Date.parse(`${header}`);\n  if (!isNaN(headerDate)) {\n    return headerDate - now;\n  }\n\n  return defaultRetryAfter;\n}\n\n/**\n * This function adds context (pre/post/line) lines to the provided frame\n *\n * @param lines string[] containing all lines\n * @param frame StackFrame that will be mutated\n * @param linesOfContext number of context lines we want to add pre/post\n */\nexport function addContextToFrame(lines: string[], frame: StackFrame, linesOfContext: number = 5): void {\n  const lineno = frame.lineno || 0;\n  const maxLines = lines.length;\n  const sourceLine = Math.max(Math.min(maxLines, lineno - 1), 0);\n\n  frame.pre_context = lines\n    .slice(Math.max(0, sourceLine - linesOfContext), sourceLine)\n    .map((line: string) => snipLine(line, 0));\n\n  frame.context_line = snipLine(lines[Math.min(maxLines - 1, sourceLine)], frame.colno || 0);\n\n  frame.post_context = lines\n    .slice(Math.min(sourceLine + 1, maxLines), sourceLine + 1 + linesOfContext)\n    .map((line: string) => snipLine(line, 0));\n}\n\n/**\n * Strip the query string and fragment off of a given URL or path (if present)\n *\n * @param urlPath Full URL or path, including possible query string and/or fragment\n * @returns URL or path without query string or fragment\n */\nexport function stripUrlQueryAndFragment(urlPath: string): string {\n  // eslint-disable-next-line no-useless-escape\n  return urlPath.split(/[\\?#]/, 1)[0];\n}\n", "import { isRegExp, isString } from './is';\n\n/**\n * Truncates given string to the maximum characters count\n *\n * @param str An object that contains serializable values\n * @param max Maximum number of characters in truncated string (0 = unlimited)\n * @returns string Encoded\n */\nexport function truncate(str: string, max: number = 0): string {\n  if (typeof str !== 'string' || max === 0) {\n    return str;\n  }\n  return str.length <= max ? str : `${str.substr(0, max)}...`;\n}\n\n/**\n * This is basically just `trim_line` from\n * https://github.com/getsentry/sentry/blob/master/src/sentry/lang/javascript/processor.py#L67\n *\n * @param str An object that contains serializable values\n * @param max Maximum number of characters in truncated string\n * @returns string Encoded\n */\nexport function snipLine(line: string, colno: number): string {\n  let newLine = line;\n  const ll = newLine.length;\n  if (ll <= 150) {\n    return newLine;\n  }\n  if (colno > ll) {\n    // eslint-disable-next-line no-param-reassign\n    colno = ll;\n  }\n\n  let start = Math.max(colno - 60, 0);\n  if (start < 5) {\n    start = 0;\n  }\n\n  let end = Math.min(start + 140, ll);\n  if (end > ll - 5) {\n    end = ll;\n  }\n  if (end === ll) {\n    start = Math.max(end - 140, 0);\n  }\n\n  newLine = newLine.slice(start, end);\n  if (start > 0) {\n    newLine = `'{snip} ${newLine}`;\n  }\n  if (end < ll) {\n    newLine += ' {snip}';\n  }\n\n  return newLine;\n}\n\n/**\n * Join values in array\n * @param input array of values to be joined together\n * @param delimiter string to be placed in-between values\n * @returns Joined values\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function safeJoin(input: any[], delimiter?: string): string {\n  if (!Array.isArray(input)) {\n    return '';\n  }\n\n  const output = [];\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let i = 0; i < input.length; i++) {\n    const value = input[i];\n    try {\n      output.push(String(value));\n    } catch (e) {\n      output.push('[value cannot be serialized]');\n    }\n  }\n\n  return output.join(delimiter);\n}\n\n/**\n * Checks if the value matches a regex or includes the string\n * @param value The string value to be checked against\n * @param pattern Either a regex or a string that must be contained in value\n */\nexport function isMatchingPattern(value: string, pattern: RegExp | string): boolean {\n  if (!isString(value)) {\n    return false;\n  }\n\n  if (isRegExp(pattern)) {\n    return (pattern as RegExp).test(value);\n  }\n  if (typeof pattern === 'string') {\n    return value.indexOf(pattern) !== -1;\n  }\n  return false;\n}\n", "/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n /**\n  * Save cookie in browser\n  *\n  * @param name\n  * @param value\n  * @param expires\n  * @param path\n  * @param domain\n  * @param secure\n  */\nexport const write = (name: string, value: string, expires?: number, path?: string, domain?: string, secure?: boolean) => {\n  const cookie = [];\n  cookie.push(name + '=' + encodeURIComponent(value));\n\n  if (expires) {\n    cookie.push('expires=' + new Date(expires).toUTCString());\n  }\n\n  if (path) {\n    cookie.push('path=' + path);\n  }\n\n  if (domain) {\n    cookie.push('domain=' + domain);\n  }\n\n  if (secure) {\n    cookie.push('secure');\n  }\n\n  document.cookie = cookie.join('; ');\n};\n\n/**\n * Read cookie from browser with given name\n *\n * @param name\n */\nexport const read = (name: string) => {\n  const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n  return (match ? decodeURIComponent(match[3]) : null);\n};\n\n/**\n * Clear cookie by name\n *\n * @param name\n */\nexport const remove = (name) => {\n  write(name, '', Date.now() - 86400000);\n};\n", "/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { trim } from './../utils';\nimport { FsRequestHeaders } from './../types';\n\nconst ignoreDuplicates = [\n  'expires',\n  'from',\n  'host',\n  'if-modified-since',\n  'if-unmodified-since',\n  'age',\n  'authorization',\n  'content-length',\n  'content-type',\n  'etag',\n  'last-modified',\n  'location',\n  'max-forwards',\n  'proxy-authorization',\n  'referer',\n  'retry-after',\n  'user-agent',\n];\n\n/**\n * Parse response raw header (xhr)\n *\n * @param {string} headers - raw headers string\n */\nexport const parse = headers => {\n  let parsed = {};\n  let key;\n  let val;\n  let i;\n\n  if (!headers) {\n    return parsed;\n  }\n\n  headers.split('\\n').forEach(line => {\n    i = line.indexOf(':');\n    key = trim(line.substr(0, i)).toLowerCase();\n    val = trim(line.substr(i + 1));\n\n    if (!key) {\n      return;\n    }\n\n    if (parsed[key] && ignoreDuplicates.indexOf(key) >= 0) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n\n/**\n * Normalize input headers\n *\n * @param headers\n */\nexport const normalizeHeaders = (headers: FsRequestHeaders): FsRequestHeaders => {\n  if (!headers) {\n    return {};\n  }\n\n  const toReturn = {};\n\n  for (let i in headers) {\n    toReturn[normalizeName(i)] =  headers[i];\n  }\n\n  return toReturn;\n};\n\n// expect(set({}, 'set-cookies', 'value')).toEqual({ 'Set-Cookies': 'value' });\n/**\n * Set request headers\n *\n * @param headers - object containing headers\n * @param name - header name\n * @param value - header value\n * @param setIFExists - determine if we should change header value if exists\n */\nexport const set = (headers: FsRequestHeaders, name: string, value: string, setIFExists = false) => {\n  const normalizedName = normalizeName(name);\n\n  if (!headers) {\n    headers = {};\n  }\n\n  // cleanup headers from undefined vals\n  headers = JSON.parse(JSON.stringify(headers));\n  if (headers[name] === undefined && headers[normalizedName] === undefined) {\n    headers[normalizedName] = value;\n  } else if (setIFExists) {\n    delete headers[name];\n    headers[normalizedName] = value;\n  }\n\n  return headers;\n};\n\n/**\n * Normalize header names according to rfc spec\n *\n * @param {string} name - header name\n */\nexport const normalizeName = (name: string) => {\n  // the exceptions\n  let result = {\n    'content-md5': 'Content-MD5',\n    dnt: 'DNT',\n    etag: 'ETag',\n    'last-event-id': 'Last-Event-ID',\n    tcn: 'TCN',\n    te: 'TE',\n    'www-authenticate': 'WWW-Authenticate',\n    'x-dnsprefetch-control': 'X-DNSPrefetch-Control',\n  }[name.toLowerCase()];\n\n  if (result) {\n    return result;\n  }\n\n  // the default\n  return name\n    .split('-')\n    .map(function(text) {\n      return text.charAt(0).toUpperCase() + text.substr(1).toLowerCase();\n    })\n    .join('-');\n};\n", "/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { isURLSearchParams, isObject, isStream, isFormData, isArrayBuffer, isFile, isBlob, isBuffer } from './../utils';\nimport { getVersion, uniqueId } from './../../utils';\nimport { FsRequestOptions, FsResponse } from './../types';\nimport { set } from './headers';\nimport * as parser from 'fast-xml-parser';\nimport Debug from 'debug';\n\nconst debug = Debug('fs:request:data');\n\n/**\n * Prepare request and set content-type header based on data\n *\n * @param headers\n * @param data\n */\nexport const prepareData = (config: FsRequestOptions) => {\n  // set filestack debug headers first\n  config = filestackHeaders(config);\n\n  if (isFormData(config.data) || isBuffer(config.data) || isStream(config.data) || isFile(config.data) || isBlob(config.data)) {\n    return config;\n  }\n\n  // @todo convert it to ArrayBufferView for browser\n  if (isArrayBuffer(config.data)) {\n    return config;\n  }\n\n  if (isURLSearchParams(config.data)) {\n    config.headers = set(config.headers, 'content-type', 'application/x-www-form-urlencoded;charset=utf-8');\n    config.data = config.data.toString();\n  } else if (isObject(config.data)) {\n    config.headers = set(config.headers, 'content-type', 'application/json', true);\n    config.data = JSON.stringify(config.data);\n  }\n\n  return config;\n};\n\n/**\n * Add filestack debug headers to request\n *\n * @param config\n */\nexport const filestackHeaders = (config: FsRequestOptions) => {\n  if (!config.filestackHeaders) {\n    return config;\n  }\n\n  config.headers = set(config.headers, 'filestack-source', getVersion());\n  config.headers = set(config.headers, 'filestack-trace-id', `${Math.floor(Date.now() / 1000)}-${uniqueId()}`);\n  config.headers = set(config.headers, 'filestack-trace-span', `jssdk-${uniqueId()}`);\n\n  return config;\n};\n\n/**\n * Prepare response data based on content type\n *\n * @param response\n */\nexport const parseResponse = async (response: FsResponse): Promise<FsResponse> => {\n  if (!response.headers || !response.headers['content-type']) {\n    return Promise.resolve(response);\n  }\n\n  const contentType = response.headers['content-type'];\n\n  if (/application\\/json/.test(contentType)) {\n    try {\n      response.data = JSON.parse(response.data);\n    } catch (e) {\n      debug('Cannot parse response %O - %O', response.data, response.headers);\n    }\n  } else if (/text\\/(plain|html)/.test(contentType)) {\n    if (isBuffer(response.data)) {\n      response.data = bufferToString(response.data);\n    }\n  } else if (/application\\/xml/.test(contentType)) {\n    let data = response.data;\n\n    if (isBuffer(response.data)) {\n      data = bufferToString(response.data);\n    }\n\n    if (parser.validate(data) === true) {\n      response.data = parser.parse(data, {\n        ignoreAttributes : true,\n        trimValues: true,\n      });\n    }\n  }\n\n  return Promise.resolve(response);\n};\n\nfunction bufferToString(buffer) {\n  const bufView = new Uint16Array(buffer);\n  const length = bufView.length;\n\n  let result = '';\n  let addition = Math.pow(2, 16) - 1;\n\n  for (let i = 0; i < length; i += addition) {\n    if (i + addition > length) {\n      addition = length - i;\n    }\n    result += String.fromCharCode.apply(null, bufView.subarray(i, i + addition));\n  }\n\n  return result;\n}\n", "/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Combine url with qs parameters\n *\n * @param {String} url base url\n * @param {Object} params Query string params object\n */\nexport const combineURL = (url, params) => {\n  if (!params) {\n    return url;\n  }\n\n  const serialized = urlfy(params);\n  const hashIndex = url.indexOf('#');\n\n  if (hashIndex !== -1) {\n    url = url.slice(0, hashIndex);\n  }\n\n  return url + (url.indexOf('?') === -1 ? '?' : '&') + serialized;\n};\n\n/**\n * Change request json params to url search ones\n *\n * @param {Object} obj Object to transform\n */\nexport const urlfy = val =>\n  Object.keys(val)\n    .filter(k => k && typeof val[k] !== 'undefined')\n    .map(k => `${encodeURIComponent(k)}=${encodeURIComponent(val[k])}`)\n    .join('&');\n", "'use strict';\n\nvar uri = require('url');\n\nvar ValidationError = exports.ValidationError = function ValidationError (message, instance, schema, propertyPath, name, argument) {\n  if (propertyPath) {\n    this.property = propertyPath;\n  }\n  if (message) {\n    this.message = message;\n  }\n  if (schema) {\n    if (schema.id) {\n      this.schema = schema.id;\n    } else {\n      this.schema = schema;\n    }\n  }\n  if (instance) {\n    this.instance = instance;\n  }\n  this.name = name;\n  this.argument = argument;\n  this.stack = this.toString();\n};\n\nValidationError.prototype.toString = function toString() {\n  return this.property + ' ' + this.message;\n};\n\nvar ValidatorResult = exports.ValidatorResult = function ValidatorResult(instance, schema, options, ctx) {\n  this.instance = instance;\n  this.schema = schema;\n  this.propertyPath = ctx.propertyPath;\n  this.errors = [];\n  this.throwError = options && options.throwError;\n  this.disableFormat = options && options.disableFormat === true;\n};\n\nValidatorResult.prototype.addError = function addError(detail) {\n  var err;\n  if (typeof detail == 'string') {\n    err = new ValidationError(detail, this.instance, this.schema, this.propertyPath);\n  } else {\n    if (!detail) throw new Error('Missing error detail');\n    if (!detail.message) throw new Error('Missing error message');\n    if (!detail.name) throw new Error('Missing validator type');\n    err = new ValidationError(detail.message, this.instance, this.schema, this.propertyPath, detail.name, detail.argument);\n  }\n\n  if (this.throwError) {\n    throw err;\n  }\n  this.errors.push(err);\n  return err;\n};\n\nValidatorResult.prototype.importErrors = function importErrors(res) {\n  if (typeof res == 'string' || (res && res.validatorType)) {\n    this.addError(res);\n  } else if (res && res.errors) {\n    Array.prototype.push.apply(this.errors, res.errors);\n  }\n};\n\nfunction stringizer (v,i){\n  return i+': '+v.toString()+'\\n';\n}\nValidatorResult.prototype.toString = function toString(res) {\n  return this.errors.map(stringizer).join('');\n};\n\nObject.defineProperty(ValidatorResult.prototype, \"valid\", { get: function() {\n  return !this.errors.length;\n} });\n\n/**\n * Describes a problem with a Schema which prevents validation of an instance\n * @name SchemaError\n * @constructor\n */\nvar SchemaError = exports.SchemaError = function SchemaError (msg, schema) {\n  this.message = msg;\n  this.schema = schema;\n  Error.call(this, msg);\n  Error.captureStackTrace(this, SchemaError);\n};\nSchemaError.prototype = Object.create(Error.prototype,\n  { constructor: {value: SchemaError, enumerable: false}\n  , name: {value: 'SchemaError', enumerable: false}\n  });\n\nvar SchemaContext = exports.SchemaContext = function SchemaContext (schema, options, propertyPath, base, schemas) {\n  this.schema = schema;\n  this.options = options;\n  this.propertyPath = propertyPath;\n  this.base = base;\n  this.schemas = schemas;\n};\n\nSchemaContext.prototype.resolve = function resolve (target) {\n  return uri.resolve(this.base, target);\n};\n\nSchemaContext.prototype.makeChild = function makeChild(schema, propertyName){\n  var propertyPath = (propertyName===undefined) ? this.propertyPath : this.propertyPath+makeSuffix(propertyName);\n  var base = uri.resolve(this.base, schema.id||'');\n  var ctx = new SchemaContext(schema, this.options, propertyPath, base, Object.create(this.schemas));\n  if(schema.id && !ctx.schemas[base]){\n    ctx.schemas[base] = schema;\n  }\n  return ctx;\n}\n\nvar FORMAT_REGEXPS = exports.FORMAT_REGEXPS = {\n  'date-time': /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\\.\\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,\n  'date': /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,\n  'time': /^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,\n\n  'email': /^(?:[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+\\.)*[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!\\.)){0,61}[a-zA-Z0-9]?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\\[(?:(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\.){3}(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\]))$/,\n  'ip-address': /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,\n  'ipv6': /^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$/,\n  'uri': /^[a-zA-Z][a-zA-Z0-9+-.]*:[^\\s]*$/,\n\n  'color': /^(#?([0-9A-Fa-f]{3}){1,2}\\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\\(\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*\\))|(rgb\\(\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*\\)))$/,\n\n  // hostname regex from: http://stackoverflow.com/a/1420225/5628\n  'hostname': /^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\\.?$/,\n  'host-name': /^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\\.?$/,\n\n  'alpha': /^[a-zA-Z]+$/,\n  'alphanumeric': /^[a-zA-Z0-9]+$/,\n  'utc-millisec': function (input) {\n    return (typeof input === 'string') && parseFloat(input) === parseInt(input, 10) && !isNaN(input);\n  },\n  'regex': function (input) {\n    var result = true;\n    try {\n      new RegExp(input);\n    } catch (e) {\n      result = false;\n    }\n    return result;\n  },\n  'style': /\\s*(.+?):\\s*([^;]+);?/,\n  'phone': /^\\+(?:[0-9] ?){6,14}[0-9]$/\n};\n\nFORMAT_REGEXPS.regexp = FORMAT_REGEXPS.regex;\nFORMAT_REGEXPS.pattern = FORMAT_REGEXPS.regex;\nFORMAT_REGEXPS.ipv4 = FORMAT_REGEXPS['ip-address'];\n\nexports.isFormat = function isFormat (input, format, validator) {\n  if (typeof input === 'string' && FORMAT_REGEXPS[format] !== undefined) {\n    if (FORMAT_REGEXPS[format] instanceof RegExp) {\n      return FORMAT_REGEXPS[format].test(input);\n    }\n    if (typeof FORMAT_REGEXPS[format] === 'function') {\n      return FORMAT_REGEXPS[format](input);\n    }\n  } else if (validator && validator.customFormats &&\n      typeof validator.customFormats[format] === 'function') {\n    return validator.customFormats[format](input);\n  }\n  return true;\n};\n\nvar makeSuffix = exports.makeSuffix = function makeSuffix (key) {\n  key = key.toString();\n  // This function could be capable of outputting valid a ECMAScript string, but the\n  // resulting code for testing which form to use would be tens of thousands of characters long\n  // That means this will use the name form for some illegal forms\n  if (!key.match(/[.\\s\\[\\]]/) && !key.match(/^[\\d]/)) {\n    return '.' + key;\n  }\n  if (key.match(/^\\d+$/)) {\n    return '[' + key + ']';\n  }\n  return '[' + JSON.stringify(key) + ']';\n};\n\nexports.deepCompareStrict = function deepCompareStrict (a, b) {\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (a instanceof Array) {\n    if (!(b instanceof Array)) {\n      return false;\n    }\n    if (a.length !== b.length) {\n      return false;\n    }\n    return a.every(function (v, i) {\n      return deepCompareStrict(a[i], b[i]);\n    });\n  }\n  if (typeof a === 'object') {\n    if (!a || !b) {\n      return a === b;\n    }\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n    return aKeys.every(function (v) {\n      return deepCompareStrict(a[v], b[v]);\n    });\n  }\n  return a === b;\n};\n\nfunction deepMerger (target, dst, e, i) {\n  if (typeof e === 'object') {\n    dst[i] = deepMerge(target[i], e)\n  } else {\n    if (target.indexOf(e) === -1) {\n      dst.push(e)\n    }\n  }\n}\n\nfunction copyist (src, dst, key) {\n  dst[key] = src[key];\n}\n\nfunction copyistWithDeepMerge (target, src, dst, key) {\n  if (typeof src[key] !== 'object' || !src[key]) {\n    dst[key] = src[key];\n  }\n  else {\n    if (!target[key]) {\n      dst[key] = src[key];\n    } else {\n      dst[key] = deepMerge(target[key], src[key])\n    }\n  }\n}\n\nfunction deepMerge (target, src) {\n  var array = Array.isArray(src);\n  var dst = array && [] || {};\n\n  if (array) {\n    target = target || [];\n    dst = dst.concat(target);\n    src.forEach(deepMerger.bind(null, target, dst));\n  } else {\n    if (target && typeof target === 'object') {\n      Object.keys(target).forEach(copyist.bind(null, target, dst));\n    }\n    Object.keys(src).forEach(copyistWithDeepMerge.bind(null, target, src, dst));\n  }\n\n  return dst;\n};\n\nmodule.exports.deepMerge = deepMerge;\n\n/**\n * Validates instance against the provided schema\n * Implements URI+JSON Pointer encoding, e.g. \"%7e\"=\"~0\"=>\"~\", \"~1\"=\"%2f\"=>\"/\"\n * @param o\n * @param s The path to walk o along\n * @return any\n */\nexports.objectGetPath = function objectGetPath(o, s) {\n  var parts = s.split('/').slice(1);\n  var k;\n  while (typeof (k=parts.shift()) == 'string') {\n    var n = decodeURIComponent(k.replace(/~0/,'~').replace(/~1/g,'/'));\n    if (!(n in o)) return;\n    o = o[n];\n  }\n  return o;\n};\n\nfunction pathEncoder (v) {\n  return '/'+encodeURIComponent(v).replace(/~/g,'%7E');\n}\n/**\n * Accept an Array of property names and return a JSON Pointer URI fragment\n * @param Array a\n * @return {String}\n */\nexports.encodePath = function encodePointer(a){\n\t// ~ must be encoded explicitly because hacks\n\t// the slash is encoded by encodeURIComponent\n\treturn a.map(pathEncoder).join('');\n};\n\n\n/**\n * Calculate the number of decimal places a number uses\n * We need this to get correct results out of multipleOf and divisibleBy\n * when either figure is has decimal places, due to IEEE-754 float issues.\n * @param number\n * @returns {number}\n */\nexports.getDecimalPlaces = function getDecimalPlaces(number) {\n\n  var decimalPlaces = 0;\n  if (isNaN(number)) return decimalPlaces;\n\n  if (typeof number !== 'number') {\n    number = Number(number);\n  }\n\n  var parts = number.toString().split('e');\n  if (parts.length === 2) {\n    if (parts[1][0] !== '-') {\n      return decimalPlaces;\n    } else {\n      decimalPlaces = Number(parts[1].slice(1));\n    }\n  }\n\n  var decimalParts = parts[0].split('.');\n  if (decimalParts.length === 2) {\n    decimalPlaces += decimalParts[1].length;\n  }\n\n  return decimalPlaces;\n};\n\n", "/**\n * Checks whether we're in the Node.js or Browser environment\n *\n * @returns Answer to given question\n */\nexport function isNodeEnv(): boolean {\n  return Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]';\n}\n\n/**\n * Requires a module which is protected against bundler minification.\n *\n * @param request The module path to resolve\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\nexport function dynamicRequire(mod: any, request: string): any {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return mod.require(request);\n}\n", "var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n", "'use strict';\n\nconst util = require('./util');\nconst buildOptions = require('./util').buildOptions;\nconst xmlNode = require('./xmlNode');\nconst TagType = {OPENING: 1, CLOSING: 2, SELF: 3, CDATA: 4};\nconst regx =\n  '<((!\\\\[CDATA\\\\[([\\\\s\\\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\\\/)(NAME)\\\\s*>))([^<]*)'\n  .replace(/NAME/g, util.nameRegexp);\n\n//const tagsRegx = new RegExp(\"<(\\\\/?[\\\\w:\\\\-\\._]+)([^>]*)>(\\\\s*\"+cdataRegx+\")*([^<]+)?\",\"g\");\n//const tagsRegx = new RegExp(\"<(\\\\/?)((\\\\w*:)?([\\\\w:\\\\-\\._]+))([^>]*)>([^<]*)(\"+cdataRegx+\"([^<]*))*([^<]+)?\",\"g\");\n\n//polyfill\nif (!Number.parseInt && window.parseInt) {\n  Number.parseInt = window.parseInt;\n}\nif (!Number.parseFloat && window.parseFloat) {\n  Number.parseFloat = window.parseFloat;\n}\n\nconst defaultOptions = {\n  attributeNamePrefix: '@_',\n  attrNodeName: false,\n  textNodeName: '#text',\n  ignoreAttributes: true,\n  ignoreNameSpace: false,\n  allowBooleanAttributes: false, //a tag can have attributes without any value\n  //ignoreRootElement : false,\n  parseNodeValue: true,\n  parseAttributeValue: false,\n  arrayMode: false,\n  trimValues: true, //Trim string values of tag and attributes\n  cdataTagName: false,\n  cdataPositionChar: '\\\\c',\n  tagValueProcessor: function(a, tagName) {\n    return a;\n  },\n  attrValueProcessor: function(a, attrName) {\n    return a;\n  },\n  stopNodes: []\n  //decodeStrict: false,\n};\n\nexports.defaultOptions = defaultOptions;\n\nconst props = [\n  'attributeNamePrefix',\n  'attrNodeName',\n  'textNodeName',\n  'ignoreAttributes',\n  'ignoreNameSpace',\n  'allowBooleanAttributes',\n  'parseNodeValue',\n  'parseAttributeValue',\n  'arrayMode',\n  'trimValues',\n  'cdataTagName',\n  'cdataPositionChar',\n  'tagValueProcessor',\n  'attrValueProcessor',\n  'parseTrueNumberOnly',\n  'stopNodes'\n];\nexports.props = props;\n\nconst getTraversalObj = function(xmlData, options) {\n  options = buildOptions(options, defaultOptions, props);\n  //xmlData = xmlData.replace(/\\r?\\n/g, \" \");//make it single line\n  xmlData = xmlData.replace(/<!--[\\s\\S]*?-->/g, ''); //Remove  comments\n\n  const xmlObj = new xmlNode('!xml');\n  let currentNode = xmlObj;\n\n  const tagsRegx = new RegExp(regx, 'g');\n  let tag = tagsRegx.exec(xmlData);\n  let nextTag = tagsRegx.exec(xmlData);\n  while (tag) {\n    const tagType = checkForTagType(tag);\n\n    if (tagType === TagType.CLOSING) {\n      //add parsed data to parent node\n      if (currentNode.parent && tag[12]) {\n        currentNode.parent.val = util.getValue(currentNode.parent.val) + '' + processTagValue(tag, options, currentNode.parent.tagname);\n      }\n      if (options.stopNodes.length && options.stopNodes.includes(currentNode.tagname)) {\n        currentNode.child = []\n        if (currentNode.attrsMap == undefined) { currentNode.attrsMap = {}}\n        currentNode.val = xmlData.substr(currentNode.startIndex + 1, tag.index - currentNode.startIndex - 1)\n      }\n      currentNode = currentNode.parent;\n    } else if (tagType === TagType.CDATA) {\n      if (options.cdataTagName) {\n        //add cdata node\n        const childNode = new xmlNode(options.cdataTagName, currentNode, tag[3]);\n        childNode.attrsMap = buildAttributesMap(tag[8], options);\n        currentNode.addChild(childNode);\n        //for backtracking\n        currentNode.val = util.getValue(currentNode.val) + options.cdataPositionChar;\n        //add rest value to parent node\n        if (tag[12]) {\n          currentNode.val += processTagValue(tag, options);\n        }\n      } else {\n        currentNode.val = (currentNode.val || '') + (tag[3] || '') + processTagValue(tag, options);\n      }\n    } else if (tagType === TagType.SELF) {\n      if (currentNode && tag[12]) {\n        currentNode.val = util.getValue(currentNode.val) + '' + processTagValue(tag, options);\n      }\n\n      const childNode = new xmlNode(options.ignoreNameSpace ? tag[7] : tag[5], currentNode, '');\n      if (tag[8] && tag[8].length > 0) {\n        tag[8] = tag[8].substr(0, tag[8].length - 1);\n      }\n      childNode.attrsMap = buildAttributesMap(tag[8], options);\n      currentNode.addChild(childNode);\n    } else {\n      //TagType.OPENING\n      const childNode = new xmlNode(\n        options.ignoreNameSpace ? tag[7] : tag[5],\n        currentNode,\n        processTagValue(tag, options)\n      );\n      if (options.stopNodes.length && options.stopNodes.includes(childNode.tagname)) {\n        childNode.startIndex=tag.index + tag[1].length\n      }\n      childNode.attrsMap = buildAttributesMap(tag[8], options);\n      currentNode.addChild(childNode);\n      currentNode = childNode;\n    }\n\n    tag = nextTag;\n    nextTag = tagsRegx.exec(xmlData);\n  }\n\n  return xmlObj;\n};\n\nfunction processTagValue(parsedTags, options, parentTagName) {\n  const tagName = parsedTags[7] || parentTagName;\n  let val = parsedTags[12];\n  if (val) {\n    if (options.trimValues) {\n      val = val.trim();\n    }\n    val = options.tagValueProcessor(val, tagName);\n    val = parseValue(val, options.parseNodeValue, options.parseTrueNumberOnly);\n  }\n\n  return val;\n}\n\nfunction checkForTagType(match) {\n  if (match[4] === ']]>') {\n    return TagType.CDATA;\n  } else if (match[10] === '/') {\n    return TagType.CLOSING;\n  } else if (typeof match[8] !== 'undefined' && match[8].substr(match[8].length - 1) === '/') {\n    return TagType.SELF;\n  } else {\n    return TagType.OPENING;\n  }\n}\n\nfunction resolveNameSpace(tagname, options) {\n  if (options.ignoreNameSpace) {\n    const tags = tagname.split(':');\n    const prefix = tagname.charAt(0) === '/' ? '/' : '';\n    if (tags[0] === 'xmlns') {\n      return '';\n    }\n    if (tags.length === 2) {\n      tagname = prefix + tags[1];\n    }\n  }\n  return tagname;\n}\n\nfunction parseValue(val, shouldParse, parseTrueNumberOnly) {\n  if (shouldParse && typeof val === 'string') {\n    let parsed;\n    if (val.trim() === '' || isNaN(val)) {\n      parsed = val === 'true' ? true : val === 'false' ? false : val;\n    } else {\n      if (val.indexOf('0x') !== -1) {\n        //support hexa decimal\n        parsed = Number.parseInt(val, 16);\n      } else if (val.indexOf('.') !== -1) {\n        parsed = Number.parseFloat(val);\n        val = val.replace(/0+$/,\"\");\n      } else {\n        parsed = Number.parseInt(val, 10);\n      }\n      if (parseTrueNumberOnly) {\n        parsed = String(parsed) === val ? parsed : val;\n      }\n    }\n    return parsed;\n  } else {\n    if (util.isExist(val)) {\n      return val;\n    } else {\n      return '';\n    }\n  }\n}\n\n//TODO: change regex to capture NS\n//const attrsRegx = new RegExp(\"([\\\\w\\\\-\\\\.\\\\:]+)\\\\s*=\\\\s*(['\\\"])((.|\\n)*?)\\\\2\",\"gm\");\nconst attrsRegx = new RegExp('([^\\\\s=]+)\\\\s*(=\\\\s*([\\'\"])(.*?)\\\\3)?', 'g');\n\nfunction buildAttributesMap(attrStr, options) {\n  if (!options.ignoreAttributes && typeof attrStr === 'string') {\n    attrStr = attrStr.replace(/\\r?\\n/g, ' ');\n    //attrStr = attrStr || attrStr.trim();\n\n    const matches = util.getAllMatches(attrStr, attrsRegx);\n    const len = matches.length; //don't make it inline\n    const attrs = {};\n    for (let i = 0; i < len; i++) {\n      const attrName = resolveNameSpace(matches[i][1], options);\n      if (attrName.length) {\n        if (matches[i][4] !== undefined) {\n          if (options.trimValues) {\n            matches[i][4] = matches[i][4].trim();\n          }\n          matches[i][4] = options.attrValueProcessor(matches[i][4], attrName);\n          attrs[options.attributeNamePrefix + attrName] = parseValue(\n            matches[i][4],\n            options.parseAttributeValue,\n            options.parseTrueNumberOnly\n          );\n        } else if (options.allowBooleanAttributes) {\n          attrs[options.attributeNamePrefix + attrName] = true;\n        }\n      }\n    }\n    if (!Object.keys(attrs).length) {\n      return;\n    }\n    if (options.attrNodeName) {\n      const attrCollection = {};\n      attrCollection[options.attrNodeName] = attrs;\n      return attrCollection;\n    }\n    return attrs;\n  }\n}\n\nexports.getTraversalObj = getTraversalObj;\n", "/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FsRequestError, FsRequestErrorCode } from './../error';\nimport Debug from 'debug';\n\nconst debug = Debug('fs:request:shouldRetry');\n\n/**\n * Indicates if method should be retried\n *\n * @private\n * @param {FsRequestError} err\n * @returns\n * @memberof Dispatch\n */\nexport const shouldRetry = (err: FsRequestError) => {\n  debug('Checking error for retry. Code: %n, type: %s', (err.response ? err.response.status : 'Malformed response'), err.code);\n\n  // we always should retry on network failure\n  switch (err.code) {\n    case FsRequestErrorCode.NETWORK:\n    case FsRequestErrorCode.SERVER:\n    case FsRequestErrorCode.TIMEOUT:\n      return true;\n    // we should not make request on request aborted\n    case FsRequestErrorCode.ABORTED:\n      return false;\n  }\n\n  if (!err.response) {\n    return false;\n  }\n\n  // we should retry on all server errors (5xx)\n  // this should be handled by FsRequestErrorCode.SERVER but to be sure\n  if (500 <= err.response.status && err.response.status <= 599) {\n    return true;\n  }\n\n  // we should not retry on other errors (4xx) ie: BadRequest etc\n  return false;\n};\n", "'use strict';\nconst toBytes = s => [...s].map(c => c.charCodeAt(0));\nconst xpiZipFilename = toBytes('META-INF/mozilla.rsa');\nconst oxmlContentTypes = toBytes('[Content_Types].xml');\nconst oxmlRels = toBytes('_rels/.rels');\n\nfunction readUInt64LE(buf, offset = 0) {\n\tlet n = buf[offset];\n\tlet mul = 1;\n\tlet i = 0;\n\twhile (++i < 8) {\n\t\tmul *= 0x100;\n\t\tn += buf[offset + i] * mul;\n\t}\n\n\treturn n;\n}\n\nconst fileType = input => {\n\tif (!(input instanceof Uint8Array || input instanceof ArrayBuffer || Buffer.isBuffer(input))) {\n\t\tthrow new TypeError(`Expected the \\`input\\` argument to be of type \\`Uint8Array\\` or \\`Buffer\\` or \\`ArrayBuffer\\`, got \\`${typeof input}\\``);\n\t}\n\n\tconst buf = input instanceof Uint8Array ? input : new Uint8Array(input);\n\n\tif (!(buf && buf.length > 1)) {\n\t\treturn null;\n\t}\n\n\tconst check = (header, options) => {\n\t\toptions = Object.assign({\n\t\t\toffset: 0\n\t\t}, options);\n\n\t\tfor (let i = 0; i < header.length; i++) {\n\t\t\t// If a bitmask is set\n\t\t\tif (options.mask) {\n\t\t\t\t// If header doesn't equal `buf` with bits masked off\n\t\t\t\tif (header[i] !== (options.mask[i] & buf[i + options.offset])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else if (header[i] !== buf[i + options.offset]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tconst checkString = (header, options) => check(toBytes(header), options);\n\n\tif (check([0xFF, 0xD8, 0xFF])) {\n\t\treturn {\n\t\t\text: 'jpg',\n\t\t\tmime: 'image/jpeg'\n\t\t};\n\t}\n\n\tif (check([0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\treturn {\n\t\t\text: 'png',\n\t\t\tmime: 'image/png'\n\t\t};\n\t}\n\n\tif (check([0x47, 0x49, 0x46])) {\n\t\treturn {\n\t\t\text: 'gif',\n\t\t\tmime: 'image/gif'\n\t\t};\n\t}\n\n\tif (check([0x57, 0x45, 0x42, 0x50], {offset: 8})) {\n\t\treturn {\n\t\t\text: 'webp',\n\t\t\tmime: 'image/webp'\n\t\t};\n\t}\n\n\tif (check([0x46, 0x4C, 0x49, 0x46])) {\n\t\treturn {\n\t\t\text: 'flif',\n\t\t\tmime: 'image/flif'\n\t\t};\n\t}\n\n\t// Needs to be before `tif` check\n\tif (\n\t\t(check([0x49, 0x49, 0x2A, 0x0]) || check([0x4D, 0x4D, 0x0, 0x2A])) &&\n\t\tcheck([0x43, 0x52], {offset: 8})\n\t) {\n\t\treturn {\n\t\t\text: 'cr2',\n\t\t\tmime: 'image/x-canon-cr2'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x49, 0x49, 0x2A, 0x0]) ||\n\t\tcheck([0x4D, 0x4D, 0x0, 0x2A])\n\t) {\n\t\treturn {\n\t\t\text: 'tif',\n\t\t\tmime: 'image/tiff'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x4D])) {\n\t\treturn {\n\t\t\text: 'bmp',\n\t\t\tmime: 'image/bmp'\n\t\t};\n\t}\n\n\tif (check([0x49, 0x49, 0xBC])) {\n\t\treturn {\n\t\t\text: 'jxr',\n\t\t\tmime: 'image/vnd.ms-photo'\n\t\t};\n\t}\n\n\tif (check([0x38, 0x42, 0x50, 0x53])) {\n\t\treturn {\n\t\t\text: 'psd',\n\t\t\tmime: 'image/vnd.adobe.photoshop'\n\t\t};\n\t}\n\n\t// Zip-based file formats\n\t// Need to be before the `zip` check\n\tif (check([0x50, 0x4B, 0x3, 0x4])) {\n\t\tif (\n\t\t\tcheck([0x6D, 0x69, 0x6D, 0x65, 0x74, 0x79, 0x70, 0x65, 0x61, 0x70, 0x70, 0x6C, 0x69, 0x63, 0x61, 0x74, 0x69, 0x6F, 0x6E, 0x2F, 0x65, 0x70, 0x75, 0x62, 0x2B, 0x7A, 0x69, 0x70], {offset: 30})\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'epub',\n\t\t\t\tmime: 'application/epub+zip'\n\t\t\t};\n\t\t}\n\n\t\t// Assumes signed `.xpi` from addons.mozilla.org\n\t\tif (check(xpiZipFilename, {offset: 30})) {\n\t\t\treturn {\n\t\t\t\text: 'xpi',\n\t\t\t\tmime: 'application/x-xpinstall'\n\t\t\t};\n\t\t}\n\n\t\tif (checkString('mimetypeapplication/vnd.oasis.opendocument.text', {offset: 30})) {\n\t\t\treturn {\n\t\t\t\text: 'odt',\n\t\t\t\tmime: 'application/vnd.oasis.opendocument.text'\n\t\t\t};\n\t\t}\n\n\t\tif (checkString('mimetypeapplication/vnd.oasis.opendocument.spreadsheet', {offset: 30})) {\n\t\t\treturn {\n\t\t\t\text: 'ods',\n\t\t\t\tmime: 'application/vnd.oasis.opendocument.spreadsheet'\n\t\t\t};\n\t\t}\n\n\t\tif (checkString('mimetypeapplication/vnd.oasis.opendocument.presentation', {offset: 30})) {\n\t\t\treturn {\n\t\t\t\text: 'odp',\n\t\t\t\tmime: 'application/vnd.oasis.opendocument.presentation'\n\t\t\t};\n\t\t}\n\n\t\t// The docx, xlsx and pptx file types extend the Office Open XML file format:\n\t\t// https://en.wikipedia.org/wiki/Office_Open_XML_file_formats\n\t\t// We look for:\n\t\t// - one entry named '[Content_Types].xml' or '_rels/.rels',\n\t\t// - one entry indicating specific type of file.\n\t\t// MS Office, OpenOffice and LibreOffice may put the parts in different order, so the check should not rely on it.\n\t\tconst findNextZipHeaderIndex = (arr, startAt = 0) => arr.findIndex((el, i, arr) => i >= startAt && arr[i] === 0x50 && arr[i + 1] === 0x4B && arr[i + 2] === 0x3 && arr[i + 3] === 0x4);\n\n\t\tlet zipHeaderIndex = 0; // The first zip header was already found at index 0\n\t\tlet oxmlFound = false;\n\t\tlet type = null;\n\n\t\tdo {\n\t\t\tconst offset = zipHeaderIndex + 30;\n\n\t\t\tif (!oxmlFound) {\n\t\t\t\toxmlFound = (check(oxmlContentTypes, {offset}) || check(oxmlRels, {offset}));\n\t\t\t}\n\n\t\t\tif (!type) {\n\t\t\t\tif (checkString('word/', {offset})) {\n\t\t\t\t\ttype = {\n\t\t\t\t\t\text: 'docx',\n\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n\t\t\t\t\t};\n\t\t\t\t} else if (checkString('ppt/', {offset})) {\n\t\t\t\t\ttype = {\n\t\t\t\t\t\text: 'pptx',\n\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.presentationml.presentation'\n\t\t\t\t\t};\n\t\t\t\t} else if (checkString('xl/', {offset})) {\n\t\t\t\t\ttype = {\n\t\t\t\t\t\text: 'xlsx',\n\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (oxmlFound && type) {\n\t\t\t\treturn type;\n\t\t\t}\n\n\t\t\tzipHeaderIndex = findNextZipHeaderIndex(buf, offset);\n\t\t} while (zipHeaderIndex >= 0);\n\n\t\t// No more zip parts available in the buffer, but maybe we are almost certain about the type?\n\t\tif (type) {\n\t\t\treturn type;\n\t\t}\n\t}\n\n\tif (\n\t\tcheck([0x50, 0x4B]) &&\n\t\t(buf[2] === 0x3 || buf[2] === 0x5 || buf[2] === 0x7) &&\n\t\t(buf[3] === 0x4 || buf[3] === 0x6 || buf[3] === 0x8)\n\t) {\n\t\treturn {\n\t\t\text: 'zip',\n\t\t\tmime: 'application/zip'\n\t\t};\n\t}\n\n\tif (check([0x75, 0x73, 0x74, 0x61, 0x72], {offset: 257})) {\n\t\treturn {\n\t\t\text: 'tar',\n\t\t\tmime: 'application/x-tar'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x52, 0x61, 0x72, 0x21, 0x1A, 0x7]) &&\n\t\t(buf[6] === 0x0 || buf[6] === 0x1)\n\t) {\n\t\treturn {\n\t\t\text: 'rar',\n\t\t\tmime: 'application/x-rar-compressed'\n\t\t};\n\t}\n\n\tif (check([0x1F, 0x8B, 0x8])) {\n\t\treturn {\n\t\t\text: 'gz',\n\t\t\tmime: 'application/gzip'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x5A, 0x68])) {\n\t\treturn {\n\t\t\text: 'bz2',\n\t\t\tmime: 'application/x-bzip2'\n\t\t};\n\t}\n\n\tif (check([0x37, 0x7A, 0xBC, 0xAF, 0x27, 0x1C])) {\n\t\treturn {\n\t\t\text: '7z',\n\t\t\tmime: 'application/x-7z-compressed'\n\t\t};\n\t}\n\n\tif (check([0x78, 0x01])) {\n\t\treturn {\n\t\t\text: 'dmg',\n\t\t\tmime: 'application/x-apple-diskimage'\n\t\t};\n\t}\n\n\tif (check([0x33, 0x67, 0x70, 0x35]) || // 3gp5\n\t\t(\n\t\t\tcheck([0x0, 0x0, 0x0]) && check([0x66, 0x74, 0x79, 0x70], {offset: 4}) &&\n\t\t\t\t(\n\t\t\t\t\tcheck([0x6D, 0x70, 0x34, 0x31], {offset: 8}) || // MP41\n\t\t\t\t\tcheck([0x6D, 0x70, 0x34, 0x32], {offset: 8}) || // MP42\n\t\t\t\t\tcheck([0x69, 0x73, 0x6F, 0x6D], {offset: 8}) || // ISOM\n\t\t\t\t\tcheck([0x69, 0x73, 0x6F, 0x32], {offset: 8}) || // ISO2\n\t\t\t\t\tcheck([0x6D, 0x6D, 0x70, 0x34], {offset: 8}) || // MMP4\n\t\t\t\t\tcheck([0x4D, 0x34, 0x56], {offset: 8}) || // M4V\n\t\t\t\t\tcheck([0x64, 0x61, 0x73, 0x68], {offset: 8}) // DASH\n\t\t\t\t)\n\t\t)) {\n\t\treturn {\n\t\t\text: 'mp4',\n\t\t\tmime: 'video/mp4'\n\t\t};\n\t}\n\n\tif (check([0x4D, 0x54, 0x68, 0x64])) {\n\t\treturn {\n\t\t\text: 'mid',\n\t\t\tmime: 'audio/midi'\n\t\t};\n\t}\n\n\t// https://github.com/threatstack/libmagic/blob/master/magic/Magdir/matroska\n\tif (check([0x1A, 0x45, 0xDF, 0xA3])) {\n\t\tconst sliced = buf.subarray(4, 4 + 4096);\n\t\tconst idPos = sliced.findIndex((el, i, arr) => arr[i] === 0x42 && arr[i + 1] === 0x82);\n\n\t\tif (idPos !== -1) {\n\t\t\tconst docTypePos = idPos + 3;\n\t\t\tconst findDocType = type => [...type].every((c, i) => sliced[docTypePos + i] === c.charCodeAt(0));\n\n\t\t\tif (findDocType('matroska')) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mkv',\n\t\t\t\t\tmime: 'video/x-matroska'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (findDocType('webm')) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'webm',\n\t\t\t\t\tmime: 'video/webm'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n\tif (check([0x0, 0x0, 0x0, 0x14, 0x66, 0x74, 0x79, 0x70, 0x71, 0x74, 0x20, 0x20]) ||\n\t\tcheck([0x66, 0x72, 0x65, 0x65], {offset: 4}) || // Type: `free`\n\t\tcheck([0x66, 0x74, 0x79, 0x70, 0x71, 0x74, 0x20, 0x20], {offset: 4}) ||\n\t\tcheck([0x6D, 0x64, 0x61, 0x74], {offset: 4}) || // MJPEG\n\t\tcheck([0x6D, 0x6F, 0x6F, 0x76], {offset: 4}) || // Type: `moov`\n\t\tcheck([0x77, 0x69, 0x64, 0x65], {offset: 4})) {\n\t\treturn {\n\t\t\text: 'mov',\n\t\t\tmime: 'video/quicktime'\n\t\t};\n\t}\n\n\t// RIFF file format which might be AVI, WAV, QCP, etc\n\tif (check([0x52, 0x49, 0x46, 0x46])) {\n\t\tif (check([0x41, 0x56, 0x49], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'avi',\n\t\t\t\tmime: 'video/vnd.avi'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x57, 0x41, 0x56, 0x45], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'wav',\n\t\t\t\tmime: 'audio/vnd.wave'\n\t\t\t};\n\t\t}\n\n\t\t// QLCM, QCP file\n\t\tif (check([0x51, 0x4C, 0x43, 0x4D], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'qcp',\n\t\t\t\tmime: 'audio/qcelp'\n\t\t\t};\n\t\t}\n\t}\n\n\t// ASF_Header_Object first 80 bytes\n\tif (check([0x30, 0x26, 0xB2, 0x75, 0x8E, 0x66, 0xCF, 0x11, 0xA6, 0xD9])) {\n\t\t// Search for header should be in first 1KB of file.\n\n\t\tlet offset = 30;\n\t\tdo {\n\t\t\tconst objectSize = readUInt64LE(buf, offset + 16);\n\t\t\tif (check([0x91, 0x07, 0xDC, 0xB7, 0xB7, 0xA9, 0xCF, 0x11, 0x8E, 0xE6, 0x00, 0xC0, 0x0C, 0x20, 0x53, 0x65], {offset})) {\n\t\t\t\t// Sync on Stream-Properties-Object (B7DC0791-A9B7-11CF-8EE6-00C00C205365)\n\t\t\t\tif (check([0x40, 0x9E, 0x69, 0xF8, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B], {offset: offset + 24})) {\n\t\t\t\t\t// Found audio:\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'wma',\n\t\t\t\t\t\tmime: 'audio/x-ms-wma'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (check([0xC0, 0xEF, 0x19, 0xBC, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B], {offset: offset + 24})) {\n\t\t\t\t\t// Found video:\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'wmv',\n\t\t\t\t\t\tmime: 'video/x-ms-asf'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\toffset += objectSize;\n\t\t} while (offset + 24 <= buf.length);\n\n\t\t// Default to ASF generic extension\n\t\treturn {\n\t\t\text: 'asf',\n\t\t\tmime: 'application/vnd.ms-asf'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x0, 0x0, 0x1, 0xBA]) ||\n\t\tcheck([0x0, 0x0, 0x1, 0xB3])\n\t) {\n\t\treturn {\n\t\t\text: 'mpg',\n\t\t\tmime: 'video/mpeg'\n\t\t};\n\t}\n\n\tif (check([0x66, 0x74, 0x79, 0x70, 0x33, 0x67], {offset: 4})) {\n\t\treturn {\n\t\t\text: '3gp',\n\t\t\tmime: 'video/3gpp'\n\t\t};\n\t}\n\n\t// Check for MPEG header at different starting offsets\n\tfor (let start = 0; start < 2 && start < (buf.length - 16); start++) {\n\t\tif (\n\t\t\tcheck([0x49, 0x44, 0x33], {offset: start}) || // ID3 header\n\t\t\tcheck([0xFF, 0xE2], {offset: start, mask: [0xFF, 0xE2]}) // MPEG 1 or 2 Layer 3 header\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mp3',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tcheck([0xFF, 0xE4], {offset: start, mask: [0xFF, 0xE4]}) // MPEG 1 or 2 Layer 2 header\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mp2',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tcheck([0xFF, 0xF8], {offset: start, mask: [0xFF, 0xFC]}) // MPEG 2 layer 0 using ADTS\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mp2',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tcheck([0xFF, 0xF0], {offset: start, mask: [0xFF, 0xFC]}) // MPEG 4 layer 0 using ADTS\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mp4',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\t}\n\n\tif (\n\t\tcheck([0x66, 0x74, 0x79, 0x70, 0x4D, 0x34, 0x41], {offset: 4})\n\t) {\n\t\treturn { // MPEG-4 layer 3 (audio)\n\t\t\text: 'm4a',\n\t\t\tmime: 'audio/mp4' // RFC 4337\n\t\t};\n\t}\n\n\t// Needs to be before `ogg` check\n\tif (check([0x4F, 0x70, 0x75, 0x73, 0x48, 0x65, 0x61, 0x64], {offset: 28})) {\n\t\treturn {\n\t\t\text: 'opus',\n\t\t\tmime: 'audio/opus'\n\t\t};\n\t}\n\n\t// If 'OggS' in first  bytes, then OGG container\n\tif (check([0x4F, 0x67, 0x67, 0x53])) {\n\t\t// This is a OGG container\n\n\t\t// If ' theora' in header.\n\t\tif (check([0x80, 0x74, 0x68, 0x65, 0x6F, 0x72, 0x61], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'ogv',\n\t\t\t\tmime: 'video/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If '\\x01video' in header.\n\t\tif (check([0x01, 0x76, 0x69, 0x64, 0x65, 0x6F, 0x00], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'ogm',\n\t\t\t\tmime: 'video/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If ' FLAC' in header  https://xiph.org/flac/faq.html\n\t\tif (check([0x7F, 0x46, 0x4C, 0x41, 0x43], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'oga',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// 'Speex  ' in header https://en.wikipedia.org/wiki/Speex\n\t\tif (check([0x53, 0x70, 0x65, 0x65, 0x78, 0x20, 0x20], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'spx',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If '\\x01vorbis' in header\n\t\tif (check([0x01, 0x76, 0x6F, 0x72, 0x62, 0x69, 0x73], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'ogg',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// Default OGG container https://www.iana.org/assignments/media-types/application/ogg\n\t\treturn {\n\t\t\text: 'ogx',\n\t\t\tmime: 'application/ogg'\n\t\t};\n\t}\n\n\tif (check([0x66, 0x4C, 0x61, 0x43])) {\n\t\treturn {\n\t\t\text: 'flac',\n\t\t\tmime: 'audio/x-flac'\n\t\t};\n\t}\n\n\tif (check([0x4D, 0x41, 0x43, 0x20])) { // 'MAC '\n\t\treturn {\n\t\t\text: 'ape',\n\t\t\tmime: 'audio/ape'\n\t\t};\n\t}\n\n\tif (check([0x77, 0x76, 0x70, 0x6B])) { // 'wvpk'\n\t\treturn {\n\t\t\text: 'wv',\n\t\t\tmime: 'audio/wavpack'\n\t\t};\n\t}\n\n\tif (check([0x23, 0x21, 0x41, 0x4D, 0x52, 0x0A])) {\n\t\treturn {\n\t\t\text: 'amr',\n\t\t\tmime: 'audio/amr'\n\t\t};\n\t}\n\n\tif (check([0x25, 0x50, 0x44, 0x46])) {\n\t\treturn {\n\t\t\text: 'pdf',\n\t\t\tmime: 'application/pdf'\n\t\t};\n\t}\n\n\tif (check([0x4D, 0x5A])) {\n\t\treturn {\n\t\t\text: 'exe',\n\t\t\tmime: 'application/x-msdownload'\n\t\t};\n\t}\n\n\tif (\n\t\t(buf[0] === 0x43 || buf[0] === 0x46) &&\n\t\tcheck([0x57, 0x53], {offset: 1})\n\t) {\n\t\treturn {\n\t\t\text: 'swf',\n\t\t\tmime: 'application/x-shockwave-flash'\n\t\t};\n\t}\n\n\tif (check([0x7B, 0x5C, 0x72, 0x74, 0x66])) {\n\t\treturn {\n\t\t\text: 'rtf',\n\t\t\tmime: 'application/rtf'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x61, 0x73, 0x6D])) {\n\t\treturn {\n\t\t\text: 'wasm',\n\t\t\tmime: 'application/wasm'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x77, 0x4F, 0x46, 0x46]) &&\n\t\t(\n\t\t\tcheck([0x00, 0x01, 0x00, 0x00], {offset: 4}) ||\n\t\t\tcheck([0x4F, 0x54, 0x54, 0x4F], {offset: 4})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'woff',\n\t\t\tmime: 'font/woff'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x77, 0x4F, 0x46, 0x32]) &&\n\t\t(\n\t\t\tcheck([0x00, 0x01, 0x00, 0x00], {offset: 4}) ||\n\t\t\tcheck([0x4F, 0x54, 0x54, 0x4F], {offset: 4})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'woff2',\n\t\t\tmime: 'font/woff2'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x4C, 0x50], {offset: 34}) &&\n\t\t(\n\t\t\tcheck([0x00, 0x00, 0x01], {offset: 8}) ||\n\t\t\tcheck([0x01, 0x00, 0x02], {offset: 8}) ||\n\t\t\tcheck([0x02, 0x00, 0x02], {offset: 8})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'eot',\n\t\t\tmime: 'application/vnd.ms-fontobject'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x01, 0x00, 0x00, 0x00])) {\n\t\treturn {\n\t\t\text: 'ttf',\n\t\t\tmime: 'font/ttf'\n\t\t};\n\t}\n\n\tif (check([0x4F, 0x54, 0x54, 0x4F, 0x00])) {\n\t\treturn {\n\t\t\text: 'otf',\n\t\t\tmime: 'font/otf'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x01, 0x00])) {\n\t\treturn {\n\t\t\text: 'ico',\n\t\t\tmime: 'image/x-icon'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x02, 0x00])) {\n\t\treturn {\n\t\t\text: 'cur',\n\t\t\tmime: 'image/x-icon'\n\t\t};\n\t}\n\n\tif (check([0x46, 0x4C, 0x56, 0x01])) {\n\t\treturn {\n\t\t\text: 'flv',\n\t\t\tmime: 'video/x-flv'\n\t\t};\n\t}\n\n\tif (check([0x25, 0x21])) {\n\t\treturn {\n\t\t\text: 'ps',\n\t\t\tmime: 'application/postscript'\n\t\t};\n\t}\n\n\tif (check([0xFD, 0x37, 0x7A, 0x58, 0x5A, 0x00])) {\n\t\treturn {\n\t\t\text: 'xz',\n\t\t\tmime: 'application/x-xz'\n\t\t};\n\t}\n\n\tif (check([0x53, 0x51, 0x4C, 0x69])) {\n\t\treturn {\n\t\t\text: 'sqlite',\n\t\t\tmime: 'application/x-sqlite3'\n\t\t};\n\t}\n\n\tif (check([0x4E, 0x45, 0x53, 0x1A])) {\n\t\treturn {\n\t\t\text: 'nes',\n\t\t\tmime: 'application/x-nintendo-nes-rom'\n\t\t};\n\t}\n\n\tif (check([0x43, 0x72, 0x32, 0x34])) {\n\t\treturn {\n\t\t\text: 'crx',\n\t\t\tmime: 'application/x-google-chrome-extension'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x4D, 0x53, 0x43, 0x46]) ||\n\t\tcheck([0x49, 0x53, 0x63, 0x28])\n\t) {\n\t\treturn {\n\t\t\text: 'cab',\n\t\t\tmime: 'application/vnd.ms-cab-compressed'\n\t\t};\n\t}\n\n\t// Needs to be before `ar` check\n\tif (check([0x21, 0x3C, 0x61, 0x72, 0x63, 0x68, 0x3E, 0x0A, 0x64, 0x65, 0x62, 0x69, 0x61, 0x6E, 0x2D, 0x62, 0x69, 0x6E, 0x61, 0x72, 0x79])) {\n\t\treturn {\n\t\t\text: 'deb',\n\t\t\tmime: 'application/x-deb'\n\t\t};\n\t}\n\n\tif (check([0x21, 0x3C, 0x61, 0x72, 0x63, 0x68, 0x3E])) {\n\t\treturn {\n\t\t\text: 'ar',\n\t\t\tmime: 'application/x-unix-archive'\n\t\t};\n\t}\n\n\tif (check([0xED, 0xAB, 0xEE, 0xDB])) {\n\t\treturn {\n\t\t\text: 'rpm',\n\t\t\tmime: 'application/x-rpm'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x1F, 0xA0]) ||\n\t\tcheck([0x1F, 0x9D])\n\t) {\n\t\treturn {\n\t\t\text: 'Z',\n\t\t\tmime: 'application/x-compress'\n\t\t};\n\t}\n\n\tif (check([0x4C, 0x5A, 0x49, 0x50])) {\n\t\treturn {\n\t\t\text: 'lz',\n\t\t\tmime: 'application/x-lzip'\n\t\t};\n\t}\n\n\tif (check([0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1])) {\n\t\treturn {\n\t\t\text: 'msi',\n\t\t\tmime: 'application/x-msi'\n\t\t};\n\t}\n\n\tif (check([0x06, 0x0E, 0x2B, 0x34, 0x02, 0x05, 0x01, 0x01, 0x0D, 0x01, 0x02, 0x01, 0x01, 0x02])) {\n\t\treturn {\n\t\t\text: 'mxf',\n\t\t\tmime: 'application/mxf'\n\t\t};\n\t}\n\n\tif (check([0x47], {offset: 4}) && (check([0x47], {offset: 192}) || check([0x47], {offset: 196}))) {\n\t\treturn {\n\t\t\text: 'mts',\n\t\t\tmime: 'video/mp2t'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x4C, 0x45, 0x4E, 0x44, 0x45, 0x52])) {\n\t\treturn {\n\t\t\text: 'blend',\n\t\t\tmime: 'application/x-blender'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x50, 0x47, 0xFB])) {\n\t\treturn {\n\t\t\text: 'bpg',\n\t\t\tmime: 'image/bpg'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x00, 0x0C, 0x6A, 0x50, 0x20, 0x20, 0x0D, 0x0A, 0x87, 0x0A])) {\n\t\t// JPEG-2000 family\n\n\t\tif (check([0x6A, 0x70, 0x32, 0x20], {offset: 20})) {\n\t\t\treturn {\n\t\t\t\text: 'jp2',\n\t\t\t\tmime: 'image/jp2'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x6A, 0x70, 0x78, 0x20], {offset: 20})) {\n\t\t\treturn {\n\t\t\t\text: 'jpx',\n\t\t\t\tmime: 'image/jpx'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x6A, 0x70, 0x6D, 0x20], {offset: 20})) {\n\t\t\treturn {\n\t\t\t\text: 'jpm',\n\t\t\t\tmime: 'image/jpm'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x6D, 0x6A, 0x70, 0x32], {offset: 20})) {\n\t\t\treturn {\n\t\t\t\text: 'mj2',\n\t\t\t\tmime: 'image/mj2'\n\t\t\t};\n\t\t}\n\t}\n\n\tif (check([0x46, 0x4F, 0x52, 0x4D])) {\n\t\treturn {\n\t\t\text: 'aif',\n\t\t\tmime: 'audio/aiff'\n\t\t};\n\t}\n\n\tif (checkString('<?xml ')) {\n\t\treturn {\n\t\t\text: 'xml',\n\t\t\tmime: 'application/xml'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x4F, 0x4F, 0x4B, 0x4D, 0x4F, 0x42, 0x49], {offset: 60})) {\n\t\treturn {\n\t\t\text: 'mobi',\n\t\t\tmime: 'application/x-mobipocket-ebook'\n\t\t};\n\t}\n\n\t// File Type Box (https://en.wikipedia.org/wiki/ISO_base_media_file_format)\n\tif (check([0x66, 0x74, 0x79, 0x70], {offset: 4})) {\n\t\tif (check([0x6D, 0x69, 0x66, 0x31], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'heic',\n\t\t\t\tmime: 'image/heif'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x6D, 0x73, 0x66, 0x31], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'heic',\n\t\t\t\tmime: 'image/heif-sequence'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x68, 0x65, 0x69, 0x63], {offset: 8}) || check([0x68, 0x65, 0x69, 0x78], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'heic',\n\t\t\t\tmime: 'image/heic'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x68, 0x65, 0x76, 0x63], {offset: 8}) || check([0x68, 0x65, 0x76, 0x78], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'heic',\n\t\t\t\tmime: 'image/heic-sequence'\n\t\t\t};\n\t\t}\n\t}\n\n\tif (check([0xAB, 0x4B, 0x54, 0x58, 0x20, 0x31, 0x31, 0xBB, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\treturn {\n\t\t\text: 'ktx',\n\t\t\tmime: 'image/ktx'\n\t\t};\n\t}\n\n\tif (check([0x44, 0x49, 0x43, 0x4D], {offset: 128})) {\n\t\treturn {\n\t\t\text: 'dcm',\n\t\t\tmime: 'application/dicom'\n\t\t};\n\t}\n\n\t// Musepack, SV7\n\tif (check([0x4D, 0x50, 0x2B])) {\n\t\treturn {\n\t\t\text: 'mpc',\n\t\t\tmime: 'audio/x-musepack'\n\t\t};\n\t}\n\n\t// Musepack, SV8\n\tif (check([0x4D, 0x50, 0x43, 0x4B])) {\n\t\treturn {\n\t\t\text: 'mpc',\n\t\t\tmime: 'audio/x-musepack'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x45, 0x47, 0x49, 0x4E, 0x3A])) {\n\t\treturn {\n\t\t\text: 'ics',\n\t\t\tmime: 'text/calendar'\n\t\t};\n\t}\n\n\tif (check([0x67, 0x6C, 0x54, 0x46, 0x02, 0x00, 0x00, 0x00])) {\n\t\treturn {\n\t\t\text: 'glb',\n\t\t\tmime: 'model/gltf-binary'\n\t\t};\n\t}\n\n\tif (check([0xD4, 0xC3, 0xB2, 0xA1]) || check([0xA1, 0xB2, 0xC3, 0xD4])) {\n\t\treturn {\n\t\t\text: 'pcap',\n\t\t\tmime: 'application/vnd.tcpdump.pcap'\n\t\t};\n\t}\n\n\treturn null;\n};\n\nmodule.exports = fileType;\n// TODO: Remove this for the next major release\nmodule.exports.default = fileType;\n\nObject.defineProperty(fileType, 'minimumBytes', {value: 4100});\n\nmodule.exports.stream = readableStream => new Promise((resolve, reject) => {\n\t// Using `eval` to work around issues when bundling with Webpack\n\tconst stream = eval('require')('stream'); // eslint-disable-line no-eval\n\n\treadableStream.once('readable', () => {\n\t\tconst pass = new stream.PassThrough();\n\t\tconst chunk = readableStream.read(module.exports.minimumBytes) || readableStream.read();\n\t\ttry {\n\t\t\tpass.fileType = fileType(chunk);\n\t\t} catch (error) {\n\t\t\treject(error);\n\t\t}\n\n\t\treadableStream.unshift(chunk);\n\n\t\tif (stream.pipeline) {\n\t\t\tresolve(stream.pipeline(readableStream, pass, () => {}));\n\t\t} else {\n\t\t\tresolve(readableStream.pipe(pass));\n\t\t}\n\t});\n});\n", "'use strict';\n\nvar Validator = module.exports.Validator = require('./validator');\n\nmodule.exports.ValidatorResult = require('./helpers').ValidatorResult;\nmodule.exports.ValidationError = require('./helpers').ValidationError;\nmodule.exports.SchemaError = require('./helpers').SchemaError;\nmodule.exports.SchemaScanResult = require('./scan').SchemaScanResult;\nmodule.exports.scan = require('./scan').scan;\n\nmodule.exports.validate = function (instance, schema, options) {\n  var v = new Validator();\n  return v.validate(instance, schema, options);\n};\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n", "\nvar urilib = require('url');\nvar helpers = require('./helpers');\n\nmodule.exports.SchemaScanResult = SchemaScanResult;\nfunction SchemaScanResult(found, ref){\n  this.id = found;\n  this.ref = ref;\n}\n\n/**\n * Adds a schema with a certain urn to the Validator instance.\n * @param string uri\n * @param object schema\n * @return {Object}\n */\nmodule.exports.scan = function scan(base, schema){\n  function scanSchema(baseuri, schema){\n    if(!schema || typeof schema!='object') return;\n    // Mark all referenced schemas so we can tell later which schemas are referred to, but never defined\n    if(schema.$ref){\n      var resolvedUri = urilib.resolve(baseuri, schema.$ref);\n      ref[resolvedUri] = ref[resolvedUri] ? ref[resolvedUri]+1 : 0;\n      return;\n    }\n    var ourBase = schema.id ? urilib.resolve(baseuri, schema.id) : baseuri;\n    if (ourBase) {\n      // If there's no fragment, append an empty one\n      if(ourBase.indexOf('#')<0) ourBase += '#';\n      if(found[ourBase]){\n        if(!helpers.deepCompareStrict(found[ourBase], schema)){\n          throw new Error('Schema <'+schema+'> already exists with different definition');\n        }\n        return found[ourBase];\n      }\n      found[ourBase] = schema;\n      // strip trailing fragment\n      if(ourBase[ourBase.length-1]=='#'){\n        found[ourBase.substring(0, ourBase.length-1)] = schema;\n      }\n    }\n    scanArray(ourBase+'/items', ((schema.items instanceof Array)?schema.items:[schema.items]));\n    scanArray(ourBase+'/extends', ((schema.extends instanceof Array)?schema.extends:[schema.extends]));\n    scanSchema(ourBase+'/additionalItems', schema.additionalItems);\n    scanObject(ourBase+'/properties', schema.properties);\n    scanSchema(ourBase+'/additionalProperties', schema.additionalProperties);\n    scanObject(ourBase+'/definitions', schema.definitions);\n    scanObject(ourBase+'/patternProperties', schema.patternProperties);\n    scanObject(ourBase+'/dependencies', schema.dependencies);\n    scanArray(ourBase+'/disallow', schema.disallow);\n    scanArray(ourBase+'/allOf', schema.allOf);\n    scanArray(ourBase+'/anyOf', schema.anyOf);\n    scanArray(ourBase+'/oneOf', schema.oneOf);\n    scanSchema(ourBase+'/not', schema.not);\n  }\n  function scanArray(baseuri, schemas){\n    if(!(schemas instanceof Array)) return;\n    for(var i=0; i<schemas.length; i++){\n      scanSchema(baseuri+'/'+i, schemas[i]);\n    }\n  }\n  function scanObject(baseuri, schemas){\n    if(!schemas || typeof schemas!='object') return;\n    for(var p in schemas){\n      scanSchema(baseuri+'/'+p, schemas[p]);\n    }\n  }\n\n  var found = {};\n  var ref = {};\n  var schemaUri = base;\n  scanSchema(base, schema);\n  return new SchemaScanResult(found, ref);\n}\n", "'use strict';\n\nconst nodeToJson = require('./node2json');\nconst xmlToNodeobj = require('./xmlstr2xmlnode');\nconst x2xmlnode = require('./xmlstr2xmlnode');\nconst buildOptions = require('./util').buildOptions;\nconst validator = require('./validator');\n\nexports.parse = function(xmlData, options, validationOption) {\n  if( validationOption){\n    if(validationOption === true) validationOption = {}\n    \n    const result = validator.validate(xmlData, validationOption);\n    if (result !== true) {\n      throw Error( result.err.msg)\n    }\n  }\n  options = buildOptions(options, x2xmlnode.defaultOptions, x2xmlnode.props);\n  return nodeToJson.convertToJson(xmlToNodeobj.getTraversalObj(xmlData, options), options);\n};\nexports.convertTonimn = require('../src/nimndata').convert2nimn;\nexports.getTraversalObj = xmlToNodeobj.getTraversalObj;\nexports.convertToJson = nodeToJson.convertToJson;\nexports.convertToJsonString = require('./node2json_str').convertToJsonString;\nexports.validate = validator.validate;\nexports.j2xParser = require('./json2xml');\nexports.parseToNimn = function(xmlData, schema, options) {\n  return exports.convertTonimn(exports.getTraversalObj(xmlData, options), schema, options);\n};\n", "import { isString } from './is';\n\n/**\n * Given a child DOM element, returns a query-selector statement describing that\n * and its ancestors\n * e.g. [HTMLElement] => body > div > input#foo.btn[name=baz]\n * @returns generated DOM path\n */\nexport function htmlTreeAsString(elem: unknown): string {\n  type SimpleNode = {\n    parentNode: SimpleNode;\n  } | null;\n\n  // try/catch both:\n  // - accessing event.target (see getsentry/raven-js#838, #768)\n  // - `htmlTreeAsString` because it's complex, and just accessing the DOM incorrectly\n  // - can throw an exception in some circumstances.\n  try {\n    let currentElem = elem as SimpleNode;\n    const MAX_TRAVERSE_HEIGHT = 5;\n    const MAX_OUTPUT_LEN = 80;\n    const out = [];\n    let height = 0;\n    let len = 0;\n    const separator = ' > ';\n    const sepLength = separator.length;\n    let nextStr;\n\n    // eslint-disable-next-line no-plusplus\n    while (currentElem && height++ < MAX_TRAVERSE_HEIGHT) {\n      nextStr = _htmlElementAsString(currentElem);\n      // bail out if\n      // - nextStr is the 'html' element\n      // - the length of the string that would be created exceeds MAX_OUTPUT_LEN\n      //   (ignore this limit if we are on the first iteration)\n      if (nextStr === 'html' || (height > 1 && len + out.length * sepLength + nextStr.length >= MAX_OUTPUT_LEN)) {\n        break;\n      }\n\n      out.push(nextStr);\n\n      len += nextStr.length;\n      currentElem = currentElem.parentNode;\n    }\n\n    return out.reverse().join(separator);\n  } catch (_oO) {\n    return '<unknown>';\n  }\n}\n\n/**\n * Returns a simple, query-selector representation of a DOM element\n * e.g. [HTMLElement] => input#foo.btn[name=baz]\n * @returns generated DOM path\n */\nfunction _htmlElementAsString(el: unknown): string {\n  const elem = el as {\n    tagName?: string;\n    id?: string;\n    className?: string;\n    getAttribute(key: string): string;\n  };\n\n  const out = [];\n  let className;\n  let classes;\n  let key;\n  let attr;\n  let i;\n\n  if (!elem || !elem.tagName) {\n    return '';\n  }\n\n  out.push(elem.tagName.toLowerCase());\n  if (elem.id) {\n    out.push(`#${elem.id}`);\n  }\n\n  // eslint-disable-next-line prefer-const\n  className = elem.className;\n  if (className && isString(className)) {\n    classes = className.split(/\\s+/);\n    for (i = 0; i < classes.length; i++) {\n      out.push(`.${classes[i]}`);\n    }\n  }\n  const allowedAttrs = ['type', 'name', 'title', 'alt'];\n  for (i = 0; i < allowedAttrs.length; i++) {\n    key = allowedAttrs[i];\n    attr = elem.getAttribute(key);\n    if (attr) {\n      out.push(`[${key}=\"${attr}\"]`);\n    }\n  }\n  return out.join('');\n}\n", "module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n", "/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n", "// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n", "'use strict';\n/*\n    https://tools.ietf.org/html/rfc3629\n\n    UTF8-char = UTF8-1 / UTF8-2 / UTF8-3 / UTF8-4\n\n    UTF8-1    = %x00-7F\n\n    UTF8-2    = %xC2-DF UTF8-tail\n\n    UTF8-3    = %xE0 %xA0-BF UTF8-tail\n                %xE1-EC 2( UTF8-tail )\n                %xED %x80-9F UTF8-tail\n                %xEE-EF 2( UTF8-tail )\n\n    UTF8-4    = %xF0 %x90-BF 2( UTF8-tail )\n                %xF1-F3 3( UTF8-tail )\n                %xF4 %x80-8F 2( UTF8-tail )\n\n    UTF8-tail = %x80-BF\n*/\n\n/**\n * Check if a Node.js Buffer or Uint8Array is utf-8\n *\n * @param {Buffer|Uint8Array} buf\n * @returns {boolean}\n */\nfunction isUtf8(buf) {\n    if (!buf) {\n        return false;\n    }\n\n    var i = 0, len = buf.length;\n\n    while(i < len) {\n        // UTF8-1 = %x00-7F\n        if (buf[i] <= 0x7F) {\n            i++;\n\n            continue;\n        }\n\n        // UTF8-2 = %xC2-DF UTF8-tail\n        if (buf[i] >= 0xC2 && buf[i] <= 0xDF) {\n            // if(buf[i + 1] >= 0x80 && buf[i + 1] <= 0xBF) {\n            if (buf[i + 1] >> 6 === 2) {\n                i += 2;\n\n                continue;\n            } else {\n                return false;\n            }\n        }\n\n        // UTF8-3 = %xE0 %xA0-BF UTF8-tail\n        // UTF8-3 = %xED %x80-9F UTF8-tail\n        if (\n                (\n                    (buf[i] === 0xE0 && buf[i + 1] >= 0xA0 && buf[i + 1] <= 0xBF) ||\n                    (buf[i] === 0xED && buf[i + 1] >= 0x80 && buf[i + 1] <= 0x9F)\n                ) && buf[i + 2] >> 6 === 2\n            ) {\n            i += 3;\n\n            continue;\n        }\n\n        // UTF8-3 = %xE1-EC 2( UTF8-tail )\n        // UTF8-3 = %xEE-EF 2( UTF8-tail )\n        if (\n                (\n                    (buf[i] >= 0xE1 && buf[i] <= 0xEC) ||\n                    (buf[i] >= 0xEE && buf[i] <= 0xEF)\n                ) &&\n                buf[i + 1] >> 6 === 2 &&\n                buf[i + 2] >> 6 === 2\n        ) {\n            i += 3;\n\n            continue;\n        }\n\n        // UTF8-4 = %xF0 %x90-BF 2( UTF8-tail )\n        //          %xF1-F3 3( UTF8-tail )\n        //          %xF4 %x80-8F 2( UTF8-tail )\n        if (\n                (\n                    (buf[i] === 0xF0 && buf[i + 1] >= 0x90 && buf[i + 1] <= 0xBF) ||\n                    (buf[i] >= 0xF1 && buf[i] <= 0xF3 && buf[i + 1] >> 6 === 2) ||\n                    (buf[i] === 0xF4  && buf[i + 1] >= 0x80 && buf[i + 1] <= 0x8F)\n                ) &&\n            buf[i + 2] >> 6 === 2 &&\n            buf[i + 3] >> 6 === 2\n        ) {\n            i += 4;\n\n            continue;\n        }\n\n        return false;\n    }\n\n    return true;\n}\n\nmodule.exports = isUtf8;\n", "(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} raw     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     raw True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n", "'use strict';\n\nconst EventEmitter = require('eventemitter3');\n\n// Port of lower_bound from http://en.cppreference.com/w/cpp/algorithm/lower_bound\n// Used to compute insertion index to keep queue sorted after insertion\nfunction lowerBound(array, value, comp) {\n\tlet first = 0;\n\tlet count = array.length;\n\n\twhile (count > 0) {\n\t\tconst step = (count / 2) | 0;\n\t\tlet it = first + step;\n\n\t\tif (comp(array[it], value) <= 0) {\n\t\t\tfirst = ++it;\n\t\t\tcount -= step + 1;\n\t\t} else {\n\t\t\tcount = step;\n\t\t}\n\t}\n\n\treturn first;\n}\n\nclass PriorityQueue {\n\tconstructor() {\n\t\tthis._queue = [];\n\t}\n\n\tenqueue(run, options) {\n\t\toptions = Object.assign({\n\t\t\tpriority: 0\n\t\t}, options);\n\n\t\tconst element = {priority: options.priority, run};\n\n\t\tif (this.size && this._queue[this.size - 1].priority >= options.priority) {\n\t\t\tthis._queue.push(element);\n\t\t\treturn;\n\t\t}\n\n\t\tconst index = lowerBound(this._queue, element, (a, b) => b.priority - a.priority);\n\t\tthis._queue.splice(index, 0, element);\n\t}\n\n\tdequeue() {\n\t\treturn this._queue.shift().run;\n\t}\n\n\tget size() {\n\t\treturn this._queue.length;\n\t}\n}\n\nclass PQueue extends EventEmitter {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\toptions = Object.assign({\n\t\t\tcarryoverConcurrencyCount: false,\n\t\t\tintervalCap: Infinity,\n\t\t\tinterval: 0,\n\t\t\tconcurrency: Infinity,\n\t\t\tautoStart: true,\n\t\t\tqueueClass: PriorityQueue\n\t\t}, options);\n\n\t\tif (!(typeof options.concurrency === 'number' && options.concurrency >= 1)) {\n\t\t\tthrow new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${options.concurrency}\\` (${typeof options.concurrency})`);\n\t\t}\n\n\t\tif (!(typeof options.intervalCap === 'number' && options.intervalCap >= 1)) {\n\t\t\tthrow new TypeError(`Expected \\`intervalCap\\` to be a number from 1 and up, got \\`${options.intervalCap}\\` (${typeof options.intervalCap})`);\n\t\t}\n\n\t\tif (!(Number.isFinite(options.interval) && options.interval >= 0)) {\n\t\t\tthrow new TypeError(`Expected \\`interval\\` to be a finite number >= 0, got \\`${options.interval}\\` (${typeof options.interval})`);\n\t\t}\n\n\t\tthis._carryoverConcurrencyCount = options.carryoverConcurrencyCount;\n\t\tthis._isIntervalIgnored = options.intervalCap === Infinity || options.interval === 0;\n\t\tthis._intervalCount = 0;\n\t\tthis._intervalCap = options.intervalCap;\n\t\tthis._interval = options.interval;\n\t\tthis._intervalId = null;\n\t\tthis._intervalEnd = 0;\n\t\tthis._timeoutId = null;\n\n\t\tthis.queue = new options.queueClass(); // eslint-disable-line new-cap\n\t\tthis._queueClass = options.queueClass;\n\t\tthis._pendingCount = 0;\n\t\tthis._concurrency = options.concurrency;\n\t\tthis._isPaused = options.autoStart === false;\n\t\tthis._resolveEmpty = () => {};\n\t\tthis._resolveIdle = () => {};\n\t}\n\n\tget _doesIntervalAllowAnother() {\n\t\treturn this._isIntervalIgnored || this._intervalCount < this._intervalCap;\n\t}\n\n\tget _doesConcurrentAllowAnother() {\n\t\treturn this._pendingCount < this._concurrency;\n\t}\n\n\t_next() {\n\t\tthis._pendingCount--;\n\t\tthis._tryToStartAnother();\n\t}\n\n\t_resolvePromises() {\n\t\tthis._resolveEmpty();\n\t\tthis._resolveEmpty = () => {};\n\n\t\tif (this._pendingCount === 0) {\n\t\t\tthis._resolveIdle();\n\t\t\tthis._resolveIdle = () => {};\n\t\t}\n\t}\n\n\t_onResumeInterval() {\n\t\tthis._onInterval();\n\t\tthis._initializeIntervalIfNeeded();\n\t\tthis._timeoutId = null;\n\t}\n\n\t_intervalPaused() {\n\t\tconst now = Date.now();\n\n\t\tif (this._intervalId === null) {\n\t\t\tconst delay = this._intervalEnd - now;\n\t\t\tif (delay < 0) {\n\t\t\t\t// Act as the interval was done\n\t\t\t\t// We don't need to resume it here,\n\t\t\t\t// because it'll be resumed on line 160\n\t\t\t\tthis._intervalCount = (this._carryoverConcurrencyCount) ? this._pendingCount : 0;\n\t\t\t} else {\n\t\t\t\t// Act as the interval is pending\n\t\t\t\tif (this._timeoutId === null) {\n\t\t\t\t\tthis._timeoutId = setTimeout(() => this._onResumeInterval(), delay);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t_tryToStartAnother() {\n\t\tif (this.queue.size === 0) {\n\t\t\t// We can clear the interval (\"pause\")\n\t\t\t// because we can redo it later (\"resume\")\n\t\t\tclearInterval(this._intervalId);\n\t\t\tthis._intervalId = null;\n\n\t\t\tthis._resolvePromises();\n\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this._isPaused) {\n\t\t\tconst canInitializeInterval = !this._intervalPaused();\n\t\t\tif (this._doesIntervalAllowAnother && this._doesConcurrentAllowAnother) {\n\t\t\t\tthis.emit('active');\n\t\t\t\tthis.queue.dequeue()();\n\t\t\t\tif (canInitializeInterval) {\n\t\t\t\t\tthis._initializeIntervalIfNeeded();\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t_initializeIntervalIfNeeded() {\n\t\tif (this._isIntervalIgnored || this._intervalId !== null) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._intervalId = setInterval(() => this._onInterval(), this._interval);\n\t\tthis._intervalEnd = Date.now() + this._interval;\n\t}\n\n\t_onInterval() {\n\t\tif (this._intervalCount === 0 && this._pendingCount === 0) {\n\t\t\tclearInterval(this._intervalId);\n\t\t\tthis._intervalId = null;\n\t\t}\n\n\t\tthis._intervalCount = (this._carryoverConcurrencyCount) ? this._pendingCount : 0;\n\t\twhile (this._tryToStartAnother()) {} // eslint-disable-line no-empty\n\t}\n\n\tadd(fn, options) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst run = () => {\n\t\t\t\tthis._pendingCount++;\n\t\t\t\tthis._intervalCount++;\n\n\t\t\t\ttry {\n\t\t\t\t\tPromise.resolve(fn()).then(\n\t\t\t\t\t\tval => {\n\t\t\t\t\t\t\tresolve(val);\n\t\t\t\t\t\t\tthis._next();\n\t\t\t\t\t\t},\n\t\t\t\t\t\terr => {\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\tthis._next();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t\tthis._next();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.queue.enqueue(run, options);\n\t\t\tthis._tryToStartAnother();\n\t\t});\n\t}\n\n\taddAll(fns, options) {\n\t\treturn Promise.all(fns.map(fn => this.add(fn, options)));\n\t}\n\n\tstart() {\n\t\tif (!this._isPaused) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isPaused = false;\n\t\twhile (this._tryToStartAnother()) {} // eslint-disable-line no-empty\n\t}\n\n\tpause() {\n\t\tthis._isPaused = true;\n\t}\n\n\tclear() {\n\t\tthis.queue = new this._queueClass();\n\t}\n\n\tonEmpty() {\n\t\t// Instantly resolve if the queue is empty\n\t\tif (this.queue.size === 0) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\treturn new Promise(resolve => {\n\t\t\tconst existingResolve = this._resolveEmpty;\n\t\t\tthis._resolveEmpty = () => {\n\t\t\t\texistingResolve();\n\t\t\t\tresolve();\n\t\t\t};\n\t\t});\n\t}\n\n\tonIdle() {\n\t\t// Instantly resolve if none pending and if nothing else is queued\n\t\tif (this._pendingCount === 0 && this.queue.size === 0) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\treturn new Promise(resolve => {\n\t\t\tconst existingResolve = this._resolveIdle;\n\t\t\tthis._resolveIdle = () => {\n\t\t\t\texistingResolve();\n\t\t\t\tresolve();\n\t\t\t};\n\t\t});\n\t}\n\n\tget size() {\n\t\treturn this.queue.size;\n\t}\n\n\tget pending() {\n\t\treturn this._pendingCount;\n\t}\n\n\tget isPaused() {\n\t\treturn this._isPaused;\n\t}\n}\n\nmodule.exports = PQueue;\nmodule.exports.default = PQueue;\n", "/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, true, true);\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = cloneDeep;\n", "const defaultFunctionName = '<anonymous>';\n\n/**\n * Safely extract function name from itself\n */\nexport function getFunctionName(fn: unknown): string {\n  try {\n    if (!fn || typeof fn !== 'function') {\n      return defaultFunctionName;\n    }\n    return fn.name || defaultFunctionName;\n  } catch (e) {\n    // Just accessing custom props in some Selenium environments\n    // can cause a \"Permission denied\" exception (see raven-js#495).\n    return defaultFunctionName;\n  }\n}\n", "/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/**\n * Memo class used for decycle json objects. Uses WeakSet if available otherwise array.\n */\nexport class Memo {\n  /** Determines if WeakSet is available */\n  private readonly _hasWeakSet: boolean;\n  /** Either WeakSet or Array */\n  private readonly _inner: any;\n\n  public constructor() {\n    this._hasWeakSet = typeof WeakSet === 'function';\n    this._inner = this._hasWeakSet ? new WeakSet() : [];\n  }\n\n  /**\n   * Sets obj to remember.\n   * @param obj Object to remember\n   */\n  public memoize(obj: any): boolean {\n    if (this._hasWeakSet) {\n      if (this._inner.has(obj)) {\n        return true;\n      }\n      this._inner.add(obj);\n      return false;\n    }\n    // eslint-disable-next-line @typescript-eslint/prefer-for-of\n    for (let i = 0; i < this._inner.length; i++) {\n      const value = this._inner[i];\n      if (value === obj) {\n        return true;\n      }\n    }\n    this._inner.push(obj);\n    return false;\n  }\n\n  /**\n   * Removes object from internal storage.\n   * @param obj Object to forget\n   */\n  public unmemoize(obj: any): void {\n    if (this._hasWeakSet) {\n      this._inner.delete(obj);\n    } else {\n      for (let i = 0; i < this._inner.length; i++) {\n        if (this._inner[i] === obj) {\n          this._inner.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n}\n", "'use strict';\n\nvar urilib = require('url');\n\nvar attribute = require('./attribute');\nvar helpers = require('./helpers');\nvar scanSchema = require('./scan').scan;\nvar ValidatorResult = helpers.ValidatorResult;\nvar SchemaError = helpers.SchemaError;\nvar SchemaContext = helpers.SchemaContext;\n//var anonymousBase = 'vnd.jsonschema:///';\nvar anonymousBase = '/';\n\n/**\n * Creates a new Validator object\n * @name Validator\n * @constructor\n */\nvar Validator = function Validator () {\n  // Allow a validator instance to override global custom formats or to have their\n  // own custom formats.\n  this.customFormats = Object.create(Validator.prototype.customFormats);\n  this.schemas = {};\n  this.unresolvedRefs = [];\n\n  // Use Object.create to make this extensible without Validator instances stepping on each other's toes.\n  this.types = Object.create(types);\n  this.attributes = Object.create(attribute.validators);\n};\n\n// Allow formats to be registered globally.\nValidator.prototype.customFormats = {};\n\n// Hint at the presence of a property\nValidator.prototype.schemas = null;\nValidator.prototype.types = null;\nValidator.prototype.attributes = null;\nValidator.prototype.unresolvedRefs = null;\n\n/**\n * Adds a schema with a certain urn to the Validator instance.\n * @param schema\n * @param urn\n * @return {Object}\n */\nValidator.prototype.addSchema = function addSchema (schema, base) {\n  var self = this;\n  if (!schema) {\n    return null;\n  }\n  var scan = scanSchema(base||anonymousBase, schema);\n  var ourUri = base || schema.id;\n  for(var uri in scan.id){\n    this.schemas[uri] = scan.id[uri];\n  }\n  for(var uri in scan.ref){\n    this.unresolvedRefs.push(uri);\n  }\n  this.unresolvedRefs = this.unresolvedRefs.filter(function(uri){\n    return typeof self.schemas[uri]==='undefined';\n  });\n  return this.schemas[ourUri];\n};\n\nValidator.prototype.addSubSchemaArray = function addSubSchemaArray(baseuri, schemas) {\n  if(!(schemas instanceof Array)) return;\n  for(var i=0; i<schemas.length; i++){\n    this.addSubSchema(baseuri, schemas[i]);\n  }\n};\n\nValidator.prototype.addSubSchemaObject = function addSubSchemaArray(baseuri, schemas) {\n  if(!schemas || typeof schemas!='object') return;\n  for(var p in schemas){\n    this.addSubSchema(baseuri, schemas[p]);\n  }\n};\n\n\n\n/**\n * Sets all the schemas of the Validator instance.\n * @param schemas\n */\nValidator.prototype.setSchemas = function setSchemas (schemas) {\n  this.schemas = schemas;\n};\n\n/**\n * Returns the schema of a certain urn\n * @param urn\n */\nValidator.prototype.getSchema = function getSchema (urn) {\n  return this.schemas[urn];\n};\n\n/**\n * Validates instance against the provided schema\n * @param instance\n * @param schema\n * @param [options]\n * @param [ctx]\n * @return {Array}\n */\nValidator.prototype.validate = function validate (instance, schema, options, ctx) {\n  if (!options) {\n    options = {};\n  }\n  var propertyName = options.propertyName || 'instance';\n  // This will work so long as the function at uri.resolve() will resolve a relative URI to a relative URI\n  var base = urilib.resolve(options.base||anonymousBase, schema.id||'');\n  if(!ctx){\n    ctx = new SchemaContext(schema, options, propertyName, base, Object.create(this.schemas));\n    if (!ctx.schemas[base]) {\n      ctx.schemas[base] = schema;\n    }\n    var found = scanSchema(base, schema);\n    for(var n in found.id){\n      var sch = found.id[n];\n      ctx.schemas[n] = sch;\n    }\n  }\n  if (schema) {\n    var result = this.validateSchema(instance, schema, options, ctx);\n    if (!result) {\n      throw new Error('Result undefined');\n    }\n    return result;\n  }\n  throw new SchemaError('no schema specified', schema);\n};\n\n/**\n* @param Object schema\n* @return mixed schema uri or false\n*/\nfunction shouldResolve(schema) {\n  var ref = (typeof schema === 'string') ? schema : schema.$ref;\n  if (typeof ref=='string') return ref;\n  return false;\n}\n\n/**\n * Validates an instance against the schema (the actual work horse)\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @private\n * @return {ValidatorResult}\n */\nValidator.prototype.validateSchema = function validateSchema (instance, schema, options, ctx) {\n  var result = new ValidatorResult(instance, schema, options, ctx);\n\n    // Support for the true/false schemas\n  if(typeof schema==='boolean') {\n    if(schema===true){\n      // `true` is always valid\n      schema = {};\n    }else if(schema===false){\n      // `false` is always invalid\n      schema = {type: []};\n    }\n  }else if(!schema){\n    // This might be a string\n    throw new Error(\"schema is undefined\");\n  }\n\n  if (schema['extends']) {\n    if (schema['extends'] instanceof Array) {\n      var schemaobj = {schema: schema, ctx: ctx};\n      schema['extends'].forEach(this.schemaTraverser.bind(this, schemaobj));\n      schema = schemaobj.schema;\n      schemaobj.schema = null;\n      schemaobj.ctx = null;\n      schemaobj = null;\n    } else {\n      schema = helpers.deepMerge(schema, this.superResolve(schema['extends'], ctx));\n    }\n  }\n\n  // If passed a string argument, load that schema URI\n  var switchSchema;\n  if (switchSchema = shouldResolve(schema)) {\n    var resolved = this.resolve(schema, switchSchema, ctx);\n    var subctx = new SchemaContext(resolved.subschema, options, ctx.propertyPath, resolved.switchSchema, ctx.schemas);\n    return this.validateSchema(instance, resolved.subschema, options, subctx);\n  }\n\n  var skipAttributes = options && options.skipAttributes || [];\n  // Validate each schema attribute against the instance\n  for (var key in schema) {\n    if (!attribute.ignoreProperties[key] && skipAttributes.indexOf(key) < 0) {\n      var validatorErr = null;\n      var validator = this.attributes[key];\n      if (validator) {\n        validatorErr = validator.call(this, instance, schema, options, ctx);\n      } else if (options.allowUnknownAttributes === false) {\n        // This represents an error with the schema itself, not an invalid instance\n        throw new SchemaError(\"Unsupported attribute: \" + key, schema);\n      }\n      if (validatorErr) {\n        result.importErrors(validatorErr);\n      }\n    }\n  }\n\n  if (typeof options.rewrite == 'function') {\n    var value = options.rewrite.call(this, instance, schema, options, ctx);\n    result.instance = value;\n  }\n  return result;\n};\n\n/**\n* @private\n* @param Object schema\n* @param SchemaContext ctx\n* @returns Object schema or resolved schema\n*/\nValidator.prototype.schemaTraverser = function schemaTraverser (schemaobj, s) {\n  schemaobj.schema = helpers.deepMerge(schemaobj.schema, this.superResolve(s, schemaobj.ctx));\n}\n\n/**\n* @private\n* @param Object schema\n* @param SchemaContext ctx\n* @returns Object schema or resolved schema\n*/\nValidator.prototype.superResolve = function superResolve (schema, ctx) {\n  var ref;\n  if(ref = shouldResolve(schema)) {\n    return this.resolve(schema, ref, ctx).subschema;\n  }\n  return schema;\n}\n\n/**\n* @private\n* @param Object schema\n* @param Object switchSchema\n* @param SchemaContext ctx\n* @return Object resolved schemas {subschema:String, switchSchema: String}\n* @throws SchemaError\n*/\nValidator.prototype.resolve = function resolve (schema, switchSchema, ctx) {\n  switchSchema = ctx.resolve(switchSchema);\n  // First see if the schema exists under the provided URI\n  if (ctx.schemas[switchSchema]) {\n    return {subschema: ctx.schemas[switchSchema], switchSchema: switchSchema};\n  }\n  // Else try walking the property pointer\n  var parsed = urilib.parse(switchSchema);\n  var fragment = parsed && parsed.hash;\n  var document = fragment && fragment.length && switchSchema.substr(0, switchSchema.length - fragment.length);\n  if (!document || !ctx.schemas[document]) {\n    throw new SchemaError(\"no such schema <\" + switchSchema + \">\", schema);\n  }\n  var subschema = helpers.objectGetPath(ctx.schemas[document], fragment.substr(1));\n  if(subschema===undefined){\n    throw new SchemaError(\"no such schema \" + fragment + \" located in <\" + document + \">\", schema);\n  }\n  return {subschema: subschema, switchSchema: switchSchema};\n};\n\n/**\n * Tests whether the instance if of a certain type.\n * @private\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @param type\n * @return {boolean}\n */\nValidator.prototype.testType = function validateType (instance, schema, options, ctx, type) {\n  if (typeof this.types[type] == 'function') {\n    return this.types[type].call(this, instance);\n  }\n  if (type && typeof type == 'object') {\n    var res = this.validateSchema(instance, type, options, ctx);\n    return res === undefined || !(res && res.errors.length);\n  }\n  // Undefined or properties not on the list are acceptable, same as not being defined\n  return true;\n};\n\nvar types = Validator.prototype.types = {};\ntypes.string = function testString (instance) {\n  return typeof instance == 'string';\n};\ntypes.number = function testNumber (instance) {\n  // isFinite returns false for NaN, Infinity, and -Infinity\n  return typeof instance == 'number' && isFinite(instance);\n};\ntypes.integer = function testInteger (instance) {\n  return (typeof instance == 'number') && instance % 1 === 0;\n};\ntypes.boolean = function testBoolean (instance) {\n  return typeof instance == 'boolean';\n};\ntypes.array = function testArray (instance) {\n  return Array.isArray(instance);\n};\ntypes['null'] = function testNull (instance) {\n  return instance === null;\n};\ntypes.date = function testDate (instance) {\n  return instance instanceof Date;\n};\ntypes.any = function testAny (instance) {\n  return true;\n};\ntypes.object = function testObject (instance) {\n  // TODO: fix this - see #15\n  return instance && (typeof instance) === 'object' && !(instance instanceof Array) && !(instance instanceof Date);\n};\n\nmodule.exports = Validator;\n", "/*! https://mths.be/punycode v1.3.2 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.3.2',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n", "'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n", "'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n", "'use strict';\n\nvar helpers = require('./helpers');\n\n/** @type ValidatorResult */\nvar ValidatorResult = helpers.ValidatorResult;\n/** @type SchemaError */\nvar SchemaError = helpers.SchemaError;\n\nvar attribute = {};\n\nattribute.ignoreProperties = {\n  // informative properties\n  'id': true,\n  'default': true,\n  'description': true,\n  'title': true,\n  // arguments to other properties\n  'exclusiveMinimum': true,\n  'exclusiveMaximum': true,\n  'additionalItems': true,\n  // special-handled properties\n  '$schema': true,\n  '$ref': true,\n  'extends': true\n};\n\n/**\n * @name validators\n */\nvar validators = attribute.validators = {};\n\n/**\n * Validates whether the instance if of a certain type\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {ValidatorResult|null}\n */\nvalidators.type = function validateType (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var types = Array.isArray(schema.type) ? schema.type : [schema.type];\n  if (!types.some(this.testType.bind(this, instance, schema, options, ctx))) {\n    var list = types.map(function (v) {\n      return v.id && ('<' + v.id + '>') || (v+'');\n    });\n    result.addError({\n      name: 'type',\n      argument: list,\n      message: \"is not of a type(s) \" + list,\n    });\n  }\n  return result;\n};\n\nfunction testSchemaNoThrow(instance, options, ctx, callback, schema){\n  var throwError = options.throwError;\n  options.throwError = false;\n  var res = this.validateSchema(instance, schema, options, ctx);\n  options.throwError = throwError;\n\n  if (! res.valid && callback instanceof Function) {\n    callback(res);\n  }\n  return res.valid;\n}\n\n/**\n * Validates whether the instance matches some of the given schemas\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {ValidatorResult|null}\n */\nvalidators.anyOf = function validateAnyOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var inner = new ValidatorResult(instance, schema, options, ctx);\n  if (!Array.isArray(schema.anyOf)){\n    throw new SchemaError(\"anyOf must be an array\");\n  }\n  if (!schema.anyOf.some(\n    testSchemaNoThrow.bind(\n      this, instance, options, ctx, function(res){inner.importErrors(res);}\n      ))) {\n    var list = schema.anyOf.map(function (v, i) {\n      return (v.id && ('<' + v.id + '>')) || (v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n    });\n    if (options.nestedErrors) {\n      result.importErrors(inner);\n    }\n    result.addError({\n      name: 'anyOf',\n      argument: list,\n      message: \"is not any of \" + list.join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance matches every given schema\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.allOf = function validateAllOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema.allOf)){\n    throw new SchemaError(\"allOf must be an array\");\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var self = this;\n  schema.allOf.forEach(function(v, i){\n    var valid = self.validateSchema(instance, v, options, ctx);\n    if(!valid.valid){\n      var msg = (v.id && ('<' + v.id + '>')) || (v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n      result.addError({\n        name: 'allOf',\n        argument: { id: msg, length: valid.errors.length, valid: valid },\n        message: 'does not match allOf schema ' + msg + ' with ' + valid.errors.length + ' error[s]:',\n      });\n      result.importErrors(valid);\n    }\n  });\n  return result;\n};\n\n/**\n * Validates whether the instance matches exactly one of the given schemas\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.oneOf = function validateOneOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema.oneOf)){\n    throw new SchemaError(\"oneOf must be an array\");\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var inner = new ValidatorResult(instance, schema, options, ctx);\n  var count = schema.oneOf.filter(\n    testSchemaNoThrow.bind(\n      this, instance, options, ctx, function(res) {inner.importErrors(res);}\n      ) ).length;\n  var list = schema.oneOf.map(function (v, i) {\n    return (v.id && ('<' + v.id + '>')) || (v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n  });\n  if (count!==1) {\n    if (options.nestedErrors) {\n      result.importErrors(inner);\n    }\n    result.addError({\n      name: 'oneOf',\n      argument: list,\n      message: \"is not exactly one from \" + list.join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates properties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.properties = function validateProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var properties = schema.properties || {};\n  for (var property in properties) {\n    if (typeof options.preValidateProperty == 'function') {\n      options.preValidateProperty(instance, property, properties[property], options, ctx);\n    }\n\n    var prop = Object.hasOwnProperty.call(instance, property) ? instance[property] : undefined;\n    var res = this.validateSchema(prop, properties[property], options, ctx.makeChild(properties[property], property));\n    if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n    result.importErrors(res);\n  }\n  return result;\n};\n\n/**\n * Test a specific property within in instance against the additionalProperties schema attribute\n * This ignores properties with definitions in the properties schema attribute, but no other attributes.\n * If too many more types of property-existance tests pop up they may need their own class of tests (like `type` has)\n * @private\n * @return {boolean}\n */\nfunction testAdditionalProperty (instance, schema, options, ctx, property, result) {\n  if(!this.types.object(instance)) return;\n  if (schema.properties && schema.properties[property] !== undefined) {\n    return;\n  }\n  if (schema.additionalProperties === false) {\n    result.addError({\n      name: 'additionalProperties',\n      argument: property,\n      message: \"additionalProperty \" + JSON.stringify(property) + \" exists in instance when not allowed\",\n    });\n  } else {\n    var additionalProperties = schema.additionalProperties || {};\n\n    if (typeof options.preValidateProperty == 'function') {\n      options.preValidateProperty(instance, property, additionalProperties, options, ctx);\n    }\n\n    var res = this.validateSchema(instance[property], additionalProperties, options, ctx.makeChild(additionalProperties, property));\n    if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n    result.importErrors(res);\n  }\n}\n\n/**\n * Validates patternProperties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.patternProperties = function validatePatternProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var patternProperties = schema.patternProperties || {};\n\n  for (var property in instance) {\n    var test = true;\n    for (var pattern in patternProperties) {\n      var expr = new RegExp(pattern);\n      if (!expr.test(property)) {\n        continue;\n      }\n      test = false;\n\n      if (typeof options.preValidateProperty == 'function') {\n        options.preValidateProperty(instance, property, patternProperties[pattern], options, ctx);\n      }\n\n      var res = this.validateSchema(instance[property], patternProperties[pattern], options, ctx.makeChild(patternProperties[pattern], property));\n      if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n      result.importErrors(res);\n    }\n    if (test) {\n      testAdditionalProperty.call(this, instance, schema, options, ctx, property, result);\n    }\n  }\n\n  return result;\n};\n\n/**\n * Validates additionalProperties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.additionalProperties = function validateAdditionalProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  // if patternProperties is defined then we'll test when that one is called instead\n  if (schema.patternProperties) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  for (var property in instance) {\n    testAdditionalProperty.call(this, instance, schema, options, ctx, property, result);\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at least of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minProperties = function validateMinProperties (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var keys = Object.keys(instance);\n  if (!(keys.length >= schema.minProperties)) {\n    result.addError({\n      name: 'minProperties',\n      argument: schema.minProperties,\n      message: \"does not meet minimum property length of \" + schema.minProperties,\n    })\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at most of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxProperties = function validateMaxProperties (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var keys = Object.keys(instance);\n  if (!(keys.length <= schema.maxProperties)) {\n    result.addError({\n      name: 'maxProperties',\n      argument: schema.maxProperties,\n      message: \"does not meet maximum property length of \" + schema.maxProperties,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates items when instance is an array\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.items = function validateItems (instance, schema, options, ctx) {\n  var self = this;\n  if (!this.types.array(instance)) return;\n  if (!schema.items) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  instance.every(function (value, i) {\n    var items = Array.isArray(schema.items) ? (schema.items[i] || schema.additionalItems) : schema.items;\n    if (items === undefined) {\n      return true;\n    }\n    if (items === false) {\n      result.addError({\n        name: 'items',\n        message: \"additionalItems not permitted\",\n      });\n      return false;\n    }\n    var res = self.validateSchema(value, items, options, ctx.makeChild(items, i));\n    if(res.instance !== result.instance[i]) result.instance[i] = res.instance;\n    result.importErrors(res);\n    return true;\n  });\n  return result;\n};\n\n/**\n * Validates minimum and exclusiveMinimum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minimum = function validateMinimum (instance, schema, options, ctx) {\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var valid = true;\n  if (schema.exclusiveMinimum && schema.exclusiveMinimum === true) {\n    valid = instance > schema.minimum;\n  } else {\n    valid = instance >= schema.minimum;\n  }\n  if (!valid) {\n    result.addError({\n      name: 'minimum',\n      argument: schema.minimum,\n      message: \"must have a minimum value of \" + schema.minimum,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates maximum and exclusiveMaximum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maximum = function validateMaximum (instance, schema, options, ctx) {\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var valid;\n  if (schema.exclusiveMaximum && schema.exclusiveMaximum === true) {\n    valid = instance < schema.maximum;\n  } else {\n    valid = instance <= schema.maximum;\n  }\n  if (!valid) {\n    result.addError({\n      name: 'maximum',\n      argument: schema.maximum,\n      message: \"must have a maximum value of \" + schema.maximum,\n    });\n  }\n  return result;\n};\n\n/**\n * Perform validation for multipleOf and divisibleBy, which are essentially the same.\n * @param instance\n * @param schema\n * @param validationType\n * @param errorMessage\n * @returns {String|null}\n */\nvar validateMultipleOfOrDivisbleBy = function validateMultipleOfOrDivisbleBy (instance, schema, options, ctx, validationType, errorMessage) {\n  if (!this.types.number(instance)) return;\n\n  var validationArgument = schema[validationType];\n  if (validationArgument == 0) {\n    throw new SchemaError(validationType + \" cannot be zero\");\n  }\n\n  var result = new ValidatorResult(instance, schema, options, ctx);\n\n  var instanceDecimals = helpers.getDecimalPlaces(instance);\n  var divisorDecimals = helpers.getDecimalPlaces(validationArgument);\n\n  var maxDecimals = Math.max(instanceDecimals , divisorDecimals);\n  var multiplier = Math.pow(10, maxDecimals);\n\n  if (Math.round(instance * multiplier) % Math.round(validationArgument * multiplier) !== 0) {\n    result.addError({\n      name: validationType,\n      argument:  validationArgument,\n      message: errorMessage + JSON.stringify(validationArgument)\n    });\n  }\n\n  return result;\n};\n\n/**\n * Validates divisibleBy when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.multipleOf = function validateMultipleOf (instance, schema, options, ctx) {\n return validateMultipleOfOrDivisbleBy.call(this, instance, schema, options, ctx, \"multipleOf\", \"is not a multiple of (divisible by) \");\n};\n\n/**\n * Validates multipleOf when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.divisibleBy = function validateDivisibleBy (instance, schema, options, ctx) {\n  return validateMultipleOfOrDivisbleBy.call(this, instance, schema, options, ctx, \"divisibleBy\", \"is not divisible by (multiple of) \");\n};\n\n/**\n * Validates whether the instance value is present.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.required = function validateRequired (instance, schema, options, ctx) {\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (instance === undefined && schema.required === true) {\n    // A boolean form is implemented for reverse-compatability with schemas written against older drafts\n    result.addError({\n      name: 'required',\n      message: \"is required\"\n    });\n  } else if (this.types.object(instance) && Array.isArray(schema.required)) {\n    schema.required.forEach(function(n){\n      if(instance[n]===undefined){\n        result.addError({\n          name: 'required',\n          argument: n,\n          message: \"requires property \" + JSON.stringify(n),\n        });\n      }\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value matches the regular expression, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.pattern = function validatePattern (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!instance.match(schema.pattern)) {\n    result.addError({\n      name: 'pattern',\n      argument: schema.pattern,\n      message: \"does not match pattern \" + JSON.stringify(schema.pattern.toString()),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is of a certain defined format or a custom\n * format.\n * The following formats are supported for string types:\n *   - date-time\n *   - date\n *   - time\n *   - ip-address\n *   - ipv6\n *   - uri\n *   - color\n *   - host-name\n *   - alpha\n *   - alpha-numeric\n *   - utc-millisec\n * @param instance\n * @param schema\n * @param [options]\n * @param [ctx]\n * @return {String|null}\n */\nvalidators.format = function validateFormat (instance, schema, options, ctx) {\n  if (instance===undefined) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!result.disableFormat && !helpers.isFormat(instance, schema.format, this)) {\n    result.addError({\n      name: 'format',\n      argument: schema.format,\n      message: \"does not conform to the \" + JSON.stringify(schema.format) + \" format\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at least of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minLength = function validateMinLength (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var hsp = instance.match(/[\\uDC00-\\uDFFF]/g);\n  var length = instance.length - (hsp ? hsp.length : 0);\n  if (!(length >= schema.minLength)) {\n    result.addError({\n      name: 'minLength',\n      argument: schema.minLength,\n      message: \"does not meet minimum length of \" + schema.minLength,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at most of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxLength = function validateMaxLength (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  // TODO if this was already computed in \"minLength\", use that value instead of re-computing\n  var hsp = instance.match(/[\\uDC00-\\uDFFF]/g);\n  var length = instance.length - (hsp ? hsp.length : 0);\n  if (!(length <= schema.maxLength)) {\n    result.addError({\n      name: 'maxLength',\n      argument: schema.maxLength,\n      message: \"does not meet maximum length of \" + schema.maxLength,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether instance contains at least a minimum number of items, when the instance is an Array.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minItems = function validateMinItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!(instance.length >= schema.minItems)) {\n    result.addError({\n      name: 'minItems',\n      argument: schema.minItems,\n      message: \"does not meet minimum length of \" + schema.minItems,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether instance contains no more than a maximum number of items, when the instance is an Array.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxItems = function validateMaxItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!(instance.length <= schema.maxItems)) {\n    result.addError({\n      name: 'maxItems',\n      argument: schema.maxItems,\n      message: \"does not meet maximum length of \" + schema.maxItems,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates that every item in an instance array is unique, when instance is an array\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.uniqueItems = function validateUniqueItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  function testArrays (v, i, a) {\n    for (var j = i + 1; j < a.length; j++) if (helpers.deepCompareStrict(v, a[j])) {\n      return false;\n    }\n    return true;\n  }\n  if (!instance.every(testArrays)) {\n    result.addError({\n      name: 'uniqueItems',\n      message: \"contains duplicate item\",\n    });\n  }\n  return result;\n};\n\n/**\n * Deep compares arrays for duplicates\n * @param v\n * @param i\n * @param a\n * @private\n * @return {boolean}\n */\nfunction testArrays (v, i, a) {\n  var j, len = a.length;\n  for (j = i + 1, len; j < len; j++) {\n    if (helpers.deepCompareStrict(v, a[j])) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Validates whether there are no duplicates, when the instance is an Array.\n * @param instance\n * @return {String|null}\n */\nvalidators.uniqueItems = function validateUniqueItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!instance.every(testArrays)) {\n    result.addError({\n      name: 'uniqueItems',\n      message: \"contains duplicate item\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validate for the presence of dependency properties, if the instance is an object.\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {null|ValidatorResult}\n */\nvalidators.dependencies = function validateDependencies (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  for (var property in schema.dependencies) {\n    if (instance[property] === undefined) {\n      continue;\n    }\n    var dep = schema.dependencies[property];\n    var childContext = ctx.makeChild(dep, property);\n    if (typeof dep == 'string') {\n      dep = [dep];\n    }\n    if (Array.isArray(dep)) {\n      dep.forEach(function (prop) {\n        if (instance[prop] === undefined) {\n          result.addError({\n            // FIXME there's two different \"dependencies\" errors here with slightly different outputs\n            // Can we make these the same? Or should we create different error types?\n            name: 'dependencies',\n            argument: childContext.propertyPath,\n            message: \"property \" + prop + \" not found, required by \" + childContext.propertyPath,\n          });\n        }\n      });\n    } else {\n      var res = this.validateSchema(instance, dep, options, childContext);\n      if(result.instance !== res.instance) result.instance = res.instance;\n      if (res && res.errors.length) {\n        result.addError({\n          name: 'dependencies',\n          argument: childContext.propertyPath,\n          message: \"does not meet dependency required by \" + childContext.propertyPath,\n        });\n        result.importErrors(res);\n      }\n    }\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is one of the enumerated values.\n *\n * @param instance\n * @param schema\n * @return {ValidatorResult|null}\n */\nvalidators['enum'] = function validateEnum (instance, schema, options, ctx) {\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema['enum'])) {\n    throw new SchemaError(\"enum expects an array\", schema);\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!schema['enum'].some(helpers.deepCompareStrict.bind(null, instance))) {\n    result.addError({\n      name: 'enum',\n      argument: schema['enum'],\n      message: \"is not one of enum values: \" + schema['enum'].map(String).join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance exactly matches a given value\n *\n * @param instance\n * @param schema\n * @return {ValidatorResult|null}\n */\nvalidators['const'] = function validateEnum (instance, schema, options, ctx) {\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!helpers.deepCompareStrict(schema['const'], instance)) {\n    result.addError({\n      name: 'const',\n      argument: schema['const'],\n      message: \"does not exactly match expected constant: \" + schema['const'],\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance if of a prohibited type.\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {null|ValidatorResult}\n */\nvalidators.not = validators.disallow = function validateNot (instance, schema, options, ctx) {\n  var self = this;\n  if(instance===undefined) return null;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var notTypes = schema.not || schema.disallow;\n  if(!notTypes) return null;\n  if(!Array.isArray(notTypes)) notTypes=[notTypes];\n  notTypes.forEach(function (type) {\n    if (self.testType(instance, schema, options, ctx, type)) {\n      var schemaId = type && type.id && ('<' + type.id + '>') || type;\n      result.addError({\n        name: 'not',\n        argument: schemaId,\n        message: \"is of prohibited type \" + schemaId,\n      });\n    }\n  });\n  return result;\n};\n\nmodule.exports = attribute;\n", "\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n", "/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n", "/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport Debug from 'debug';\nimport * as utils from '../utils';\nimport { AdapterInterface } from './interface';\nimport { FsRequestOptions, FsResponse, FsHttpMethod } from '../types';\nimport { FsRequestError, FsRequestErrorCode } from '../error';\nimport { prepareData, parseResponse, parse as parseHeaders, combineURL } from './../helpers';\n\nconst debug = Debug('fs:request:xhr');\nconst CANCEL_CLEAR = `FsCleanMemory`;\n\nexport class XhrAdapter implements AdapterInterface {\n\n  request(config: FsRequestOptions) {\n    // if this option is unspecified set it by default\n    if (typeof config.filestackHeaders === 'undefined') {\n      config.filestackHeaders = true;\n    }\n\n    config = prepareData(config);\n    config.headers = config.headers || {};\n\n    let { data, headers } = config;\n\n    // if data is type of form let browser to set proper content type\n    if (utils.isFormData(data)) {\n      delete headers['Content-Type'];\n    }\n\n    let request = new XMLHttpRequest();\n\n    if (config.blobResponse) {\n      request.responseType = 'blob';\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      if (!config.auth.username || config.auth.username.length === 0 || !config.auth.password || config.auth.password.length === 0) {\n        return Promise.reject(new FsRequestError(`Basic auth: username and password are required ${config.auth}`, config));\n      }\n\n      headers.Authorization = 'Basic ' + btoa(unescape(encodeURIComponent(`${config.auth.username}:${config.auth.password}`)));\n      debug('Set request authorization to %s', config.auth.username + config.auth.password);\n    }\n\n    let url = config.url.trim();\n\n    if (!/^http(s)?:\\/\\//.test(url)) {\n      url = `https://${url}`;\n    }\n\n    url = combineURL(url, config.params);\n\n    debug('Starting request to %s with options %O', url, config);\n\n    request.open(config.method.toUpperCase(), url, true);\n\n    request.timeout = config.timeout;\n\n    return new Promise<FsResponse>((resolve, reject) => {\n      let cancelListener;\n\n      if (config.cancelToken) {\n        cancelListener = (reason) => {\n          /* istanbul ignore next: if request is done cancel token should not throw any error */\n          if (request) {\n            request.abort();\n            request = null;\n          }\n\n          debug('Request canceled by user %s, config: %O', reason, config);\n          return reject(new FsRequestError(`Request aborted. Reason: ${reason}`, config, null, FsRequestErrorCode.ABORTED));\n        };\n\n        config.cancelToken.once('cancel', cancelListener);\n      }\n\n      request.onreadystatechange = async () => {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        if (request.status === 0 && !request.responseURL) {\n          return;\n        }\n\n        // Prepare the response\n        const responseHeaders = parseHeaders(request.getAllResponseHeaders());\n        const responseData = request.response;\n\n        let response: FsResponse = {\n          data: responseData,\n          status: request.status,\n          statusText: request.statusText,\n          headers: responseHeaders,\n          config: config,\n        };\n\n        request = null;\n        response = await parseResponse(response);\n\n        if (500 <= response.status && response.status <= 599) {\n          // server error throw\n          debug('Server error(5xx) - %O', response);\n          return reject(new FsRequestError(`Server error ${url}`, config, response, FsRequestErrorCode.SERVER));\n        } else if (400 <= response.status && response.status <= 499) {\n          debug('Request error(4xx) - %O', response);\n          return reject(new FsRequestError(`Request error ${url}`, config, response, FsRequestErrorCode.REQUEST));\n        }\n\n        // clear cancel token to avoid memory leak\n        if (config.cancelToken) {\n          config.cancelToken.removeListener('cancel', cancelListener);\n          cancelListener = null;\n        }\n\n        return resolve(response);\n      };\n\n      // Handle browser request cancellation (as opposed to a manual cancellation)\n      request.onabort = function handleAbort() {\n        /* istanbul ignore next: just to be sure that abort was not called twice */\n        if (!request) {\n          return;\n        }\n\n        request = null;\n        reject(new FsRequestError('Request aborted', config, null, FsRequestErrorCode.ABORTED));\n      };\n\n      // Handle low level network errors\n      request.onerror = function handleError(err) {\n        request = null;\n        debug('Request error! %O', err);\n        reject(new FsRequestError('Network Error', config, null, FsRequestErrorCode.NETWORK));\n      };\n\n      // Handle timeout\n      request.ontimeout = function handleTimeout() {\n        request = null;\n        debug('Request timed out. %O', config);\n        reject(new FsRequestError('Request timeout', config, null, FsRequestErrorCode.TIMEOUT));\n      };\n\n      // Add headers to the request\n      if ('setRequestHeader' in request && headers && Object.keys(headers).length) {\n        for (let key in headers) {\n          if (headers[key] === undefined) {\n            continue;\n          }\n\n          debug('Set request header %s to %s', key, headers[key]);\n          request.setRequestHeader(key, headers[key]);\n        }\n      }\n\n      if (typeof config.onProgress === 'function' && [FsHttpMethod.POST, FsHttpMethod.PUT].indexOf(config.method) > -1) {\n        /* istanbul ignore else: else path is just fallback to normal progress event */\n        if (request.upload) {\n          debug('Bind to upload progress event');\n          request.upload.addEventListener('progress', config.onProgress);\n        } else {\n          debug('Bind to progress event');\n          request.addEventListener('progress', config.onProgress);\n        }\n      }\n\n      if (data === undefined) {\n        data = null;\n      }\n\n      request.send(data);\n    });\n  }\n}\n", "'use strict';\n\nconst util = require('./util');\n\nconst convertToJson = function(node, options) {\n  const jObj = {};\n\n  //when no child node or attr is present\n  if ((!node.child || util.isEmptyObject(node.child)) && (!node.attrsMap || util.isEmptyObject(node.attrsMap))) {\n    return util.isExist(node.val) ? node.val : '';\n  } else {\n    //otherwise create a textnode if node has some text\n    if (util.isExist(node.val)) {\n      if (!(typeof node.val === 'string' && (node.val === '' || node.val === options.cdataPositionChar))) {\n        if(options.arrayMode === \"strict\"){\n          jObj[options.textNodeName] = [ node.val ];\n        }else{\n          jObj[options.textNodeName] = node.val;\n        }\n      }\n    }\n  }\n\n  util.merge(jObj, node.attrsMap, options.arrayMode);\n\n  const keys = Object.keys(node.child);\n  for (let index = 0; index < keys.length; index++) {\n    var tagname = keys[index];\n    if (node.child[tagname] && node.child[tagname].length > 1) {\n      jObj[tagname] = [];\n      for (var tag in node.child[tagname]) {\n        jObj[tagname].push(convertToJson(node.child[tagname][tag], options));\n      }\n    } else {\n      if(options.arrayMode === true){\n        const result = convertToJson(node.child[tagname][0], options)\n        if(typeof result === 'object')\n          jObj[tagname] = [ result ];\n        else\n          jObj[tagname] = result;\n      }else if(options.arrayMode === \"strict\"){\n        jObj[tagname] = [convertToJson(node.child[tagname][0], options) ];\n      }else{\n        jObj[tagname] = convertToJson(node.child[tagname][0], options);\n      }\n    }\n  }\n\n  //add value\n  return jObj;\n};\n\nexports.convertToJson = convertToJson;\n", "'use strict';\n\nmodule.exports = function(tagname, parent, val) {\n  this.tagname = tagname;\n  this.parent = parent;\n  this.child = {}; //child tags\n  this.attrsMap = {}; //attributes map\n  this.val = val; //text only\n  this.addChild = function(child) {\n    if (Array.isArray(this.child[child.tagname])) {\n      //already presents\n      this.child[child.tagname].push(child);\n    } else {\n      this.child[child.tagname] = [child];\n    }\n  };\n};\n", "'use strict';\n\nconst util = require('./util');\n\nconst defaultOptions = {\n  allowBooleanAttributes: false, //A tag can have attributes without any value\n};\n\nconst props = ['allowBooleanAttributes'];\n\n//const tagsPattern = new RegExp(\"<\\\\/?([\\\\w:\\\\-_\\.]+)\\\\s*\\/?>\",\"g\");\nexports.validate = function (xmlData, options) {\n  options = util.buildOptions(options, defaultOptions, props);\n\n  //xmlData = xmlData.replace(/(\\r\\n|\\n|\\r)/gm,\"\");//make it single line\n  //xmlData = xmlData.replace(/(^\\s*<\\?xml.*?\\?>)/g,\"\");//Remove XML starting tag\n  //xmlData = xmlData.replace(/(<!DOCTYPE[\\s\\w\\\"\\.\\/\\-\\:]+(\\[.*\\])*\\s*>)/g,\"\");//Remove DOCTYPE\n  const tags = [];\n  let tagFound = false;\n\n  //indicates that the root tag has been closed (aka. depth 0 has been reached)\n  let reachedRoot = false;\n\n  if (xmlData[0] === '\\ufeff') {\n    // check for byte order mark (BOM)\n    xmlData = xmlData.substr(1);\n  }\n\n  for (let i = 0; i < xmlData.length; i++) {\n    if (xmlData[i] === '<') {\n      //starting of tag\n      //read until you reach to '>' avoiding any '>' in attribute value\n\n      i++;\n      if (xmlData[i] === '?') {\n        i = readPI(xmlData, ++i);\n        if (i.err) {\n          return i;\n        }\n      } else if (xmlData[i] === '!') {\n        i = readCommentAndCDATA(xmlData, i);\n        continue;\n      } else {\n        let closingTag = false;\n        if (xmlData[i] === '/') {\n          //closing tag\n          closingTag = true;\n          i++;\n        }\n        //read tagname\n        let tagName = '';\n        for (\n          ;\n          i < xmlData.length &&\n          xmlData[i] !== '>' &&\n          xmlData[i] !== ' ' &&\n          xmlData[i] !== '\\t' &&\n          xmlData[i] !== '\\n' &&\n          xmlData[i] !== '\\r';\n          i++\n        ) {\n          tagName += xmlData[i];\n        }\n        tagName = tagName.trim();\n        //console.log(tagName);\n\n        if (tagName[tagName.length - 1] === '/') {\n          //self closing tag without attributes\n          tagName = tagName.substring(0, tagName.length - 1);\n          //continue;\n          i--;\n        }\n        if (!validateTagName(tagName)) {\n          let msg;\n          if(tagName.trim().length === 0) {\n            msg = \"There is an unnecessary space between tag name and backward slash '</ ..'.\";\n          }else{\n            msg = `Tag '${tagName}' is an invalid name.`;\n          }\n          return getErrorObject('InvalidTag', msg, getLineNumberForPosition(xmlData, i));\n        }\n\n        const result = readAttributeStr(xmlData, i);\n        if (result === false) {\n          return getErrorObject('InvalidAttr', `Attributes for '${tagName}' have open quote.`, getLineNumberForPosition(xmlData, i));\n        }\n        let attrStr = result.value;\n        i = result.index;\n\n        if (attrStr[attrStr.length - 1] === '/') {\n          //self closing tag\n          attrStr = attrStr.substring(0, attrStr.length - 1);\n          const isValid = validateAttributeString(attrStr, options);\n          if (isValid === true) {\n            tagFound = true;\n            //continue; //text may presents after self closing tag\n          } else {\n            //the result from the nested function returns the position of the error within the attribute\n            //in order to get the 'true' error line, we need to calculate the position where the attribute begins (i - attrStr.length) and then add the position within the attribute\n            //this gives us the absolute index in the entire xml, which we can use to find the line at last\n            return getErrorObject(isValid.err.code, isValid.err.msg, getLineNumberForPosition(xmlData, i - attrStr.length + isValid.err.line));\n          }\n        } else if (closingTag) {\n          if (!result.tagClosed) {\n            return getErrorObject('InvalidTag', `Closing tag '${tagName}' doesn't have proper closing.`, getLineNumberForPosition(xmlData, i));\n          } else if (attrStr.trim().length > 0) {\n            return getErrorObject('InvalidTag', `Closing tag '${tagName}' can't have attributes or invalid starting.`, getLineNumberForPosition(xmlData, i));\n          } else {\n            const otg = tags.pop();\n            if (tagName !== otg) {\n              return getErrorObject('InvalidTag', `Closing tag '${otg}' is expected inplace of '${tagName}'.`, getLineNumberForPosition(xmlData, i));\n            }\n\n            //when there are no more tags, we reached the root level.\n            if(tags.length == 0)\n            {\n              reachedRoot = true;\n            }\n          }\n        } else {\n          const isValid = validateAttributeString(attrStr, options);\n          if (isValid !== true) {\n            //the result from the nested function returns the position of the error within the attribute\n            //in order to get the 'true' error line, we need to calculate the position where the attribute begins (i - attrStr.length) and then add the position within the attribute\n            //this gives us the absolute index in the entire xml, which we can use to find the line at last\n            return getErrorObject(isValid.err.code, isValid.err.msg, getLineNumberForPosition(xmlData, i - attrStr.length + isValid.err.line));\n          }\n\n          //if the root level has been reached before ...\n          if(reachedRoot === true) {\n              return getErrorObject('InvalidXml', 'Multiple possible root nodes found.', getLineNumberForPosition(xmlData, i));\n          } else {\n              tags.push(tagName);\n          }\n          tagFound = true;\n        }\n\n        //skip tag text value\n        //It may include comments and CDATA value\n        for (i++; i < xmlData.length; i++) {\n          if (xmlData[i] === '<') {\n            if (xmlData[i + 1] === '!') {\n              //comment or CADATA\n              i++;\n              i = readCommentAndCDATA(xmlData, i);\n              continue;\n            } else {\n              break;\n            }\n          } else if (xmlData[i] === '&') {\n            const afterAmp = validateAmpersand(xmlData, i);\n            if (afterAmp == -1)\n              return getErrorObject('InvalidChar', `char '&' is not expected.`, getLineNumberForPosition(xmlData, i));\n            i = afterAmp;\n          }\n        } //end of reading tag text value\n        if (xmlData[i] === '<') {\n          i--;\n        }\n      }\n    } else {\n      if (xmlData[i] === ' ' || xmlData[i] === '\\t' || xmlData[i] === '\\n' || xmlData[i] === '\\r') {\n        continue;\n      }\n      return getErrorObject('InvalidChar', `char '${xmlData[i]}' is not expected.`, getLineNumberForPosition(xmlData, i));\n    }\n  }\n\n  if (!tagFound) {\n    return getErrorObject('InvalidXml', 'Start tag expected.', 1);\n  } else if (tags.length > 0) {\n    return getErrorObject('InvalidXml', `Invalid '${JSON.stringify(tags, null, 4).replace(/\\r?\\n/g, '')}' found.`, 1);\n  }\n\n  return true;\n};\n\n/**\n * Read Processing insstructions and skip\n * @param {*} xmlData\n * @param {*} i\n */\nfunction readPI(xmlData, i) {\n  var start = i;\n  for (; i < xmlData.length; i++) {\n    if (xmlData[i] == '?' || xmlData[i] == ' ') {\n      //tagname\n      var tagname = xmlData.substr(start, i - start);\n      if (i > 5 && tagname === 'xml') {\n        return getErrorObject('InvalidXml', 'XML declaration allowed only at the start of the document.', getLineNumberForPosition(xmlData, i));\n      } else if (xmlData[i] == '?' && xmlData[i + 1] == '>') {\n        //check if valid attribut string\n        i++;\n        break;\n      } else {\n        continue;\n      }\n    }\n  }\n  return i;\n}\n\nfunction readCommentAndCDATA(xmlData, i) {\n  if (xmlData.length > i + 5 && xmlData[i + 1] === '-' && xmlData[i + 2] === '-') {\n    //comment\n    for (i += 3; i < xmlData.length; i++) {\n      if (xmlData[i] === '-' && xmlData[i + 1] === '-' && xmlData[i + 2] === '>') {\n        i += 2;\n        break;\n      }\n    }\n  } else if (\n    xmlData.length > i + 8 &&\n    xmlData[i + 1] === 'D' &&\n    xmlData[i + 2] === 'O' &&\n    xmlData[i + 3] === 'C' &&\n    xmlData[i + 4] === 'T' &&\n    xmlData[i + 5] === 'Y' &&\n    xmlData[i + 6] === 'P' &&\n    xmlData[i + 7] === 'E'\n  ) {\n    let angleBracketsCount = 1;\n    for (i += 8; i < xmlData.length; i++) {\n      if (xmlData[i] === '<') {\n        angleBracketsCount++;\n      } else if (xmlData[i] === '>') {\n        angleBracketsCount--;\n        if (angleBracketsCount === 0) {\n          break;\n        }\n      }\n    }\n  } else if (\n    xmlData.length > i + 9 &&\n    xmlData[i + 1] === '[' &&\n    xmlData[i + 2] === 'C' &&\n    xmlData[i + 3] === 'D' &&\n    xmlData[i + 4] === 'A' &&\n    xmlData[i + 5] === 'T' &&\n    xmlData[i + 6] === 'A' &&\n    xmlData[i + 7] === '['\n  ) {\n    for (i += 8; i < xmlData.length; i++) {\n      if (xmlData[i] === ']' && xmlData[i + 1] === ']' && xmlData[i + 2] === '>') {\n        i += 2;\n        break;\n      }\n    }\n  }\n\n  return i;\n}\n\nvar doubleQuote = '\"';\nvar singleQuote = \"'\";\n\n/**\n * Keep reading xmlData until '<' is found outside the attribute value.\n * @param {string} xmlData\n * @param {number} i\n */\nfunction readAttributeStr(xmlData, i) {\n  let attrStr = '';\n  let startChar = '';\n  let tagClosed = false;\n  for (; i < xmlData.length; i++) {\n    if (xmlData[i] === doubleQuote || xmlData[i] === singleQuote) {\n      if (startChar === '') {\n        startChar = xmlData[i];\n      } else if (startChar !== xmlData[i]) {\n        //if vaue is enclosed with double quote then single quotes are allowed inside the value and vice versa\n        continue;\n      } else {\n        startChar = '';\n      }\n    } else if (xmlData[i] === '>') {\n      if (startChar === '') {\n        tagClosed = true;\n        break;\n      }\n    }\n    attrStr += xmlData[i];\n  }\n  if (startChar !== '') {\n    return false;\n  }\n\n  return { value: attrStr, index: i, tagClosed: tagClosed };\n}\n\n/**\n * Select all the attributes whether valid or invalid.\n */\nconst validAttrStrRegxp = new RegExp('(\\\\s*)([^\\\\s=]+)(\\\\s*=)?(\\\\s*([\\'\"])(([\\\\s\\\\S])*?)\\\\5)?', 'g');\n\n//attr, =\"sd\", a=\"amit's\", a=\"sd\"b=\"saf\", ab  cd=\"\"\n\nfunction validateAttributeString(attrStr, options) {\n  //console.log(\"start:\"+attrStr+\":end\");\n\n  //if(attrStr.trim().length === 0) return true; //empty string\n\n  const matches = util.getAllMatches(attrStr, validAttrStrRegxp);\n  const attrNames = {};\n\n  for (let i = 0; i < matches.length; i++) {\n    if (matches[i][1].length === 0) {\n      //nospace before attribute name: a=\"sd\"b=\"saf\"\n      return getErrorObject('InvalidAttr', `Attribute '${matches[i][2]}' has no space in starting.`, getPositionFromMatch(attrStr, matches[i][0]))\n    } else if (matches[i][3] === undefined && !options.allowBooleanAttributes) {\n      //independent attribute: ab\n      return getErrorObject('InvalidAttr', `boolean attribute '${matches[i][2]}' is not allowed.`, getPositionFromMatch(attrStr, matches[i][0]));\n    }\n    /* else if(matches[i][6] === undefined){//attribute without value: ab=\n                    return { err: { code:\"InvalidAttr\",msg:\"attribute \" + matches[i][2] + \" has no value assigned.\"}};\n                } */\n    const attrName = matches[i][2];\n    if (!validateAttrName(attrName)) {\n      return getErrorObject('InvalidAttr', `Attribute '${attrName}' is an invalid name.`, getPositionFromMatch(attrStr, matches[i][0]));\n    }\n    if (!attrNames.hasOwnProperty(attrName)) {\n      //check for duplicate attribute.\n      attrNames[attrName] = 1;\n    } else {\n      return getErrorObject('InvalidAttr', `Attribute '${attrName}' is repeated.`, getPositionFromMatch(attrStr, matches[i][0]));\n    }\n  }\n\n  return true;\n}\n\nfunction validateNumberAmpersand(xmlData, i) {\n  let re = /\\d/;\n  if (xmlData[i] === 'x') {\n    i++;\n    re = /[\\da-fA-F]/;\n  }\n  for (; i < xmlData.length; i++) {\n    if (xmlData[i] === ';')\n      return i;\n    if (!xmlData[i].match(re))\n      break;\n  }\n  return -1;\n}\n\nfunction validateAmpersand(xmlData, i) {\n  // https://www.w3.org/TR/xml/#dt-charref\n  i++;\n  if (xmlData[i] === ';')\n    return -1;\n  if (xmlData[i] === '#') {\n    i++;\n    return validateNumberAmpersand(xmlData, i);\n  }\n  let count = 0;\n  for (; i < xmlData.length; i++, count++) {\n    if (xmlData[i].match(/\\w/) && count < 20)\n      continue;\n    if (xmlData[i] === ';')\n      break;\n    return -1;\n  }\n  return i;\n}\n\nfunction getErrorObject(code, message, lineNumber) {\n  return {\n    err: {\n      code: code,\n      msg: message,\n      line: lineNumber,\n    },\n  };\n}\n\nfunction validateAttrName(attrName) {\n  return util.isName(attrName);\n}\n\n//const startsWithXML = new RegExp(\"^[Xx][Mm][Ll]\");\n//  startsWith = /^([a-zA-Z]|_)[\\w.\\-_:]*/;\n\nfunction validateTagName(tagname) {\n  /*if(util.doesMatch(tagname,startsWithXML)) return false;\n    else*/\n  //return !tagname.toLowerCase().startsWith(\"xml\") || !util.doesNotMatch(tagname, regxTagName);\n  return util.isName(tagname);\n}\n\n//this function returns the line number for the character at the given index\nfunction getLineNumberForPosition(xmlData, index) {\n  var lines = xmlData.substring(0, index).split(/\\r?\\n/);\n  return lines.length;\n}\n\n//this function returns the position of the last character of match within attrStr\nfunction getPositionFromMatch(attrStr, match) {\n  return attrStr.indexOf(match) + match.length;\n}", "'use strict';\nconst char = function(a) {\n  return String.fromCharCode(a);\n};\n\nconst chars = {\n  nilChar: char(176),\n  missingChar: char(201),\n  nilPremitive: char(175),\n  missingPremitive: char(200),\n\n  emptyChar: char(178),\n  emptyValue: char(177), //empty Premitive\n\n  boundryChar: char(179),\n\n  objStart: char(198),\n  arrStart: char(204),\n  arrayEnd: char(185),\n};\n\nconst charsArr = [\n  chars.nilChar,\n  chars.nilPremitive,\n  chars.missingChar,\n  chars.missingPremitive,\n  chars.boundryChar,\n  chars.emptyChar,\n  chars.emptyValue,\n  chars.arrayEnd,\n  chars.objStart,\n  chars.arrStart,\n];\n\nconst _e = function(node, e_schema, options) {\n  if (typeof e_schema === 'string') {\n    //premitive\n    if (node && node[0] && node[0].val !== undefined) {\n      return getValue(node[0].val, e_schema);\n    } else {\n      return getValue(node, e_schema);\n    }\n  } else {\n    const hasValidData = hasData(node);\n    if (hasValidData === true) {\n      let str = '';\n      if (Array.isArray(e_schema)) {\n        //attributes can't be repeated. hence check in children tags only\n        str += chars.arrStart;\n        const itemSchema = e_schema[0];\n        //var itemSchemaType = itemSchema;\n        const arr_len = node.length;\n\n        if (typeof itemSchema === 'string') {\n          for (let arr_i = 0; arr_i < arr_len; arr_i++) {\n            const r = getValue(node[arr_i].val, itemSchema);\n            str = processValue(str, r);\n          }\n        } else {\n          for (let arr_i = 0; arr_i < arr_len; arr_i++) {\n            const r = _e(node[arr_i], itemSchema, options);\n            str = processValue(str, r);\n          }\n        }\n        str += chars.arrayEnd; //indicates that next item is not array item\n      } else {\n        //object\n        str += chars.objStart;\n        const keys = Object.keys(e_schema);\n        if (Array.isArray(node)) {\n          node = node[0];\n        }\n        for (let i in keys) {\n          const key = keys[i];\n          //a property defined in schema can be present either in attrsMap or children tags\n          //options.textNodeName will not present in both maps, take it's value from val\n          //options.attrNodeName will be present in attrsMap\n          let r;\n          if (!options.ignoreAttributes && node.attrsMap && node.attrsMap[key]) {\n            r = _e(node.attrsMap[key], e_schema[key], options);\n          } else if (key === options.textNodeName) {\n            r = _e(node.val, e_schema[key], options);\n          } else {\n            r = _e(node.child[key], e_schema[key], options);\n          }\n          str = processValue(str, r);\n        }\n      }\n      return str;\n    } else {\n      return hasValidData;\n    }\n  }\n};\n\nconst getValue = function(a /*, type*/) {\n  switch (a) {\n    case undefined:\n      return chars.missingPremitive;\n    case null:\n      return chars.nilPremitive;\n    case '':\n      return chars.emptyValue;\n    default:\n      return a;\n  }\n};\n\nconst processValue = function(str, r) {\n  if (!isAppChar(r[0]) && !isAppChar(str[str.length - 1])) {\n    str += chars.boundryChar;\n  }\n  return str + r;\n};\n\nconst isAppChar = function(ch) {\n  return charsArr.indexOf(ch) !== -1;\n};\n\nfunction hasData(jObj) {\n  if (jObj === undefined) {\n    return chars.missingChar;\n  } else if (jObj === null) {\n    return chars.nilChar;\n  } else if (\n    jObj.child &&\n    Object.keys(jObj.child).length === 0 &&\n    (!jObj.attrsMap || Object.keys(jObj.attrsMap).length === 0)\n  ) {\n    return chars.emptyChar;\n  } else {\n    return true;\n  }\n}\n\nconst x2j = require('./xmlstr2xmlnode');\nconst buildOptions = require('./util').buildOptions;\n\nconst convert2nimn = function(node, e_schema, options) {\n  options = buildOptions(options, x2j.defaultOptions, x2j.props);\n  return _e(node, e_schema, options);\n};\n\nexports.convert2nimn = convert2nimn;\n", "'use strict';\n\nconst util = require('./util');\nconst buildOptions = require('./util').buildOptions;\nconst x2j = require('./xmlstr2xmlnode');\n\n//TODO: do it later\nconst convertToJsonString = function(node, options) {\n  options = buildOptions(options, x2j.defaultOptions, x2j.props);\n\n  options.indentBy = options.indentBy || '';\n  return _cToJsonStr(node, options, 0);\n};\n\nconst _cToJsonStr = function(node, options, level) {\n  let jObj = '{';\n\n  //traver through all the children\n  const keys = Object.keys(node.child);\n\n  for (let index = 0; index < keys.length; index++) {\n    var tagname = keys[index];\n    if (node.child[tagname] && node.child[tagname].length > 1) {\n      jObj += '\"' + tagname + '\" : [ ';\n      for (var tag in node.child[tagname]) {\n        jObj += _cToJsonStr(node.child[tagname][tag], options) + ' , ';\n      }\n      jObj = jObj.substr(0, jObj.length - 1) + ' ] '; //remove extra comma in last\n    } else {\n      jObj += '\"' + tagname + '\" : ' + _cToJsonStr(node.child[tagname][0], options) + ' ,';\n    }\n  }\n  util.merge(jObj, node.attrsMap);\n  //add attrsMap as new children\n  if (util.isEmptyObject(jObj)) {\n    return util.isExist(node.val) ? node.val : '';\n  } else {\n    if (util.isExist(node.val)) {\n      if (!(typeof node.val === 'string' && (node.val === '' || node.val === options.cdataPositionChar))) {\n        jObj += '\"' + options.textNodeName + '\" : ' + stringval(node.val);\n      }\n    }\n  }\n  //add value\n  if (jObj[jObj.length - 1] === ',') {\n    jObj = jObj.substr(0, jObj.length - 2);\n  }\n  return jObj + '}';\n};\n\nfunction stringval(v) {\n  if (v === true || v === false || !isNaN(v)) {\n    return v;\n  } else {\n    return '\"' + v + '\"';\n  }\n}\n\nfunction indentate(options, level) {\n  return options.indentBy.repeat(level);\n}\n\nexports.convertToJsonString = convertToJsonString;\n", "'use strict';\n//parse Empty Node as self closing node\nconst buildOptions = require('./util').buildOptions;\n\nconst defaultOptions = {\n  attributeNamePrefix: '@_',\n  attrNodeName: false,\n  textNodeName: '#text',\n  ignoreAttributes: true,\n  cdataTagName: false,\n  cdataPositionChar: '\\\\c',\n  format: false,\n  indentBy: '  ',\n  supressEmptyNode: false,\n  tagValueProcessor: function(a) {\n    return a;\n  },\n  attrValueProcessor: function(a) {\n    return a;\n  },\n};\n\nconst props = [\n  'attributeNamePrefix',\n  'attrNodeName',\n  'textNodeName',\n  'ignoreAttributes',\n  'cdataTagName',\n  'cdataPositionChar',\n  'format',\n  'indentBy',\n  'supressEmptyNode',\n  'tagValueProcessor',\n  'attrValueProcessor',\n];\n\nfunction Parser(options) {\n  this.options = buildOptions(options, defaultOptions, props);\n  if (this.options.ignoreAttributes || this.options.attrNodeName) {\n    this.isAttribute = function(/*a*/) {\n      return false;\n    };\n  } else {\n    this.attrPrefixLen = this.options.attributeNamePrefix.length;\n    this.isAttribute = isAttribute;\n  }\n  if (this.options.cdataTagName) {\n    this.isCDATA = isCDATA;\n  } else {\n    this.isCDATA = function(/*a*/) {\n      return false;\n    };\n  }\n  this.replaceCDATAstr = replaceCDATAstr;\n  this.replaceCDATAarr = replaceCDATAarr;\n\n  if (this.options.format) {\n    this.indentate = indentate;\n    this.tagEndChar = '>\\n';\n    this.newLine = '\\n';\n  } else {\n    this.indentate = function() {\n      return '';\n    };\n    this.tagEndChar = '>';\n    this.newLine = '';\n  }\n\n  if (this.options.supressEmptyNode) {\n    this.buildTextNode = buildEmptyTextNode;\n    this.buildObjNode = buildEmptyObjNode;\n  } else {\n    this.buildTextNode = buildTextValNode;\n    this.buildObjNode = buildObjectNode;\n  }\n\n  this.buildTextValNode = buildTextValNode;\n  this.buildObjectNode = buildObjectNode;\n}\n\nParser.prototype.parse = function(jObj) {\n  return this.j2x(jObj, 0).val;\n};\n\nParser.prototype.j2x = function(jObj, level) {\n  let attrStr = '';\n  let val = '';\n  const keys = Object.keys(jObj);\n  const len = keys.length;\n  for (let i = 0; i < len; i++) {\n    const key = keys[i];\n    if (typeof jObj[key] === 'undefined') {\n      // supress undefined node\n    } else if (jObj[key] === null) {\n      val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n    } else if (jObj[key] instanceof Date) {\n      val += this.buildTextNode(jObj[key], key, '', level);\n    } else if (typeof jObj[key] !== 'object') {\n      //premitive type\n      const attr = this.isAttribute(key);\n      if (attr) {\n        attrStr += ' ' + attr + '=\"' + this.options.attrValueProcessor('' + jObj[key]) + '\"';\n      } else if (this.isCDATA(key)) {\n        if (jObj[this.options.textNodeName]) {\n          val += this.replaceCDATAstr(jObj[this.options.textNodeName], jObj[key]);\n        } else {\n          val += this.replaceCDATAstr('', jObj[key]);\n        }\n      } else {\n        //tag value\n        if (key === this.options.textNodeName) {\n          if (jObj[this.options.cdataTagName]) {\n            //value will added while processing cdata\n          } else {\n            val += this.options.tagValueProcessor('' + jObj[key]);\n          }\n        } else {\n          val += this.buildTextNode(jObj[key], key, '', level);\n        }\n      }\n    } else if (Array.isArray(jObj[key])) {\n      //repeated nodes\n      if (this.isCDATA(key)) {\n        val += this.indentate(level);\n        if (jObj[this.options.textNodeName]) {\n          val += this.replaceCDATAarr(jObj[this.options.textNodeName], jObj[key]);\n        } else {\n          val += this.replaceCDATAarr('', jObj[key]);\n        }\n      } else {\n        //nested nodes\n        const arrLen = jObj[key].length;\n        for (let j = 0; j < arrLen; j++) {\n          const item = jObj[key][j];\n          if (typeof item === 'undefined') {\n            // supress undefined node\n          } else if (item === null) {\n            val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n          } else if (typeof item === 'object') {\n            const result = this.j2x(item, level + 1);\n            val += this.buildObjNode(result.val, key, result.attrStr, level);\n          } else {\n            val += this.buildTextNode(item, key, '', level);\n          }\n        }\n      }\n    } else {\n      //nested node\n      if (this.options.attrNodeName && key === this.options.attrNodeName) {\n        const Ks = Object.keys(jObj[key]);\n        const L = Ks.length;\n        for (let j = 0; j < L; j++) {\n          attrStr += ' ' + Ks[j] + '=\"' + this.options.attrValueProcessor('' + jObj[key][Ks[j]]) + '\"';\n        }\n      } else {\n        const result = this.j2x(jObj[key], level + 1);\n        val += this.buildObjNode(result.val, key, result.attrStr, level);\n      }\n    }\n  }\n  return {attrStr: attrStr, val: val};\n};\n\nfunction replaceCDATAstr(str, cdata) {\n  str = this.options.tagValueProcessor('' + str);\n  if (this.options.cdataPositionChar === '' || str === '') {\n    return str + '<![CDATA[' + cdata + ']]' + this.tagEndChar;\n  } else {\n    return str.replace(this.options.cdataPositionChar, '<![CDATA[' + cdata + ']]' + this.tagEndChar);\n  }\n}\n\nfunction replaceCDATAarr(str, cdata) {\n  str = this.options.tagValueProcessor('' + str);\n  if (this.options.cdataPositionChar === '' || str === '') {\n    return str + '<![CDATA[' + cdata.join(']]><![CDATA[') + ']]' + this.tagEndChar;\n  } else {\n    for (let v in cdata) {\n      str = str.replace(this.options.cdataPositionChar, '<![CDATA[' + cdata[v] + ']]>');\n    }\n    return str + this.newLine;\n  }\n}\n\nfunction buildObjectNode(val, key, attrStr, level) {\n  if (attrStr && !val.includes('<')) {\n    return (\n      this.indentate(level) +\n      '<' +\n      key +\n      attrStr +\n      '>' +\n      val +\n      //+ this.newLine\n      // + this.indentate(level)\n      '</' +\n      key +\n      this.tagEndChar\n    );\n  } else {\n    return (\n      this.indentate(level) +\n      '<' +\n      key +\n      attrStr +\n      this.tagEndChar +\n      val +\n      //+ this.newLine\n      this.indentate(level) +\n      '</' +\n      key +\n      this.tagEndChar\n    );\n  }\n}\n\nfunction buildEmptyObjNode(val, key, attrStr, level) {\n  if (val !== '') {\n    return this.buildObjectNode(val, key, attrStr, level);\n  } else {\n    return this.indentate(level) + '<' + key + attrStr + '/' + this.tagEndChar;\n    //+ this.newLine\n  }\n}\n\nfunction buildTextValNode(val, key, attrStr, level) {\n  return (\n    this.indentate(level) +\n    '<' +\n    key +\n    attrStr +\n    '>' +\n    this.options.tagValueProcessor(val) +\n    '</' +\n    key +\n    this.tagEndChar\n  );\n}\n\nfunction buildEmptyTextNode(val, key, attrStr, level) {\n  if (val !== '') {\n    return this.buildTextValNode(val, key, attrStr, level);\n  } else {\n    return this.indentate(level) + '<' + key + attrStr + '/' + this.tagEndChar;\n  }\n}\n\nfunction indentate(level) {\n  return this.options.indentBy.repeat(level);\n}\n\nfunction isAttribute(name /*, options*/) {\n  if (name.startsWith(this.options.attributeNamePrefix)) {\n    return name.substr(this.attrPrefixLen);\n  } else {\n    return false;\n  }\n}\n\nfunction isCDATA(name) {\n  return name === this.options.cdataTagName;\n}\n\n//formatting\n//indentation\n//\\n after each closing or self closing tag\n\nmodule.exports = Parser;\n", "'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n", "module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n", "import { Session as SessionInterface, SessionContext, SessionStatus } from '@sentry/types';\nimport { dropUndefinedKeys, uuid4 } from '@sentry/utils';\n\n/**\n * @inheritdoc\n */\nexport class Session implements SessionInterface {\n  public userAgent?: string;\n  public errors: number = 0;\n  public release?: string;\n  public sid: string = uuid4();\n  public did?: string;\n  public timestamp: number = Date.now();\n  public started: number = Date.now();\n  public duration: number = 0;\n  public status: SessionStatus = SessionStatus.Ok;\n  public environment?: string;\n  public ipAddress?: string;\n  public init: boolean = true;\n\n  constructor(context?: Omit<SessionContext, 'started' | 'status'>) {\n    if (context) {\n      this.update(context);\n    }\n  }\n\n  /** JSDoc */\n  // eslint-disable-next-line complexity\n  update(context: SessionContext = {}): void {\n    if (context.user) {\n      if (context.user.ip_address) {\n        this.ipAddress = context.user.ip_address;\n      }\n\n      if (!context.did) {\n        this.did = context.user.id || context.user.email || context.user.username;\n      }\n    }\n\n    this.timestamp = context.timestamp || Date.now();\n\n    if (context.sid) {\n      // Good enough uuid validation.  Kamil\n      this.sid = context.sid.length === 32 ? context.sid : uuid4();\n    }\n    if (context.init !== undefined) {\n      this.init = context.init;\n    }\n    if (context.did) {\n      this.did = `${context.did}`;\n    }\n    if (typeof context.started === 'number') {\n      this.started = context.started;\n    }\n    if (typeof context.duration === 'number') {\n      this.duration = context.duration;\n    } else {\n      this.duration = this.timestamp - this.started;\n    }\n    if (context.release) {\n      this.release = context.release;\n    }\n    if (context.environment) {\n      this.environment = context.environment;\n    }\n    if (context.ipAddress) {\n      this.ipAddress = context.ipAddress;\n    }\n    if (context.userAgent) {\n      this.userAgent = context.userAgent;\n    }\n    if (typeof context.errors === 'number') {\n      this.errors = context.errors;\n    }\n    if (context.status) {\n      this.status = context.status;\n    }\n  }\n\n  /** JSDoc */\n  close(status?: Exclude<SessionStatus, SessionStatus.Ok>): void {\n    if (status) {\n      this.update({ status });\n    } else if (this.status === SessionStatus.Ok) {\n      this.update({ status: SessionStatus.Exited });\n    } else {\n      this.update();\n    }\n  }\n\n  /** JSDoc */\n  toJSON(): {\n    init: boolean;\n    sid: string;\n    did?: string;\n    timestamp: string;\n    started: string;\n    duration: number;\n    status: SessionStatus;\n    errors: number;\n    attrs?: {\n      release?: string;\n      environment?: string;\n      user_agent?: string;\n      ip_address?: string;\n    };\n  } {\n    return dropUndefinedKeys({\n      sid: `${this.sid}`,\n      init: this.init,\n      started: new Date(this.started).toISOString(),\n      timestamp: new Date(this.timestamp).toISOString(),\n      status: this.status,\n      errors: this.errors,\n      did: typeof this.did === 'number' || typeof this.did === 'string' ? `${this.did}` : undefined,\n      duration: this.duration,\n      attrs: dropUndefinedKeys({\n        release: this.release,\n        environment: this.environment,\n        ip_address: this.ipAddress,\n        user_agent: this.userAgent,\n      }),\n    });\n  }\n}\n", " \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n", "const MODULE_PREFIX = 'fs-loader-';\nconst globalHolder = {};\nconst initializeGlobalNamespace = () => {\n    let holder;\n    // if there is no window obj use nodejs global lib variable\n    if (typeof window === 'undefined') {\n        holder = globalHolder;\n    }\n    else {\n        holder = window;\n    }\n    // @ts-ignore\n    let namespace = holder.filestackInternals;\n    if (!namespace) {\n        namespace = {\n            modules: {},\n        };\n        holder.filestackInternals = namespace;\n    }\n    if (!namespace.modules) {\n        namespace.modules = {};\n    }\n    return namespace;\n};\nconst filestackInternals = initializeGlobalNamespace();\nconst modules = filestackInternals && filestackInternals.modules;\n/**\n * Remove listeners (browser compatible)\n *\n * @param node\n * @param func\n * @param name\n */\nconst removeListener = (node, func, name) => {\n    if (node.detachEvent) {\n        node.detachEvent('onreadystatechange', func);\n    }\n    else {\n        node.removeEventListener(name, func, false);\n    }\n};\n/**\n * Load multiple modules\n *\n * @param {*} modules\n */\nexport const loadModules = (modulesList) => Promise.all(modulesList.map(({ id, url }) => loadModule(id, url))).then((res) => {\n    const toReturn = {};\n    res.forEach((mod, idx) => {\n        const el = modulesList[idx];\n        toReturn[el.id] = mod;\n    });\n    return toReturn;\n});\n/**\n * Load single module from url with given id\n *\n * @param {*} id - module id\n * @param {*} url\n */\nexport const loadModule = (id, url) => {\n    if (typeof window === 'undefined') {\n        return Promise.reject(new Error('Load module is working only on browser env'));\n    }\n    if (!id) {\n        throw new Error('Module id is required');\n    }\n    id = MODULE_PREFIX + id;\n    let moduleDefinition = modules[id];\n    if (!moduleDefinition) {\n        modules[id] = {};\n        moduleDefinition = modules[id];\n    }\n    if (moduleDefinition.instance) {\n        return Promise.resolve(moduleDefinition.instance);\n    }\n    if (moduleDefinition.promise) {\n        return moduleDefinition.promise;\n    }\n    return moduleDefinition.promise = new Promise((resolve, reject) => {\n        const readyStateChange = (evt) => {\n            if (evt.type === 'load' || (/^(complete|loaded)$/.test((evt.currentTarget || evt.srcElement).readyState))) {\n                const node = evt.currentTarget || evt.srcElement;\n                removeListener(node, readyStateChange, 'load');\n                removeListener(node, reject, 'error');\n                // slow dow checking if module is loaded to ensure that script that  register module is called\n                setTimeout(() => resolve(modules[id] ? modules[id].instance : undefined), 10);\n            }\n        };\n        const script = document.createElement('script');\n        script.id = id;\n        // @ts-ignore fix for IE\n        if (script.attachEvent && !(script.attachEvent.toString && script.attachEvent.toString().indexOf('[native code') < 0)) {\n            // @ts-ignore\n            script.attachEvent('onreadystatechange', readyStateChange);\n        }\n        else {\n            script.addEventListener('load', readyStateChange, false);\n            script.addEventListener('onerror', reject, false);\n        }\n        script.setAttribute('crossorigin', 'anonymous');\n        script.setAttribute('charset', 'utf-8');\n        script.setAttribute('async', 'true');\n        script.src = url;\n        document.body.appendChild(script);\n    });\n};\n/**\n * Register that module is ready\n *\n * @param {string} id\n * @param {any} instance\n * @param {any} metadata - additional module metadata like version\n */\nexport const registerModule = (id, instance, metadata) => {\n    // loader not working on nodejs envs\n    if (typeof window === 'undefined') {\n        return;\n    }\n    if (!id) {\n        throw new Error('Module id is required');\n    }\n    if (!modules) {\n        throw new Error('Loader is not initialized');\n    }\n    id = MODULE_PREFIX + id;\n    if (modules[id]) {\n        modules[id] = { instance, metadata };\n    }\n};\n/**\n * Load external css from given url\n *\n * @param {*} url\n */\nexport const loadCss = (url) => {\n    const alreadyAddedThisTag = document.querySelector(`link[href=\"${url}\"]`);\n    if (alreadyAddedThisTag !== null) {\n        return Promise.resolve();\n    }\n    return new Promise((resolve) => {\n        const head = document.getElementsByTagName('head')[0];\n        const link = document.createElement('link');\n        const loaded = () => {\n            resolve();\n            link.removeEventListener('load', loaded);\n        };\n        link.rel = 'stylesheet';\n        link.href = url;\n        link.addEventListener('load', loaded);\n        head.appendChild(link);\n    });\n};\n/**\n * Enum just for unify filestack module names\n */\nexport var FILESTACK_MODULES;\n(function (FILESTACK_MODULES) {\n    FILESTACK_MODULES[\"FILESTACK_SDK\"] = \"filestack-sdk\";\n    FILESTACK_MODULES[\"TRANSFORMS_UI\"] = \"transforms-ui\";\n    FILESTACK_MODULES[\"PICKER\"] = \"picker\";\n})(FILESTACK_MODULES || (FILESTACK_MODULES = {}));\n;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9saWIvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxhQUFhLEdBQUcsWUFBWSxDQUFDO0FBQ25DLE1BQU0sWUFBWSxHQUFRLEVBQUUsQ0FBQztBQWU3QixNQUFNLHlCQUF5QixHQUFHLEdBQUcsRUFBRTtJQUNyQyxJQUFJLE1BQVUsQ0FBQztJQUVmLDJEQUEyRDtJQUMzRCxJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsRUFBRTtRQUNqQyxNQUFNLEdBQUcsWUFBWSxDQUFDO0tBQ3ZCO1NBQU07UUFDTCxNQUFNLEdBQUcsTUFBTSxDQUFBO0tBQ2hCO0lBRUQsYUFBYTtJQUNiLElBQUksU0FBUyxHQUFjLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQztJQUVyRCxJQUFJLENBQUMsU0FBUyxFQUFFO1FBQ2QsU0FBUyxHQUFHO1lBQ1YsT0FBTyxFQUFFLEVBQUU7U0FDWixDQUFDO1FBRUYsTUFBTSxDQUFDLGtCQUFrQixHQUFHLFNBQVMsQ0FBQztLQUN2QztJQUVELElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFO1FBQ3RCLFNBQVMsQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO0tBQ3hCO0lBRUQsT0FBTyxTQUFTLENBQUM7QUFDbkIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxrQkFBa0IsR0FBRyx5QkFBeUIsRUFBRSxDQUFDO0FBQ3ZELE1BQU0sT0FBTyxHQUFHLGtCQUFrQixJQUFJLGtCQUFrQixDQUFDLE9BQU8sQ0FBQztBQUVqRTs7Ozs7O0dBTUc7QUFDSCxNQUFNLGNBQWMsR0FBRyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFJLEVBQUU7SUFDNUMsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO1FBQ3BCLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDOUM7U0FBTTtRQUNMLElBQUksQ0FBQyxtQkFBbUIs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QUFDLElBQUksQ0FBQyxDQUFDO0lBQ3pCLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUY7O0dBRUc7QUFDSCxNQUFNLENBQU4sSUFBWSxpQkFJWDtBQUpELFdBQVksaUJBQWlCO0lBQzNCLG9EQUErQixDQUFBO0lBQy9CLG9EQUErQixDQUFBO0lBQy9CLHNDQUFpQixDQUFBO0FBQ25CLENBQUMsRUFKVyxpQkFBaUIsS0FBakIsaUJBQWlCLFFBSTVCO0FBQUEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IE1PRFVMRV9QUkVGSVggPSAnZnMtbG9hZGVyLSc7XG5jb25zdCBnbG9iYWxIb2xkZXI6IGFueSA9IHt9O1xuXG5leHBvcnQgdHlwZSBNb2R1bGVEZWYgPSB7XG4gIHByb21pc2U/OiBQcm9taXNlPGFueT5cbiAgcmVzb2x2ZVByb21pc2U/OiBhbnk7XG4gIGluc3RhbmNlPzogYW55O1xuICBtZXRhZGF0YT86IGFueTtcbn1cblxuZXhwb3J0IHR5cGUgTmFtZXNwYWNlID0ge1xuICAgIG1vZHVsZXM6IHtcbiAgICAgW2tleTogc3RyaW5nXTogTW9kdWxlRGVmXG4gICAgfVxufTtcblxuY29uc3QgaW5pdGlhbGl6ZUdsb2JhbE5hbWVzcGFjZSA9ICgpID0+IHtcbiAgbGV0IGhvbGRlcjphbnk7XG5cbiAgLy8gaWYgdGhlcmUgaXMgbm8gd2luZG93IG9iaiB1c2Ugbm9kZWpzIGdsb2JhbCBsaWIgdmFyaWFibGVcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgaG9sZGVyID0gZ2xvYmFsSG9sZGVyO1xuICB9IGVsc2Uge1xuICAgIGhvbGRlciA9IHdpbmRvd1xuICB9XG5cbiAgLy8gQHRzLWlnbm9yZVxuICBsZXQgbmFtZXNwYWNlOiBOYW1lc3BhY2UgPSBob2xkZXIuZmlsZXN0YWNrSW50ZXJuYWxzO1xuXG4gIGlmICghbmFtZXNwYWNlKSB7XG4gICAgbmFtZXNwYWNlID0ge1xuICAgICAgbW9kdWxlczoge30sXG4gICAgfTtcblxuICAgIGhvbGRlci5maWxlc3RhY2tJbnRlcm5hbHMgPSBuYW1lc3BhY2U7XG4gIH1cblxuICBpZiAoIW5hbWVzcGFjZS5tb2R1bGVzKSB7XG4gICAgbmFtZXNwYWNlLm1vZHVsZXMgPSB7fTtcbiAgfVxuICBcbiAgcmV0dXJuIG5hbWVzcGFjZTtcbn07XG5cbmNvbnN0IGZpbGVzdGFja0ludGVybmFscyA9IGluaXRpYWxpemVHbG9iYWxOYW1lc3BhY2UoKTtcbmNvbnN0IG1vZHVsZXMgPSBmaWxlc3RhY2tJbnRlcm5hbHMgJiYgZmlsZXN0YWNrSW50ZXJuYWxzLm1vZHVsZXM7XG5cbi8qKlxuICogUmVtb3ZlIGxpc3RlbmVycyAoYnJvd3NlciBjb21wYXRpYmxlKVxuICogXG4gKiBAcGFyYW0gbm9kZSBcbiAqIEBwYXJhbSBmdW5jIFxuICogQHBhcmFtIG5hbWUgXG4gKi9cbmNvbnN0IHJlbW92ZUxpc3RlbmVyID0gKG5vZGUsIGZ1bmMsIG5hbWUsICkgPT4ge1xuICBpZiAobm9kZS5kZXRhY2hFdmVudCkge1xuICAgIG5vZGUuZGV0YWNoRXZlbnQoJ29ucmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmMpO1xuICB9IGVsc2Uge1xuICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBmdW5jLCBmYWxzZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBMb2FkIG11bHRpcGxlIG1vZHVsZXNcbiAqIFxuICogQHBhcmFtIHsqfSBtb2R1bGVzIFxuICovXG5leHBvcnQgY29uc3QgbG9hZE1vZHVsZXMgPSAobW9kdWxlc0xpc3QpID0+IFByb21pc2UuYWxsKG1vZHVsZXNMaXN0Lm1hcCgoeyBpZCwgdXJsIH0pID0+IGxvYWRNb2R1bGUoaWQsIHVybCkpKS50aGVuKChyZXMpID0+IHtcbiAgY29uc3QgdG9SZXR1cm4gPSB7fTtcblxuICByZXMuZm9yRWFjaCgobW9kLCBpZHgpID0+IHtcbiAgICBjb25zdCBlbCA9IG1vZHVsZXNMaXN0W2lkeF07XG4gICAgdG9SZXR1cm5bZWwuaWRdID0gbW9kO1xuICB9KTtcblxuICByZXR1cm4gdG9SZXR1cm47XG59KTtcblxuLyoqXG4gKiBMb2FkIHNpbmdsZSBtb2R1bGUgZnJvbSB1cmwgd2l0aCBnaXZlbiBpZFxuICpcbiAqIEBwYXJhbSB7Kn0gaWQgLSBtb2R1bGUgaWQgXG4gKiBAcGFyYW0geyp9IHVybFxuICovXG5leHBvcnQgY29uc3QgbG9hZE1vZHVsZSA9IChpZDogc3RyaW5nLCB1cmw6IHN0cmluZykgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdMb2FkIG1vZHVsZSBpcyB3b3JraW5nIG9ubHkgb24gYnJvd3NlciBlbnYnKSk7XG4gIH1cblxuICBpZiAoIWlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNb2R1bGUgaWQgaXMgcmVxdWlyZWQnKVxuICB9XG5cbiAgaWQgPSAgTU9EVUxFX1BSRUZJWCArIGlkO1xuICBsZXQgbW9kdWxlRGVmaW5pdGlvbiA9IG1vZHVsZXNbaWRdO1xuXG4gIGlmICghbW9kdWxlRGVmaW5pdGlvbikge1xuICAgIG1vZHVsZXNbaWRdID0ge307XG4gICAgbW9kdWxlRGVmaW5pdGlvbiA9IG1vZHVsZXNbaWRdO1xuICB9XG5cbiAgaWYgKG1vZHVsZURlZmluaXRpb24uaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG1vZHVsZURlZmluaXRpb24uaW5zdGFuY2UpO1xuICB9XG5cbiAgaWYgKG1vZHVsZURlZmluaXRpb24ucHJvbWlzZSkge1xuICAgIHJldHVybiBtb2R1bGVEZWZpbml0aW9uLnByb21pc2U7XG4gIH1cblxuICByZXR1cm4gbW9kdWxlRGVmaW5pdGlvbi5wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHJlYWR5U3RhdGVDaGFuZ2UgPSAoZXZ0OiBhbnkpID0+IHtcbiAgICAgIGlmIChldnQudHlwZSA9PT0gJ2xvYWQnIHx8ICgvXihjb21wbGV0ZXxsb2FkZWQpJC8udGVzdCgoZXZ0LmN1cnJlbnRUYXJnZXQgfHwgZXZ0LnNyY0VsZW1lbnQpLnJlYWR5U3RhdGUpKSkge1xuICAgICAgICBjb25zdCBub2RlID0gIGV2dC5jdXJyZW50VGFyZ2V0IHx8IGV2dC5zcmNFbGVtZW50O1xuXG4gICAgICAgIHJlbW92ZUxpc3RlbmVyKG5vZGUsIHJlYWR5U3RhdGVDaGFuZ2UsICdsb2FkJyk7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVyKG5vZGUsIHJlamVjdCwgJ2Vycm9yJyk7XG5cbiAgICAgICAgLy8gc2xvdyBkb3cgY2hlY2tpbmcgaWYgbW9kdWxlIGlzIGxvYWRlZCB0byBlbnN1cmUgdGhhdCBzY3JpcHQgdGhhdCAgcmVnaXN0ZXIgbW9kdWxlIGlzIGNhbGxlZFxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUobW9kdWxlc1tpZF0gPyBtb2R1bGVzW2lkXS5pbnN0YW5jZSA6IHVuZGVmaW5lZCksIDEwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBcbiAgICBzY3JpcHQuaWQgPSBpZDtcblxuICAgIC8vIEB0cy1pZ25vcmUgZml4IGZvciBJRVxuICAgIGlmIChzY3JpcHQuYXR0YWNoRXZlbnQgJiYgIShzY3JpcHQuYXR0YWNoRXZlbnQudG9TdHJpbmcgJiYgc2NyaXB0LmF0dGFjaEV2ZW50LnRvU3RyaW5nKCkuaW5kZXhPZignW25hdGl2ZSBjb2RlJykgPCAwKSkge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgc2NyaXB0LmF0dGFjaEV2ZW50KCdvbnJlYWR5c3RhdGVjaGFuZ2UnLCByZWFkeVN0YXRlQ2hhbmdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCByZWFkeVN0YXRlQ2hhbmdlLCBmYWxzZSk7XG4gICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignb25lcnJvcicsIHJlamVjdCwgZmFsc2UpO1xuICAgIH1cblxuICAgIHNjcmlwdC5zZXRBdHRyaWJ1dGUoJ2Nyb3Nzb3JpZ2luJywgJ2Fub255bW91cycpO1xuICAgIHNjcmlwdC5zZXRBdHRyaWJ1dGUoJ2NoYXJzZXQnLCAndXRmLTgnKTtcbiAgICBzY3JpcHQuc2V0QXR0cmlidXRlKCdhc3luYycsICd0cnVlJyk7XG5cbiAgICBzY3JpcHQuc3JjID0gdXJsO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICB9KTtcbn07XG5cbi8qKlxuICogUmVnaXN0ZXIgdGhhdCBtb2R1bGUgaXMgcmVhZHlcbiAqIFxuICogQHBhcmFtIHtzdHJpbmd9IGlkIFxuICogQHBhcmFtIHthbnl9IGluc3RhbmNlIFxuICogQHBhcmFtIHthbnl9IG1ldGFkYXRhIC0gYWRkaXRpb25hbCBtb2R1bGUgbWV0YWRhdGEgbGlrZSB2ZXJzaW9uXG4gKi9cbmV4cG9ydCBjb25zdCByZWdpc3Rlck1vZHVsZSA9IChpZDogc3RyaW5nLCBpbnN0YW5jZTogYW55LCBtZXRhZGF0YT86IGFueSkgPT4ge1xuICAvLyBsb2FkZXIgbm90IHdvcmtpbmcgb24gbm9kZWpzIGVudnNcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFpZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTW9kdWxlIGlkIGlzIHJlcXVpcmVkJylcbiAgfVxuXG4gIGlmICghbW9kdWxlcykge1xuICAgIHRocm93IG5ldyBFcnJvcignTG9hZGVyIGlzIG5vdCBpbml0aWFsaXplZCcpXG4gIH1cblxuICBpZCA9IE1PRFVMRV9QUkVGSVggKyBpZDtcblxuICBpZiAobW9kdWxlc1tpZF0pIHtcbiAgICBtb2R1bGVzW2lkXSA9IHsgaW5zdGFuY2UsIG1ldGFkYXRhIH1cbiAgfVxufTtcblxuLyoqXG4gKiBMb2FkIGV4dGVybmFsIGNzcyBmcm9tIGdpdmVuIHVybFxuICogXG4gKiBAcGFyYW0geyp9IHVybCBcbiAqL1xuZXhwb3J0IGNvbnN0IGxvYWRDc3MgPSAodXJsKSA9PiB7XG4gIGNvbnN0IGFscmVhZHlBZGRlZFRoaXNUYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBsaW5rW2hyZWY9XCIke3VybH1cIl1gKTtcbiAgaWYgKGFscmVhZHlBZGRlZFRoaXNUYWcgIT09IG51bGwpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBjb25zdCBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuXG4gICAgY29uc3QgbG9hZGVkID0gKCkgPT4ge1xuICAgICAgcmVzb2x2ZSgpO1xuICAgICAgbGluay5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgbG9hZGVkKTtcbiAgICB9O1xuXG4gICAgbGluay5yZWwgPSAnc3R5bGVzaGVldCc7XG4gICAgbGluay5ocmVmID0gdXJsO1xuICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGxvYWRlZCk7XG4gICAgaGVhZC5hcHBlbmRDaGlsZChsaW5rKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEVudW0ganVzdCBmb3IgdW5pZnkgZmlsZXN0YWNrIG1vZHVsZSBuYW1lc1xuICovXG5leHBvcnQgZW51bSBGSUxFU1RBQ0tfTU9EVUxFUyB7XG4gIEZJTEVTVEFDS19TREsgPSAnZmlsZXN0YWNrLXNkaycsXG4gIFRSQU5TRk9STVNfVUkgPSAndHJhbnNmb3Jtcy11aScsXG4gIFBJQ0tFUiA9ICdwaWNrZXInLFxufTtcbiJdfQ==", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var getSecurity = function (policyOptions, appSecret) {\n    throw new Error('getSecurity is only supported in nodejs');\n};\nexport var validateWebhookSignature = function (secret, rawBody, toCompare) {\n    throw new Error('validateWebhookSignature is only supported in nodejs');\n};\n\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvYXBpL3NlY3VyaXR5LmJyb3dzZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7OztHQWVHO0FBS0gsTUFBTSxDQUFDLElBQU0sV0FBVyxHQUFHLFVBQUMsYUFBOEIsRUFBRSxTQUFpQjtJQUMzRSxNQUFNLElBQUksS0FBSyxDQUFDLHlDQUF5QyxDQUFDLENBQUM7QUFDN0QsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLElBQU0sd0JBQXdCLEdBQUcsVUFBQyxNQUFjLEVBQUUsT0FBZSxFQUFFLFNBQWlDO0lBQ3pHLE1BQU0sSUFBSSxLQUFLLENBQUMsc0RBQXNELENBQUMsQ0FBQztBQUMxRSxDQUFDLENBQUMiLCJmaWxlIjoibGliL2FwaS9zZWN1cml0eS5icm93c2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAoYykgMjAxOCBieSBGaWxlc3RhY2suXG4gKiBTb21lIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgU2VjdXJpdHkgfSBmcm9tICcuLy4uL2NsaWVudCc7XG5pbXBvcnQgeyBTZWN1cml0eU9wdGlvbnMsIFdlYmhvb2tWYWxpZGF0ZVBheWxvYWQgfSBmcm9tICcuL3NlY3VyaXR5JztcblxuZXhwb3J0IGNvbnN0IGdldFNlY3VyaXR5ID0gKHBvbGljeU9wdGlvbnM6IFNlY3VyaXR5T3B0aW9ucywgYXBwU2VjcmV0OiBzdHJpbmcpOiBTZWN1cml0eSA9PiB7XG4gIHRocm93IG5ldyBFcnJvcignZ2V0U2VjdXJpdHkgaXMgb25seSBzdXBwb3J0ZWQgaW4gbm9kZWpzJyk7XG59O1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVXZWJob29rU2lnbmF0dXJlID0gKHNlY3JldDogc3RyaW5nLCByYXdCb2R5OiBzdHJpbmcsIHRvQ29tcGFyZTogV2ViaG9va1ZhbGlkYXRlUGF5bG9hZCkgPT4ge1xuICB0aHJvdyBuZXcgRXJyb3IoJ3ZhbGlkYXRlV2ViaG9va1NpZ25hdHVyZSBpcyBvbmx5IHN1cHBvcnRlZCBpbiBub2RlanMnKTtcbn07XG4iXX0=\n", "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { consoleSandbox, getGlobalObject } from './misc';\n\n// TODO: Implement different loggers for different environments\nconst global = getGlobalObject<Window | NodeJS.Global>();\n\n/** Prefix for logging strings */\nconst PREFIX = 'Sentry Logger ';\n\n/** JSDoc */\nclass Logger {\n  /** JSDoc */\n  private _enabled: boolean;\n\n  /** JSDoc */\n  public constructor() {\n    this._enabled = false;\n  }\n\n  /** JSDoc */\n  public disable(): void {\n    this._enabled = false;\n  }\n\n  /** JSDoc */\n  public enable(): void {\n    this._enabled = true;\n  }\n\n  /** JSDoc */\n  public log(...args: any[]): void {\n    if (!this._enabled) {\n      return;\n    }\n    consoleSandbox(() => {\n      global.console.log(`${PREFIX}[Log]: ${args.join(' ')}`);\n    });\n  }\n\n  /** JSDoc */\n  public warn(...args: any[]): void {\n    if (!this._enabled) {\n      return;\n    }\n    consoleSandbox(() => {\n      global.console.warn(`${PREFIX}[Warn]: ${args.join(' ')}`);\n    });\n  }\n\n  /** JSDoc */\n  public error(...args: any[]): void {\n    if (!this._enabled) {\n      return;\n    }\n    consoleSandbox(() => {\n      global.console.error(`${PREFIX}[Error]: ${args.join(' ')}`);\n    });\n  }\n}\n\n// Ensure we only have a single logger instance, even if multiple versions of @sentry/utils are being used\nglobal.__SENTRY__ = global.__SENTRY__ || {};\nconst logger = (global.__SENTRY__.logger as Logger) || (global.__SENTRY__.logger = new Logger());\n\nexport { logger };\n", "/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/* eslint-disable @typescript-eslint/typedef */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isThenable } from './is';\n\n/** SyncPromise internal states */\nenum States {\n  /** Pending */\n  PENDING = 'PENDING',\n  /** Resolved / OK */\n  RESOLVED = 'RESOLVED',\n  /** Rejected / Error */\n  REJECTED = 'REJECTED',\n}\n\n/**\n * Thenable class that behaves like a Promise and follows it's interface\n * but is not async internally\n */\nclass SyncPromise<T> implements PromiseLike<T> {\n  private _state: States = States.PENDING;\n  private _handlers: Array<{\n    done: boolean;\n    onfulfilled?: ((value: T) => T | PromiseLike<T>) | null;\n    onrejected?: ((reason: any) => any) | null;\n  }> = [];\n  private _value: any;\n\n  public constructor(\n    executor: (resolve: (value?: T | PromiseLike<T> | null) => void, reject: (reason?: any) => void) => void,\n  ) {\n    try {\n      executor(this._resolve, this._reject);\n    } catch (e) {\n      this._reject(e);\n    }\n  }\n\n  /** JSDoc */\n  public static resolve<T>(value: T | PromiseLike<T>): PromiseLike<T> {\n    return new SyncPromise(resolve => {\n      resolve(value);\n    });\n  }\n\n  /** JSDoc */\n  public static reject<T = never>(reason?: any): PromiseLike<T> {\n    return new SyncPromise((_, reject) => {\n      reject(reason);\n    });\n  }\n\n  /** JSDoc */\n  public static all<U = any>(collection: Array<U | PromiseLike<U>>): PromiseLike<U[]> {\n    return new SyncPromise<U[]>((resolve, reject) => {\n      if (!Array.isArray(collection)) {\n        reject(new TypeError(`Promise.all requires an array as input.`));\n        return;\n      }\n\n      if (collection.length === 0) {\n        resolve([]);\n        return;\n      }\n\n      let counter = collection.length;\n      const resolvedCollection: U[] = [];\n\n      collection.forEach((item, index) => {\n        SyncPromise.resolve(item)\n          .then(value => {\n            resolvedCollection[index] = value;\n            counter -= 1;\n\n            if (counter !== 0) {\n              return;\n            }\n            resolve(resolvedCollection);\n          })\n          .then(null, reject);\n      });\n    });\n  }\n\n  /** JSDoc */\n  public then<TResult1 = T, TResult2 = never>(\n    onfulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | null,\n    onrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | null,\n  ): PromiseLike<TResult1 | TResult2> {\n    return new SyncPromise((resolve, reject) => {\n      this._attachHandler({\n        done: false,\n        onfulfilled: result => {\n          if (!onfulfilled) {\n            // TODO: \\_()_/\n            // TODO: FIXME\n            resolve(result as any);\n            return;\n          }\n          try {\n            resolve(onfulfilled(result));\n            return;\n          } catch (e) {\n            reject(e);\n            return;\n          }\n        },\n        onrejected: reason => {\n          if (!onrejected) {\n            reject(reason);\n            return;\n          }\n          try {\n            resolve(onrejected(reason));\n            return;\n          } catch (e) {\n            reject(e);\n            return;\n          }\n        },\n      });\n    });\n  }\n\n  /** JSDoc */\n  public catch<TResult = never>(\n    onrejected?: ((reason: any) => TResult | PromiseLike<TResult>) | null,\n  ): PromiseLike<T | TResult> {\n    return this.then(val => val, onrejected);\n  }\n\n  /** JSDoc */\n  public finally<TResult>(onfinally?: (() => void) | null): PromiseLike<TResult> {\n    return new SyncPromise<TResult>((resolve, reject) => {\n      let val: TResult | any;\n      let isRejected: boolean;\n\n      return this.then(\n        value => {\n          isRejected = false;\n          val = value;\n          if (onfinally) {\n            onfinally();\n          }\n        },\n        reason => {\n          isRejected = true;\n          val = reason;\n          if (onfinally) {\n            onfinally();\n          }\n        },\n      ).then(() => {\n        if (isRejected) {\n          reject(val);\n          return;\n        }\n\n        resolve((val as unknown) as any);\n      });\n    });\n  }\n\n  /** JSDoc */\n  public toString(): string {\n    return '[object SyncPromise]';\n  }\n\n  /** JSDoc */\n  private readonly _resolve = (value?: T | PromiseLike<T> | null) => {\n    this._setResult(States.RESOLVED, value);\n  };\n\n  /** JSDoc */\n  private readonly _reject = (reason?: any) => {\n    this._setResult(States.REJECTED, reason);\n  };\n\n  /** JSDoc */\n  private readonly _setResult = (state: States, value?: T | PromiseLike<T> | any) => {\n    if (this._state !== States.PENDING) {\n      return;\n    }\n\n    if (isThenable(value)) {\n      (value as PromiseLike<T>).then(this._resolve, this._reject);\n      return;\n    }\n\n    this._state = state;\n    this._value = value;\n\n    this._executeHandlers();\n  };\n\n  // TODO: FIXME\n  /** JSDoc */\n  private readonly _attachHandler = (handler: {\n    /** JSDoc */\n    done: boolean;\n    /** JSDoc */\n    onfulfilled?(value: T): any;\n    /** JSDoc */\n    onrejected?(reason: any): any;\n  }) => {\n    this._handlers = this._handlers.concat(handler);\n    this._executeHandlers();\n  };\n\n  /** JSDoc */\n  private readonly _executeHandlers = () => {\n    if (this._state === States.PENDING) {\n      return;\n    }\n\n    const cachedHandlers = this._handlers.slice();\n    this._handlers = [];\n\n    cachedHandlers.forEach(handler => {\n      if (handler.done) {\n        return;\n      }\n\n      if (this._state === States.RESOLVED) {\n        if (handler.onfulfilled) {\n          // eslint-disable-next-line @typescript-eslint/no-floating-promises\n          handler.onfulfilled((this._value as unknown) as any);\n        }\n      }\n\n      if (this._state === States.REJECTED) {\n        if (handler.onrejected) {\n          handler.onrejected(this._value);\n        }\n      }\n\n      handler.done = true;\n    });\n  };\n}\n\nexport { SyncPromise };\n", "/* eslint-disable max-lines */\nimport {\n  Breadcrumb,\n  CaptureContext,\n  Context,\n  Contexts,\n  Event,\n  EventHint,\n  EventProcessor,\n  Extra,\n  Extras,\n  Primitive,\n  Scope as ScopeInterface,\n  ScopeContext,\n  Severity,\n  Span,\n  Transaction,\n  User,\n} from '@sentry/types';\nimport { dateTimestampInSeconds, getGlobalObject, isPlainObject, isThenable, SyncPromise } from '@sentry/utils';\n\nimport { Session } from './session';\n\n/**\n * Holds additional event information. {@link Scope.applyToEvent} will be\n * called by the client before an event will be sent.\n */\nexport class Scope implements ScopeInterface {\n  /** Flag if notifiying is happening. */\n  protected _notifyingListeners: boolean = false;\n\n  /** Callback for client to receive scope changes. */\n  protected _scopeListeners: Array<(scope: Scope) => void> = [];\n\n  /** Callback list that will be called after {@link applyToEvent}. */\n  protected _eventProcessors: EventProcessor[] = [];\n\n  /** Array of breadcrumbs. */\n  protected _breadcrumbs: Breadcrumb[] = [];\n\n  /** User */\n  protected _user: User = {};\n\n  /** Tags */\n  protected _tags: { [key: string]: Primitive } = {};\n\n  /** Extra */\n  protected _extra: Extras = {};\n\n  /** Contexts */\n  protected _contexts: Contexts = {};\n\n  /** Fingerprint */\n  protected _fingerprint?: string[];\n\n  /** Severity */\n  protected _level?: Severity;\n\n  /** Transaction Name */\n  protected _transactionName?: string;\n\n  /** Span */\n  protected _span?: Span;\n\n  /** Session */\n  protected _session?: Session;\n\n  /**\n   * Inherit values from the parent scope.\n   * @param scope to clone.\n   */\n  public static clone(scope?: Scope): Scope {\n    const newScope = new Scope();\n    if (scope) {\n      newScope._breadcrumbs = [...scope._breadcrumbs];\n      newScope._tags = { ...scope._tags };\n      newScope._extra = { ...scope._extra };\n      newScope._contexts = { ...scope._contexts };\n      newScope._user = scope._user;\n      newScope._level = scope._level;\n      newScope._span = scope._span;\n      newScope._session = scope._session;\n      newScope._transactionName = scope._transactionName;\n      newScope._fingerprint = scope._fingerprint;\n      newScope._eventProcessors = [...scope._eventProcessors];\n    }\n    return newScope;\n  }\n\n  /**\n   * Add internal on change listener. Used for sub SDKs that need to store the scope.\n   * @hidden\n   */\n  public addScopeListener(callback: (scope: Scope) => void): void {\n    this._scopeListeners.push(callback);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public addEventProcessor(callback: EventProcessor): this {\n    this._eventProcessors.push(callback);\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setUser(user: User | null): this {\n    this._user = user || {};\n    if (this._session) {\n      this._session.update({ user });\n    }\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getUser(): User | undefined {\n    return this._user;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTags(tags: { [key: string]: Primitive }): this {\n    this._tags = {\n      ...this._tags,\n      ...tags,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTag(key: string, value: Primitive): this {\n    this._tags = { ...this._tags, [key]: value };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setExtras(extras: Extras): this {\n    this._extra = {\n      ...this._extra,\n      ...extras,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setExtra(key: string, extra: Extra): this {\n    this._extra = { ...this._extra, [key]: extra };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setFingerprint(fingerprint: string[]): this {\n    this._fingerprint = fingerprint;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setLevel(level: Severity): this {\n    this._level = level;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTransactionName(name?: string): this {\n    this._transactionName = name;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Can be removed in major version.\n   * @deprecated in favor of {@link this.setTransactionName}\n   */\n  public setTransaction(name?: string): this {\n    return this.setTransactionName(name);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setContext(key: string, context: Context | null): this {\n    if (context === null) {\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete this._contexts[key];\n    } else {\n      this._contexts = { ...this._contexts, [key]: context };\n    }\n\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setSpan(span?: Span): this {\n    this._span = span;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getSpan(): Span | undefined {\n    return this._span;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getTransaction(): Transaction | undefined {\n    // often, this span will be a transaction, but it's not guaranteed to be\n    const span = this.getSpan() as undefined | (Span & { spanRecorder: { spans: Span[] } });\n\n    // try it the new way first\n    if (span?.transaction) {\n      return span?.transaction;\n    }\n\n    // fallback to the old way (known bug: this only finds transactions with sampled = true)\n    if (span?.spanRecorder?.spans[0]) {\n      return span.spanRecorder.spans[0] as Transaction;\n    }\n\n    // neither way found a transaction\n    return undefined;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setSession(session?: Session): this {\n    if (!session) {\n      delete this._session;\n    } else {\n      this._session = session;\n    }\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getSession(): Session | undefined {\n    return this._session;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public update(captureContext?: CaptureContext): this {\n    if (!captureContext) {\n      return this;\n    }\n\n    if (typeof captureContext === 'function') {\n      const updatedScope = (captureContext as <T>(scope: T) => T)(this);\n      return updatedScope instanceof Scope ? updatedScope : this;\n    }\n\n    if (captureContext instanceof Scope) {\n      this._tags = { ...this._tags, ...captureContext._tags };\n      this._extra = { ...this._extra, ...captureContext._extra };\n      this._contexts = { ...this._contexts, ...captureContext._contexts };\n      if (captureContext._user && Object.keys(captureContext._user).length) {\n        this._user = captureContext._user;\n      }\n      if (captureContext._level) {\n        this._level = captureContext._level;\n      }\n      if (captureContext._fingerprint) {\n        this._fingerprint = captureContext._fingerprint;\n      }\n    } else if (isPlainObject(captureContext)) {\n      // eslint-disable-next-line no-param-reassign\n      captureContext = captureContext as ScopeContext;\n      this._tags = { ...this._tags, ...captureContext.tags };\n      this._extra = { ...this._extra, ...captureContext.extra };\n      this._contexts = { ...this._contexts, ...captureContext.contexts };\n      if (captureContext.user) {\n        this._user = captureContext.user;\n      }\n      if (captureContext.level) {\n        this._level = captureContext.level;\n      }\n      if (captureContext.fingerprint) {\n        this._fingerprint = captureContext.fingerprint;\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public clear(): this {\n    this._breadcrumbs = [];\n    this._tags = {};\n    this._extra = {};\n    this._user = {};\n    this._contexts = {};\n    this._level = undefined;\n    this._transactionName = undefined;\n    this._fingerprint = undefined;\n    this._span = undefined;\n    this._session = undefined;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public addBreadcrumb(breadcrumb: Breadcrumb, maxBreadcrumbs?: number): this {\n    const mergedBreadcrumb = {\n      timestamp: dateTimestampInSeconds(),\n      ...breadcrumb,\n    };\n\n    this._breadcrumbs =\n      maxBreadcrumbs !== undefined && maxBreadcrumbs >= 0\n        ? [...this._breadcrumbs, mergedBreadcrumb].slice(-maxBreadcrumbs)\n        : [...this._breadcrumbs, mergedBreadcrumb];\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public clearBreadcrumbs(): this {\n    this._breadcrumbs = [];\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Applies the current context and fingerprint to the event.\n   * Note that breadcrumbs will be added by the client.\n   * Also if the event has already breadcrumbs on it, we do not merge them.\n   * @param event Event\n   * @param hint May contain additional informartion about the original exception.\n   * @hidden\n   */\n  public applyToEvent(event: Event, hint?: EventHint): PromiseLike<Event | null> {\n    if (this._extra && Object.keys(this._extra).length) {\n      event.extra = { ...this._extra, ...event.extra };\n    }\n    if (this._tags && Object.keys(this._tags).length) {\n      event.tags = { ...this._tags, ...event.tags };\n    }\n    if (this._user && Object.keys(this._user).length) {\n      event.user = { ...this._user, ...event.user };\n    }\n    if (this._contexts && Object.keys(this._contexts).length) {\n      event.contexts = { ...this._contexts, ...event.contexts };\n    }\n    if (this._level) {\n      event.level = this._level;\n    }\n    if (this._transactionName) {\n      event.transaction = this._transactionName;\n    }\n    // We want to set the trace context for normal events only if there isn't already\n    // a trace context on the event. There is a product feature in place where we link\n    // errors with transaction and it relys on that.\n    if (this._span) {\n      event.contexts = { trace: this._span.getTraceContext(), ...event.contexts };\n      const transactionName = this._span.transaction?.name;\n      if (transactionName) {\n        event.tags = { transaction: transactionName, ...event.tags };\n      }\n    }\n\n    this._applyFingerprint(event);\n\n    event.breadcrumbs = [...(event.breadcrumbs || []), ...this._breadcrumbs];\n    event.breadcrumbs = event.breadcrumbs.length > 0 ? event.breadcrumbs : undefined;\n\n    return this._notifyEventProcessors([...getGlobalEventProcessors(), ...this._eventProcessors], event, hint);\n  }\n\n  /**\n   * This will be called after {@link applyToEvent} is finished.\n   */\n  protected _notifyEventProcessors(\n    processors: EventProcessor[],\n    event: Event | null,\n    hint?: EventHint,\n    index: number = 0,\n  ): PromiseLike<Event | null> {\n    return new SyncPromise<Event | null>((resolve, reject) => {\n      const processor = processors[index];\n      if (event === null || typeof processor !== 'function') {\n        resolve(event);\n      } else {\n        const result = processor({ ...event }, hint) as Event | null;\n        if (isThenable(result)) {\n          (result as PromiseLike<Event | null>)\n            .then(final => this._notifyEventProcessors(processors, final, hint, index + 1).then(resolve))\n            .then(null, reject);\n        } else {\n          this._notifyEventProcessors(processors, result, hint, index + 1)\n            .then(resolve)\n            .then(null, reject);\n        }\n      }\n    });\n  }\n\n  /**\n   * This will be called on every set call.\n   */\n  protected _notifyScopeListeners(): void {\n    // We need this check for this._notifyingListeners to be able to work on scope during updates\n    // If this check is not here we'll produce endless recursion when something is done with the scope\n    // during the callback.\n    if (!this._notifyingListeners) {\n      this._notifyingListeners = true;\n      this._scopeListeners.forEach(callback => {\n        callback(this);\n      });\n      this._notifyingListeners = false;\n    }\n  }\n\n  /**\n   * Applies fingerprint from the scope to the event if there's one,\n   * uses message if there's one instead or get rid of empty fingerprint\n   */\n  private _applyFingerprint(event: Event): void {\n    // Make sure it's an array first and we actually have something in place\n    event.fingerprint = event.fingerprint\n      ? Array.isArray(event.fingerprint)\n        ? event.fingerprint\n        : [event.fingerprint]\n      : [];\n\n    // If we have something on the scope, then merge it with event\n    if (this._fingerprint) {\n      event.fingerprint = event.fingerprint.concat(this._fingerprint);\n    }\n\n    // If we have no data at all, remove empty array default\n    if (event.fingerprint && !event.fingerprint.length) {\n      delete event.fingerprint;\n    }\n  }\n}\n\n/**\n * Retruns the global event processors.\n */\nfunction getGlobalEventProcessors(): EventProcessor[] {\n  /* eslint-disable @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access  */\n  const global = getGlobalObject<any>();\n  global.__SENTRY__ = global.__SENTRY__ || {};\n  global.__SENTRY__.globalEventProcessors = global.__SENTRY__.globalEventProcessors || [];\n  return global.__SENTRY__.globalEventProcessors;\n  /* eslint-enable @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access */\n}\n\n/**\n * Add a EventProcessor to be kept globally.\n * @param callback EventProcessor to add\n */\nexport function addGlobalEventProcessor(callback: EventProcessor): void {\n  getGlobalEventProcessors().push(callback);\n}\n", "/* eslint-disable max-lines */\nimport {\n  Breadcrumb,\n  BreadcrumbHint,\n  Client,\n  CustomSamplingContext,\n  Event,\n  EventHint,\n  Extra,\n  Extras,\n  Hub as HubInterface,\n  Integration,\n  IntegrationClass,\n  Primitive,\n  SessionContext,\n  SessionStatus,\n  Severity,\n  Span,\n  SpanContext,\n  Transaction,\n  TransactionContext,\n  User,\n} from '@sentry/types';\nimport { consoleSandbox, dateTimestampInSeconds, getGlobalObject, isNodeEnv, logger, uuid4 } from '@sentry/utils';\n\nimport { Carrier, DomainAsCarrier, Layer } from './interfaces';\nimport { Scope } from './scope';\nimport { Session } from './session';\n\n/**\n * API compatibility version of this hub.\n *\n * WARNING: This number should only be increased when the global interface\n * changes and new methods are introduced.\n *\n * @hidden\n */\nexport const API_VERSION = 3;\n\n/**\n * Default maximum number of breadcrumbs added to an event. Can be overwritten\n * with {@link Options.maxBreadcrumbs}.\n */\nconst DEFAULT_BREADCRUMBS = 100;\n\n/**\n * Absolute maximum number of breadcrumbs added to an event. The\n * `maxBreadcrumbs` option cannot be higher than this value.\n */\nconst MAX_BREADCRUMBS = 100;\n\n/**\n * @inheritDoc\n */\nexport class Hub implements HubInterface {\n  /** Is a {@link Layer}[] containing the client and scope */\n  private readonly _stack: Layer[] = [{}];\n\n  /** Contains the last event id of a captured event.  */\n  private _lastEventId?: string;\n\n  /**\n   * Creates a new instance of the hub, will push one {@link Layer} into the\n   * internal stack on creation.\n   *\n   * @param client bound to the hub.\n   * @param scope bound to the hub.\n   * @param version number, higher number means higher priority.\n   */\n  public constructor(client?: Client, scope: Scope = new Scope(), private readonly _version: number = API_VERSION) {\n    this.getStackTop().scope = scope;\n    this.bindClient(client);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public isOlderThan(version: number): boolean {\n    return this._version < version;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public bindClient(client?: Client): void {\n    const top = this.getStackTop();\n    top.client = client;\n    if (client && client.setupIntegrations) {\n      client.setupIntegrations();\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public pushScope(): Scope {\n    // We want to clone the content of prev scope\n    const scope = Scope.clone(this.getScope());\n    this.getStack().push({\n      client: this.getClient(),\n      scope,\n    });\n    return scope;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public popScope(): boolean {\n    if (this.getStack().length <= 1) return false;\n    return !!this.getStack().pop();\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public withScope(callback: (scope: Scope) => void): void {\n    const scope = this.pushScope();\n    try {\n      callback(scope);\n    } finally {\n      this.popScope();\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getClient<C extends Client>(): C | undefined {\n    return this.getStackTop().client as C;\n  }\n\n  /** Returns the scope of the top stack. */\n  public getScope(): Scope | undefined {\n    return this.getStackTop().scope;\n  }\n\n  /** Returns the scope stack for domains or the process. */\n  public getStack(): Layer[] {\n    return this._stack;\n  }\n\n  /** Returns the topmost scope layer in the order domain > local > process. */\n  public getStackTop(): Layer {\n    return this._stack[this._stack.length - 1];\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n  public captureException(exception: any, hint?: EventHint): string {\n    const eventId = (this._lastEventId = uuid4());\n    let finalHint = hint;\n\n    // If there's no explicit hint provided, mimick the same thing that would happen\n    // in the minimal itself to create a consistent behavior.\n    // We don't do this in the client, as it's the lowest level API, and doing this,\n    // would prevent user from having full control over direct calls.\n    if (!hint) {\n      let syntheticException: Error;\n      try {\n        throw new Error('Sentry syntheticException');\n      } catch (exception) {\n        syntheticException = exception as Error;\n      }\n      finalHint = {\n        originalException: exception,\n        syntheticException,\n      };\n    }\n\n    this._invokeClient('captureException', exception, {\n      ...finalHint,\n      event_id: eventId,\n    });\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public captureMessage(message: string, level?: Severity, hint?: EventHint): string {\n    const eventId = (this._lastEventId = uuid4());\n    let finalHint = hint;\n\n    // If there's no explicit hint provided, mimick the same thing that would happen\n    // in the minimal itself to create a consistent behavior.\n    // We don't do this in the client, as it's the lowest level API, and doing this,\n    // would prevent user from having full control over direct calls.\n    if (!hint) {\n      let syntheticException: Error;\n      try {\n        throw new Error(message);\n      } catch (exception) {\n        syntheticException = exception as Error;\n      }\n      finalHint = {\n        originalException: message,\n        syntheticException,\n      };\n    }\n\n    this._invokeClient('captureMessage', message, level, {\n      ...finalHint,\n      event_id: eventId,\n    });\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public captureEvent(event: Event, hint?: EventHint): string {\n    const eventId = (this._lastEventId = uuid4());\n    this._invokeClient('captureEvent', event, {\n      ...hint,\n      event_id: eventId,\n    });\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public lastEventId(): string | undefined {\n    return this._lastEventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public addBreadcrumb(breadcrumb: Breadcrumb, hint?: BreadcrumbHint): void {\n    const { scope, client } = this.getStackTop();\n\n    if (!scope || !client) return;\n\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    const { beforeBreadcrumb = null, maxBreadcrumbs = DEFAULT_BREADCRUMBS } =\n      (client.getOptions && client.getOptions()) || {};\n\n    if (maxBreadcrumbs <= 0) return;\n\n    const timestamp = dateTimestampInSeconds();\n    const mergedBreadcrumb = { timestamp, ...breadcrumb };\n    const finalBreadcrumb = beforeBreadcrumb\n      ? (consoleSandbox(() => beforeBreadcrumb(mergedBreadcrumb, hint)) as Breadcrumb | null)\n      : mergedBreadcrumb;\n\n    if (finalBreadcrumb === null) return;\n\n    scope.addBreadcrumb(finalBreadcrumb, Math.min(maxBreadcrumbs, MAX_BREADCRUMBS));\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setUser(user: User | null): void {\n    const scope = this.getScope();\n    if (scope) scope.setUser(user);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTags(tags: { [key: string]: Primitive }): void {\n    const scope = this.getScope();\n    if (scope) scope.setTags(tags);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setExtras(extras: Extras): void {\n    const scope = this.getScope();\n    if (scope) scope.setExtras(extras);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTag(key: string, value: Primitive): void {\n    const scope = this.getScope();\n    if (scope) scope.setTag(key, value);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setExtra(key: string, extra: Extra): void {\n    const scope = this.getScope();\n    if (scope) scope.setExtra(key, extra);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public setContext(name: string, context: { [key: string]: any } | null): void {\n    const scope = this.getScope();\n    if (scope) scope.setContext(name, context);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public configureScope(callback: (scope: Scope) => void): void {\n    const { scope, client } = this.getStackTop();\n    if (scope && client) {\n      callback(scope);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public run(callback: (hub: Hub) => void): void {\n    const oldHub = makeMain(this);\n    try {\n      callback(this);\n    } finally {\n      makeMain(oldHub);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getIntegration<T extends Integration>(integration: IntegrationClass<T>): T | null {\n    const client = this.getClient();\n    if (!client) return null;\n    try {\n      return client.getIntegration(integration);\n    } catch (_oO) {\n      logger.warn(`Cannot retrieve integration ${integration.id} from the current Hub`);\n      return null;\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public startSpan(context: SpanContext): Span {\n    return this._callExtensionMethod('startSpan', context);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public startTransaction(context: TransactionContext, customSamplingContext?: CustomSamplingContext): Transaction {\n    return this._callExtensionMethod('startTransaction', context, customSamplingContext);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public traceHeaders(): { [key: string]: string } {\n    return this._callExtensionMethod<{ [key: string]: string }>('traceHeaders');\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public captureSession(endSession: boolean = false): void {\n    // both send the update and pull the session from the scope\n    if (endSession) {\n      return this.endSession();\n    }\n\n    // only send the update\n    this._sendSessionUpdate();\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public endSession(): void {\n    this.getStackTop()\n      ?.scope?.getSession()\n      ?.close();\n    this._sendSessionUpdate();\n\n    // the session is over; take it off of the scope\n    this.getStackTop()?.scope?.setSession();\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public startSession(context?: SessionContext): Session {\n    const { scope, client } = this.getStackTop();\n    const { release, environment } = (client && client.getOptions()) || {};\n    const session = new Session({\n      release,\n      environment,\n      ...(scope && { user: scope.getUser() }),\n      ...context,\n    });\n\n    if (scope) {\n      // End existing session if there's one\n      const currentSession = scope.getSession && scope.getSession();\n      if (currentSession && currentSession.status === SessionStatus.Ok) {\n        currentSession.update({ status: SessionStatus.Exited });\n      }\n      this.endSession();\n\n      // Afterwards we set the new session on the scope\n      scope.setSession(session);\n    }\n\n    return session;\n  }\n\n  /**\n   * Sends the current Session on the scope\n   */\n  private _sendSessionUpdate(): void {\n    const { scope, client } = this.getStackTop();\n    if (!scope) return;\n\n    const session = scope.getSession && scope.getSession();\n    if (session) {\n      if (client && client.captureSession) {\n        client.captureSession(session);\n      }\n    }\n  }\n\n  /**\n   * Internal helper function to call a method on the top client if it exists.\n   *\n   * @param method The method to call on the client.\n   * @param args Arguments to pass to the client function.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private _invokeClient<M extends keyof Client>(method: M, ...args: any[]): void {\n    const { scope, client } = this.getStackTop();\n    if (client && client[method]) {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-explicit-any\n      (client as any)[method](...args, scope);\n    }\n  }\n\n  /**\n   * Calls global extension method and binding current instance to the function call\n   */\n  // @ts-ignore Function lacks ending return statement and return type does not include 'undefined'. ts(2366)\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private _callExtensionMethod<T>(method: string, ...args: any[]): T {\n    const carrier = getMainCarrier();\n    const sentry = carrier.__SENTRY__;\n    if (sentry && sentry.extensions && typeof sentry.extensions[method] === 'function') {\n      return sentry.extensions[method].apply(this, args);\n    }\n    logger.warn(`Extension method ${method} couldn't be found, doing nothing.`);\n  }\n}\n\n/** Returns the global shim registry. */\nexport function getMainCarrier(): Carrier {\n  const carrier = getGlobalObject();\n  carrier.__SENTRY__ = carrier.__SENTRY__ || {\n    extensions: {},\n    hub: undefined,\n  };\n  return carrier;\n}\n\n/**\n * Replaces the current main hub with the passed one on the global object\n *\n * @returns The old replaced hub\n */\nexport function makeMain(hub: Hub): Hub {\n  const registry = getMainCarrier();\n  const oldHub = getHubFromCarrier(registry);\n  setHubOnCarrier(registry, hub);\n  return oldHub;\n}\n\n/**\n * Returns the default hub instance.\n *\n * If a hub is already registered in the global carrier but this module\n * contains a more recent version, it replaces the registered version.\n * Otherwise, the currently registered hub will be returned.\n */\nexport function getCurrentHub(): Hub {\n  // Get main carrier (global for every environment)\n  const registry = getMainCarrier();\n\n  // If there's no hub, or its an old API, assign a new one\n  if (!hasHubOnCarrier(registry) || getHubFromCarrier(registry).isOlderThan(API_VERSION)) {\n    setHubOnCarrier(registry, new Hub());\n  }\n\n  // Prefer domains over global if they are there (applicable only to Node environment)\n  if (isNodeEnv()) {\n    return getHubFromActiveDomain(registry);\n  }\n  // Return hub that lives on a global object\n  return getHubFromCarrier(registry);\n}\n\n/**\n * Returns the active domain, if one exists\n * @deprecated No longer used; remove in v7\n * @returns The domain, or undefined if there is no active domain\n */\n// eslint-disable-next-line deprecation/deprecation\nexport function getActiveDomain(): DomainAsCarrier | undefined {\n  logger.warn('Function `getActiveDomain` is deprecated and will be removed in a future version.');\n\n  const sentry = getMainCarrier().__SENTRY__;\n\n  return sentry && sentry.extensions && sentry.extensions.domain && sentry.extensions.domain.active;\n}\n\n/**\n * Try to read the hub from an active domain, and fallback to the registry if one doesn't exist\n * @returns discovered hub\n */\nfunction getHubFromActiveDomain(registry: Carrier): Hub {\n  try {\n    const activeDomain = getMainCarrier().__SENTRY__?.extensions?.domain?.active;\n\n    // If there's no active domain, just return global hub\n    if (!activeDomain) {\n      return getHubFromCarrier(registry);\n    }\n\n    // If there's no hub on current domain, or it's an old API, assign a new one\n    if (!hasHubOnCarrier(activeDomain) || getHubFromCarrier(activeDomain).isOlderThan(API_VERSION)) {\n      const registryHubTopStack = getHubFromCarrier(registry).getStackTop();\n      setHubOnCarrier(activeDomain, new Hub(registryHubTopStack.client, Scope.clone(registryHubTopStack.scope)));\n    }\n\n    // Return hub that lives on a domain\n    return getHubFromCarrier(activeDomain);\n  } catch (_Oo) {\n    // Return hub that lives on a global object\n    return getHubFromCarrier(registry);\n  }\n}\n\n/**\n * This will tell whether a carrier has a hub on it or not\n * @param carrier object\n */\nfunction hasHubOnCarrier(carrier: Carrier): boolean {\n  return !!(carrier && carrier.__SENTRY__ && carrier.__SENTRY__.hub);\n}\n\n/**\n * This will create a new {@link Hub} and add to the passed object on\n * __SENTRY__.hub.\n * @param carrier object\n * @hidden\n */\nexport function getHubFromCarrier(carrier: Carrier): Hub {\n  if (carrier && carrier.__SENTRY__ && carrier.__SENTRY__.hub) return carrier.__SENTRY__.hub;\n  carrier.__SENTRY__ = carrier.__SENTRY__ || {};\n  carrier.__SENTRY__.hub = new Hub();\n  return carrier.__SENTRY__.hub;\n}\n\n/**\n * This will set passed {@link Hub} on the passed object's __SENTRY__.hub attribute\n * @param carrier object\n * @param hub Hub\n * @returns A boolean indicating success or failure\n */\nexport function setHubOnCarrier(carrier: Carrier, hub: Hub): boolean {\n  if (!carrier) return false;\n  carrier.__SENTRY__ = carrier.__SENTRY__ || {};\n  carrier.__SENTRY__.hub = hub;\n  return true;\n}\n", "import { getCurrentHub, Hub, Scope } from '@sentry/hub';\nimport {\n  Breadcrumb,\n  CaptureContext,\n  CustomSamplingContext,\n  Event,\n  Extra,\n  Extras,\n  Primitive,\n  Severity,\n  Transaction,\n  TransactionContext,\n  User,\n} from '@sentry/types';\n\n/**\n * This calls a function on the current hub.\n * @param method function to call on hub.\n * @param args to pass to function.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction callOnHub<T>(method: string, ...args: any[]): T {\n  const hub = getCurrentHub();\n  if (hub && hub[method as keyof Hub]) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return (hub[method as keyof Hub] as any)(...args);\n  }\n  throw new Error(`No hub defined or ${method} was not found on the hub, please open a bug report.`);\n}\n\n/**\n * Captures an exception event and sends it to Sentry.\n *\n * @param exception An exception-like object.\n * @returns The generated eventId.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nexport function captureException(exception: any, captureContext?: CaptureContext): string {\n  let syntheticException: Error;\n  try {\n    throw new Error('Sentry syntheticException');\n  } catch (exception) {\n    syntheticException = exception as Error;\n  }\n  return callOnHub('captureException', exception, {\n    captureContext,\n    originalException: exception,\n    syntheticException,\n  });\n}\n\n/**\n * Captures a message event and sends it to Sentry.\n *\n * @param message The message to send to Sentry.\n * @param level Define the level of the message.\n * @returns The generated eventId.\n */\nexport function captureMessage(message: string, captureContext?: CaptureContext | Severity): string {\n  let syntheticException: Error;\n  try {\n    throw new Error(message);\n  } catch (exception) {\n    syntheticException = exception as Error;\n  }\n\n  // This is necessary to provide explicit scopes upgrade, without changing the original\n  // arity of the `captureMessage(message, level)` method.\n  const level = typeof captureContext === 'string' ? captureContext : undefined;\n  const context = typeof captureContext !== 'string' ? { captureContext } : undefined;\n\n  return callOnHub('captureMessage', message, level, {\n    originalException: message,\n    syntheticException,\n    ...context,\n  });\n}\n\n/**\n * Captures a manually created event and sends it to Sentry.\n *\n * @param event The event to send to Sentry.\n * @returns The generated eventId.\n */\nexport function captureEvent(event: Event): string {\n  return callOnHub('captureEvent', event);\n}\n\n/**\n * Callback to set context information onto the scope.\n * @param callback Callback function that receives Scope.\n */\nexport function configureScope(callback: (scope: Scope) => void): void {\n  callOnHub<void>('configureScope', callback);\n}\n\n/**\n * Records a new breadcrumb which will be attached to future events.\n *\n * Breadcrumbs will be added to subsequent events to provide more context on\n * user's actions prior to an error or crash.\n *\n * @param breadcrumb The breadcrumb to record.\n */\nexport function addBreadcrumb(breadcrumb: Breadcrumb): void {\n  callOnHub<void>('addBreadcrumb', breadcrumb);\n}\n\n/**\n * Sets context data with the given name.\n * @param name of the context\n * @param context Any kind of data. This data will be normalized.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function setContext(name: string, context: { [key: string]: any } | null): void {\n  callOnHub<void>('setContext', name, context);\n}\n\n/**\n * Set an object that will be merged sent as extra data with the event.\n * @param extras Extras object to merge into current context.\n */\nexport function setExtras(extras: Extras): void {\n  callOnHub<void>('setExtras', extras);\n}\n\n/**\n * Set an object that will be merged sent as tags data with the event.\n * @param tags Tags context object to merge into current context.\n */\nexport function setTags(tags: { [key: string]: Primitive }): void {\n  callOnHub<void>('setTags', tags);\n}\n\n/**\n * Set key:value that will be sent as extra data with the event.\n * @param key String of extra\n * @param extra Any kind of data. This data will be normalized.\n */\nexport function setExtra(key: string, extra: Extra): void {\n  callOnHub<void>('setExtra', key, extra);\n}\n\n/**\n * Set key:value that will be sent as tags data with the event.\n *\n * Can also be used to unset a tag, by passing `undefined`.\n *\n * @param key String key of tag\n * @param value Value of tag\n */\nexport function setTag(key: string, value: Primitive): void {\n  callOnHub<void>('setTag', key, value);\n}\n\n/**\n * Updates user context information for future events.\n *\n * @param user User context object to be set in the current context. Pass `null` to unset the user.\n */\nexport function setUser(user: User | null): void {\n  callOnHub<void>('setUser', user);\n}\n\n/**\n * Creates a new scope with and executes the given operation within.\n * The scope is automatically removed once the operation\n * finishes or throws.\n *\n * This is essentially a convenience function for:\n *\n *     pushScope();\n *     callback();\n *     popScope();\n *\n * @param callback that will be enclosed into push/popScope.\n */\nexport function withScope(callback: (scope: Scope) => void): void {\n  callOnHub<void>('withScope', callback);\n}\n\n/**\n * Calls a function on the latest client. Use this with caution, it's meant as\n * in \"internal\" helper so we don't need to expose every possible function in\n * the shim. It is not guaranteed that the client actually implements the\n * function.\n *\n * @param method The method to call on the client/client.\n * @param args Arguments to pass to the client/fontend.\n * @hidden\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function _callOnClient(method: string, ...args: any[]): void {\n  callOnHub<void>('_invokeClient', method, ...args);\n}\n\n/**\n * Starts a new `Transaction` and returns it. This is the entry point to manual tracing instrumentation.\n *\n * A tree structure can be built by adding child spans to the transaction, and child spans to other spans. To start a\n * new child span within the transaction or any span, call the respective `.startChild()` method.\n *\n * Every child span must be finished before the transaction is finished, otherwise the unfinished spans are discarded.\n *\n * The transaction must be finished with a call to its `.finish()` method, at which point the transaction with all its\n * finished child spans will be sent to Sentry.\n *\n * @param context Properties of the new `Transaction`.\n * @param customSamplingContext Information given to the transaction sampling function (along with context-dependent\n * default values). See {@link Options.tracesSampler}.\n *\n * @returns The transaction which was just started\n */\nexport function startTransaction(\n  context: TransactionContext,\n  customSamplingContext?: CustomSamplingContext,\n): Transaction {\n  return callOnHub('startTransaction', { ...context }, customSamplingContext);\n}\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @private\n */\nconst PICKER_VERSION = '1.24.1';\n\n/**\n * @private\n */\nexport interface Hosts {\n  [url: string]: string;\n  fileApiUrl: string;\n  uploadApiUrl: string;\n  cloudApiUrl: string;\n  cdnUrl: string;\n  pickerUrl: string;\n  processUrl: string;\n}\n\n/**\n * @private\n */\nexport interface Config {\n  urls: Hosts;\n}\n\nexport const config = {\n  urls: {\n    processUrl: 'https://process.filestackapi.com',\n    fileApiUrl: 'https://www.filestackapi.com/api/file',\n    uploadApiUrl: 'https://upload.filestackapi.com',\n    cloudApiUrl: 'https://cloud.filestackapi.com',\n    cdnUrl: 'https://cdn.filestackcontent.com',\n    pickerUrl: `https://static.filestackapi.com/picker/${PICKER_VERSION}/picker.js`,\n  },\n};\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport enum FilestackErrorType {\n  VALIDATION = 'validation',\n  REQUEST = 'request',\n  ABORTED = 'aborted',\n  OTHER = 'other',\n}\n\nexport class FilestackError extends Error {\n\n  /**\n   * Error details, ie validation errors\n   *\n   * @type {*}\n   * @memberof FilestackError\n   */\n  public readonly details: any;\n  public readonly type: string;\n\n  constructor(message?: string, details?: any, type?: FilestackErrorType) {\n\n    /* istanbul ignore next */\n    super(message);\n    Object.setPrototypeOf(this, FilestackError.prototype);\n    this.details = details;\n    this.type = type;\n  }\n\n}\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const TransformSchema = {\n  '$schema': 'http://json-schema.org/draft-07/schema#',\n  title: 'Filestack Transformations',\n  description: 'Filestack transformations parameters',\n  type: 'object',\n  additionalProperties: false,\n  properties: {\n    flip: {\n      type: 'boolean',\n      additionalProperties: false,\n    },\n    auto_image: {\n      type: 'boolean',\n      additionalProperties: false,\n    },\n    no_metadata: {\n      type: 'boolean',\n      additionalProperties: false,\n    },\n    compress: {\n      additionalProperties: false,\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          metadata: {\n            type: 'boolean',\n            default: false,\n          },\n        },\n      }],\n    },\n    flop: {\n      type: 'boolean',\n      additionalProperties: false,\n    },\n    enhance: {\n      default: true,\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        additionalProperties: false,\n        properties: {\n          preset: {\n            type: 'string',\n            enum: ['auto', 'vivid', 'beautify', 'beautify_plus', 'fix_dark', 'fix_noise', 'fix_tint', 'outdoor', 'fireworks'],\n          },\n        },\n      }],\n    },\n    redeye: {\n      type: 'boolean',\n      additionalProperties: false,\n    },\n    monochrome: {\n      type: 'boolean',\n      additionalProperties: false,\n    },\n    negative: {\n      type: 'boolean',\n      additionalProperties: false,\n    },\n    tags: {\n      type: 'boolean',\n      additionalProperties: false,\n    },\n    sfw: {\n      type: 'boolean',\n      additionalProperties: false,\n    },\n    imagesize: {\n      type: 'boolean',\n      additionalProperties: false,\n    },\n    smart_crop: {\n      width: {\n        type: 'integer',\n        minimum: 0,\n        maximum: 10000,\n      },\n      height: {\n        type: 'integer',\n        minimum: 0,\n        maximum: 10000,\n      },\n      mode: {\n        type: 'string',\n        default: 'auto',\n        enum: ['face', 'auto'],\n      },\n    },\n    animate: {\n      type: 'object',\n      properties: {\n        delay: {\n          type: 'integer',\n          minimum: 0,\n          maximum: 10000,\n          default: 1000,\n        },\n        loop: {\n          type: 'integer',\n          minimum: 0,\n          maximum: 1000,\n          default: 0,\n        },\n        width: {\n          type: 'integer',\n          minimum: 1,\n          maximum: 1800,\n        },\n        height: {\n          type: 'integer',\n          minimum: 1,\n          maximum: 1800,\n        },\n        fit: {\n          type: 'string',\n          default: 'clip',\n          enum: ['clip', 'scale', 'crop'],\n        },\n        background: {\n          '$ref': 'colorDef',\n          default: 'transparent',\n        },\n        align: {\n          '$ref': 'positionDef',\n          default: 'center',\n        },\n      },\n    },\n    metadata: {\n      type: 'object',\n      params: {\n        type: 'array',\n        items: {\n          type: 'string',\n          enum: [\n            'filename',\n            'mimetype',\n            'size',\n            'width',\n            'height',\n            'writeable',\n            'path',\n            'container',\n            'cloud',\n            'exif',\n            'source_url',\n            'md5',\n            'sha256',\n            'sha1',\n            'sha512',\n          ],\n        },\n        minItems: 0,\n        uniqueItems: true,\n        additionalItems: false,\n      },\n      additionalProperties: false,\n    },\n    resize: {\n      type: 'object',\n      properties: {\n        width: {\n          type: 'number',\n          minimum: 0,\n          maximum: 10000,\n        },\n        height: {\n          type: 'number',\n          minimum: 0,\n          maximum: 10000,\n        },\n        fit: {\n          type: 'string',\n          enum: ['clip', 'crop', 'scale' ,'max'],\n          default: 'clip',\n        },\n        align: {\n          '$ref': 'positionDef',\n          default: 'center',\n        },\n      },\n      // required: ['width', 'height'],\n      additionalProperties: false,\n      anyOf: [\n        { required: ['width'] },\n        { required: ['height'] },\n      ],\n    },\n    crop: {\n      type: 'object',\n      properties: {\n        dim: {\n          type: 'array',\n          additionalItems: false,\n          minItems: 4,\n          items: [{\n            type: 'integer',\n            minimum: 0,\n            maximum: 100000,\n          }, {\n            type: 'integer',\n            minimum: 0,\n            maximum: 100000,\n          }, {\n            type: 'integer',\n            minimum: 1,\n            maximum: 100000,\n          }, {\n            type: 'integer',\n            minimum: 1,\n            maximum: 100000,\n          }],\n        },\n      },\n      required: ['dim'],\n    },\n    rotate: {\n      type: 'object',\n      properties: {\n        deg: {\n          oneOf: [{\n            type: 'string',\n            enum: ['exif'],\n          }, {\n            type: 'number',\n            minimum: 0,\n            maximum: 359,\n          }],\n        },\n        exif: {\n          type: 'boolean',\n        },\n        background: {\n          '$ref': 'colorDef',\n          default: 'FFFFFFFF',\n        },\n      },\n      additionalProperties: false,\n    },\n    detect_faces: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          maxsize: {\n            type: 'number',\n            minimum: 0,\n            maximum: 10000,\n            default: 0.35,\n          },\n          minsize: {\n            type: 'number',\n            minimum: 0,\n            maximum: 10000,\n            default: 0.35,\n          },\n          export: {\n            type: 'boolean',\n          },\n          color: {\n            '$ref': 'colorDef',\n            default: '000000FF',\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    crop_faces: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          faces: {\n            default: 1,\n            '$ref': 'facesDef',\n          },\n          width: {\n            type: 'number',\n            minimum: 1,\n            maximum: 10000,\n          },\n          height: {\n            type: 'number',\n            minimum: 1,\n            maximum: 10000,\n          },\n          maxsize: {\n            type: 'number',\n            minimum: 0,\n            maximum: 10000,\n            default: 0.35,\n          },\n          minsize: {\n            type: 'number',\n            minimum: 0,\n            maximum: 10000,\n            default: 0.35,\n          },\n          buffer: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 10000,\n          },\n          mode: {\n            type: 'string',\n            enum: ['crop', 'thumb', 'fill'],\n            default: 'thumb',\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    pixelate_faces: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          faces: {\n            '$ref': 'facesDef',\n            default: 'all',\n          },\n          maxsize: {\n            type: 'number',\n            minimum: 0,\n            maximum: 10000,\n            default: 0.35,\n          },\n          minsize: {\n            type: 'number',\n            minimum: 0,\n            maximum: 10000,\n            default: 0.35,\n          },\n          buffer: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 10000,\n          },\n          amount: {\n            type: 'integer',\n            minimum: 2,\n            maximum: 100,\n            default: 10,\n          },\n          blur: {\n            type: 'number',\n            minimum: 0,\n            maximum: 20,\n            default: 4,\n          },\n          type: {\n            type: 'string',\n            enum: ['rect', 'oval'],\n            default: 'rect',\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    blur_faces: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          faces: {\n            '$ref': 'facesDef',\n            default: 'all',\n          },\n          maxsize: {\n            type: 'number',\n            minimum: 0,\n            maximum: 10000,\n            default: 0.35,\n          },\n          minsize: {\n            type: 'number',\n            minimum: 0,\n            maximum: 10000,\n            default: 0.35,\n          },\n          buffer: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 10000,\n          },\n          amount: {\n            type: 'number',\n            minimum: 0,\n            maximum: 10,\n            default: 10,\n          },\n          blur: {\n            type: 'number',\n            minimum: 0,\n            maximum: 20,\n            default: 4,\n          },\n          type: {\n            type: 'string',\n            enum: ['rect', 'oval'],\n            default: 'rect',\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    rounded_corners: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          radius: {\n            oneOf: [{\n              type: 'integer',\n              minimum: 1,\n              maximum: 10000,\n            }, {\n              type: 'string',\n              enum: ['max'],\n            }],\n          },\n          blur: {\n            type: 'number',\n            minimum: 0,\n            maximum: 20,\n            default: 0.3,\n          },\n          background: {\n            '$ref': 'colorDef',\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    vignette: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          amount: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 100,\n            default: 20,\n          },\n          blurmode: {\n            type: 'string',\n            enum: ['gaussian', 'linear'],\n            default: 'gaussian',\n          },\n          background: {\n            '$ref': 'colorDef',\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    polaroid: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          rotate: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 359,\n          },\n          color: {\n            '$ref': 'colorDef',\n            default: 'snow',\n          },\n          background: {\n            '$ref': 'colorDef',\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    torn_edges: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          spread: {\n            type: 'array',\n            additionalItems: false,\n            minItems: 2,\n            items: [{\n              type: 'integer',\n              minimum: 1,\n              maximum: 10000,\n              default: 1,\n            }, {\n              type: 'integer',\n              minimum: 1,\n              maximum: 10000,\n              default: 10,\n            }],\n          },\n          background: {\n            '$ref': 'colorDef',\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    shadow: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          blur: {\n            type: 'number',\n            minimum: 0,\n            maximum: 20,\n            default: 100,\n          },\n          opacity: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 100,\n            default: 60,\n          },\n          vector: {\n            type: 'array',\n            additionalItems: false,\n            minItems: 2,\n            items: [{\n              type: 'integer',\n              minimum: -1000,\n              maximum: 1000,\n              default: 4,\n            }, {\n              type: 'integer',\n              minimum: -1000,\n              maximum: 1000,\n              default: 4,\n            }],\n          },\n          color: {\n            '$ref': 'colorDef',\n          },\n          background: {\n            '$ref': 'colorDef',\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    circle: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          background: {\n            '$ref': 'colorDef',\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    border: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          color: {\n            '$ref': 'colorDef',\n          },\n          background: {\n            '$ref': 'colorDef',\n          },\n          width: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 1000,\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    sharpen: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          amount: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 20,\n            default: 2,\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    blur: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          amount: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 20,\n            default: 2,\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    blackwhite: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          threshold: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 100,\n            default: 50,\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    sepia: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          tone: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 100,\n            default: 80,\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    pixelate: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          amount: {\n            type: 'integer',\n            minimum: 2,\n            maximum: 100,\n            default: 2,\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    oil_paint: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          amount: {\n            type: 'integer',\n            minimum: 2,\n            maximum: 100,\n            default: 2,\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    modulate: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          brightness: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 10000,\n            default: 100,\n          },\n          saturation: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 10000,\n            default: 100,\n          },\n          hue: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 359,\n            default: 0,\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    ascii: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          foreground: {\n            '$ref': 'colorDef',\n            default: '000000FF',\n          },\n          background: {\n            '$ref': 'colorDef',\n            default: 'FFFFFFFF',\n          },\n          colored: {\n            type: 'boolean',\n            default: false,\n          },\n          size: {\n            type: 'integer',\n            minimum: 10,\n            maximum: 100,\n            default: 100,\n          },\n          reverse: {\n            type: 'boolean',\n            default: false,\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    collage: {\n      type: 'object',\n      properties: {\n        files: {\n          type: 'array',\n          minItems: 1,\n          items: [{\n            type: 'string',\n          }],\n        },\n        margin: {\n          type: 'integer',\n          minimum: 1,\n          maximum: 100,\n          default: 10,\n        },\n        width: {\n          type: 'integer',\n          minimum: 0,\n          maximum: 10000,\n        },\n        height: {\n          type: 'integer',\n          minimum: 0,\n          maximum: 10000,\n        },\n        color: {\n          '$ref': 'colorDef',\n          default: 'FFFFFFFF',\n        },\n        fit: {\n          type: 'string',\n          enum: ['auto', 'crop'],\n        },\n        autorotate: {\n          type: 'boolean',\n          default: false,\n        },\n      },\n      required: ['width', 'height', 'files'],\n      additionalProperties: false,\n    },\n    urlscreenshot: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          agent: {\n            type : 'string',\n            enum: ['desktop', 'mobile'],\n            default: 'desktop',\n          },\n          width: {\n            type: 'integer',\n            minimum: 1,\n            maximum: 1920,\n            default: 1024,\n          },\n          height: {\n            type: 'integer',\n            minimum: 1,\n            maximum: 8000,\n            default: 768,\n          },\n          mode: {\n            type: 'string',\n            enum: ['all', 'window'],\n            default: 'all',\n          },\n          delay: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 20000,\n            default: 1000,\n          },\n          orientation: {\n            type: 'string',\n            enum: ['portrait', 'landscape'],\n            default: 'portrait',\n          },\n          device: {\n            type: 'string',\n            default: '',\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    upscale: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          noise: {\n            type: 'string',\n            enum: ['none', 'low', 'medium', 'high'],\n            default: 'none',\n          },\n          upscale: {\n            type: 'boolean',\n            default: true,\n          },\n          style: {\n            type: 'string',\n            enum: ['artwork', 'photo'],\n            default: 'photo',\n          },\n        },\n        additionalProperties: false,\n      }],\n    },\n    output: {\n      type: 'object',\n      additionalProperties: false,\n      properties: {\n        format: {\n          type: 'string',\n          enum: ['doc', 'docx', 'html', 'jpg', 'odp', 'ods', 'odt', 'pjpg', 'pdf', 'png', 'ppt', 'pptx', 'svg', 'txt', 'webp', 'xls', 'xlsx'],\n        },\n        page: {\n          type: 'integer',\n          minimum: 1,\n          maximum: 99999,\n        },\n        density: {\n          type: 'integer',\n          minimum: 1,\n          maximum: 500,\n        },\n        compress: {\n          type: 'boolean',\n        },\n        quality: {\n          oneOf: [{\n            type: 'string',\n            enum: ['input'],\n          }, {\n            type: 'integer',\n            minimum: 1,\n            maximum: 100,\n            default: 95,\n          }],\n        },\n        secure: {\n          type: 'boolean',\n          default: false,\n        },\n        docinfo: {\n          type: 'boolean',\n          default: false,\n        },\n        strip: {\n          type: 'boolean',\n          default: false,\n        },\n        colorspace: {\n          type: 'string',\n          enum: ['rgb', 'cmyk', 'input'],\n          default: 'rgb',\n        },\n        background: {\n          '$ref': 'colorDef',\n        },\n        pageformat: {\n          type: 'string',\n          enum: ['a2', 'a3', 'a4', 'a5', 'b4', 'b5', 'letter', 'legal', 'tabloid'],\n        },\n        pageorientation: {\n          type: 'string',\n          enum: ['landscape', 'portrait'],\n        },\n      },\n    },\n    pjpg: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        additionalProperties: false,\n        properties: {\n          quality: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 100,\n          },\n          metadata: {\n            type: 'boolean',\n            default: false,\n          },\n        },\n      }],\n    },\n    quality: {\n      type: 'object',\n      additionalProperties: false,\n      properties: {\n        value: {\n          type: 'integer',\n          minimum: 1,\n          maximum: 100,\n        },\n      },\n    },\n    cache: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          expiry: {\n            type: 'integer',\n          },\n        },\n      }],\n    },\n    video_convert: {\n      type: 'object',\n      additionalProperties: false,\n      properties: {\n        width: {\n          type: 'integer',\n          minimum: 1,\n          maximum: 4096,\n        },\n        height: {\n          type: 'integer',\n          minimum: 1,\n          maximum: 4096,\n        },\n        preset: {\n          type: 'string',\n        },\n        force: {\n          type: 'boolean',\n        },\n        title: {\n          type: 'string',\n        },\n        extname: {\n          type: 'string',\n        },\n        upscale: {\n          type: 'boolean',\n        },\n        aspect_mode: {\n          type: 'string',\n          enum: ['letterbox', 'pad', 'crop', 'preserve', 'constrain'],\n          default: 'letterbox',\n        },\n        audio_sample_rate: {\n          type: 'integer',\n          minimum: 1,\n          maximum: 99999,\n        },\n        two_pass: {\n          type: 'boolean',\n        },\n        video_bitrate: {\n          type: 'integer',\n          minimum: 1,\n          maximum: 5000,\n        },\n        fps: {\n          type: 'integer',\n          minimum: 1,\n          maximum: 300,\n        },\n        keyframe_interval: {\n          type: 'integer',\n          minimum: 250,\n          maximum: 250,\n        },\n        audio_bitrate: {\n          type: 'integer',\n          minimum: 1,\n          maximum: 999,\n        },\n        audio_channels: {\n          type: 'integer',\n          minimum: 1,\n          maximum: 12,\n        },\n        clip_length: {\n          type: 'string',\n          pattern: `^([0-1]?\\\\d|2[0-3])(?::([0-5]?\\\\d))?(?::([0-5]?\\\\d))?$`,\n        },\n        clip_offset: {\n          type: 'string',\n          pattern: `^([0-1]?\\\\d|2[0-3])(?::([0-5]?\\\\d))?(?::([0-5]?\\\\d))?$`,\n        },\n        watermark_url: {\n          type: 'string',\n        },\n        watermark_top: {\n          type: 'integer',\n          minimum: 0,\n          maximum: 9999,\n        },\n        watermark_right: {\n          type: 'integer',\n          minimum: 0,\n          maximum: 9999,\n        },\n        watermark_bottom: {\n          type: 'integer',\n          minimum: 0,\n          maximum: 9999,\n        },\n        watermark_left: {\n          type: 'integer',\n          minimum: 0,\n          maximum: 9999,\n        },\n        frame_count: {\n          type: 'integer',\n          minimum: 1,\n          maximum: 1,\n          default: 1,\n        },\n        filename: {\n          type: 'string',\n        },\n        location: {\n          '$ref': 'locationsDef',\n        },\n        path: {\n          type: 'string',\n        },\n        container: {\n          type: 'string',\n        },\n        access: {\n          type: 'string',\n          enum: ['public', 'private'],\n          default: 'public',\n        },\n      },\n    },\n    store: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        additionalProperties: false,\n        properties: {\n          filename: {\n            type: 'string',\n          },\n          location: {\n            '$ref': 'locationsDef',\n          },\n          path: {\n            type: 'string',\n          },\n          container: {\n            type: 'string',\n          },\n          region: {\n            '$ref': 'regionsDef',\n          },\n          access: {\n            type: 'string',\n            enum: ['public', 'private'],\n            default: 'private',\n          },\n          base64decode: {\n            type: 'boolean',\n          },\n          workflows: {\n            '$ref': 'workflowsDef',\n          },\n        },\n      }],\n    },\n    watermark: {\n      type: 'object',\n      properties: {\n        file: {\n          type: 'string',\n        },\n        size: {\n          type: 'number',\n          minimum: 0,\n          maximum: 500,\n        },\n        position: {\n          '$ref': 'positionDef',\n        },\n      },\n      required: [\n        'file',\n      ],\n      additionalProperties: false,\n    },\n    partial_blur: {\n      type: 'object',\n      properties: {\n        objects: {\n          '$ref': 'objectsDef',\n        },\n        amount: {\n          type: 'number',\n          minimum: 0,\n          maximum: 20,\n        },\n        blur: {\n          type: 'number',\n          minimum: 0,\n          maximum: 20,\n        },\n        type: {\n          type: 'string',\n          enum: ['rect', 'oval'],\n        },\n      },\n      required: ['objects'],\n    },\n    partial_pixelate: {\n      type: 'object',\n      properties: {\n        objects: {\n          '$ref': 'objectsDef',\n        },\n        amount: {\n          type: 'number',\n          minimum: 2,\n          maximum: 100,\n        },\n        blur: {\n          type: 'number',\n          minimum: 0,\n          maximum: 20,\n        },\n        type: {\n          type: 'string',\n          enum: ['rect', 'oval'],\n        },\n      },\n      required: ['objects'],\n    },\n    security: {\n      type: 'object',\n      additionalProperties: false,\n      properties: {\n        policy: {\n          type: 'string',\n        },\n        signature: {\n          type: 'string',\n        },\n      },\n      required: ['policy', 'signature'],\n    },\n    pdfinfo: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        properties: {\n          colorinfo: {\n            type: 'boolean',\n          },\n        },\n      }],\n    },\n    pdfconvert: {\n      type: 'object',\n      additionalProperties: false,\n      properties: {\n        pageorientation: {\n          type: 'string',\n          enum: ['portrait', 'landscape'],\n        },\n        pageformat: {\n          '$ref': 'pageFormatDef',\n        },\n        pages: {\n          '$ref': 'pageRangeDef',\n        },\n      },\n      anyOf: [{\n        required: ['pageorientation'],\n      }, {\n        required: ['pageformat'],\n      }, {\n        required: ['pages'],\n      }],\n    },\n    fallback: {\n      type: 'object',\n      additionalProperties: false,\n      properties: {\n        handle: {\n          type: 'string',\n        },\n        cache: {\n          type: 'integer',\n          minimum: 1,\n          maximum: 31536000,\n        },\n      },\n      required: ['handle'],\n    },\n    zip: {\n      type: 'string',\n    },\n    minify_css: {\n      type: 'object',\n      additionalProperties: false,\n      properties: {\n        gzip: {\n          type: 'boolean',\n        },\n        level: {\n          type: 'number',\n          enum: [1, 2],\n        },\n      },\n    },\n    minify_js: {\n      type: 'object',\n      additionalProperties: false,\n      properties: {\n        gzip: {\n          type: 'boolean',\n        },\n        use_babel_polyfill: {\n          type: 'boolean',\n        },\n        keep_fn_name: {\n          type: 'boolean',\n        },\n        keep_class_name: {\n          type: 'boolean',\n        },\n        mangle: {\n          type: 'boolean',\n        },\n        merge_vars: {\n          type: 'boolean',\n        },\n        remove_console: {\n          type: 'boolean',\n        },\n        remove_undefined: {\n          type: 'boolean',\n        },\n        targets: {\n          type: 'string',\n        },\n      },\n    },\n  },\n};\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const DefinitionsSchema = {\n  '$schema': 'http://json-schema.org/draft-07/schema#',\n  title: 'Filestack',\n  description: 'Filestack common definitions',\n  type: 'object',\n  additionalProperties: false,\n  definitions: {\n    workflowsDef: {\n      id: '/workflowsDef',\n      type: 'array',\n      additionalItems: false,\n      minItems: 1,\n      maxItems: 20,\n      items: [{\n        oneOf: [{\n          type: 'string',\n        }, {\n          type: 'object',\n          additionalProperties: false,\n          properties: {\n            id: {\n              type: 'string',\n            },\n          },\n        }],\n      }],\n    },\n    securityCallDef: {\n      id: '/securityCallDef',\n      oneOf: [{\n        additionalProperties: false,\n        type: 'string',\n        enum: ['pick', 'read', 'stat', 'write', 'writeUrl', 'store', 'convert', 'remove', 'exif', 'runWorkflow'],\n      }, {\n        type: 'array',\n        additionalProperties: false,\n        items: [{\n          minItems: 1,\n          maxItems: 10,\n          type: 'string',\n          additionalProperties: false,\n          enum: ['pick', 'read', 'stat', 'write', 'writeUrl', 'store', 'convert', 'remove', 'exif', 'runWorkflow'],\n        }],\n      }],\n    },\n    regionsDef: {\n      id: '/regionsDef',\n      type: 'string',\n      // for now we decided to remove validation of regions (AWS + Rackspace)\n      // pattern: '^[a-zA-Z]{2}-[a-zA-z]{1,}-[1-9]$',\n      // errorMessage: 'AWS Region Param is in invalid format',\n    },\n    locationsDef: {\n      id: '/locationsDef',\n      type: 'string',\n      enum: ['s3', 'S3', 'rackspace', 'gcs', 'azure', 'dropbox'],\n    },\n    colorDef: {\n      id: 'colorDef',\n      oneOf: [{\n        type: 'string',\n        pattern: '^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$', // without # at the begining\n      }, {\n        type: 'string',\n        enum: ['aliceblue', 'antiquewhite', 'aqua', 'aquamarine', 'azure', 'beige', 'bisque', 'black', 'blanchedalmond', 'blue', 'blueviolet', 'brown', 'burlywood', 'cadetblue', 'chartreuse', 'chocolate', 'coral', 'cornflowerblue', 'cornsilk', 'crimson', 'cyan', 'darkblue', 'darkcyan', 'darkgoldenrod', 'darkgray', 'darkgreen', 'darkgrey', 'darkkhaki', 'darkmagenta', 'darkolivegreen', 'darkorange', 'darkorchid', 'darkred', 'darksalmon', 'darkseagreen', 'darkslateblue', 'darkslategray', 'darkslategrey', 'darkturquoise', 'darkviolet', 'deeppink', 'deepskyblue', 'dimgray', 'dimgrey', 'dodgerblue', 'firebrick', 'floralwhite', 'forestgreen', 'fractal', 'fuchsia', 'gainsboro', 'ghostwhite', 'gold', 'goldenrod', 'gray0', 'gray1', 'gray2', 'gray3', 'gray4', 'gray5', 'gray6', 'gray7', 'gray8', 'gray9', 'gray10', 'gray11', 'gray12', 'gray13', 'gray14', 'gray15', 'gray16', 'gray17', 'gray18', 'gray19', 'gray20', 'gray21', 'gray22', 'gray23', 'gray24', 'gray25', 'gray26', 'gray27', 'gray28', 'gray29', 'gray30', 'gray31', 'gray32', 'gray33', 'gray34', 'gray35', 'gray36', 'gray37', 'gray38', 'gray39', 'gray40', 'gray41', 'gray42', 'gray43', 'gray44', 'gray45', 'gray46', 'gray47', 'gray48', 'gray49', 'gray50', 'gray51', 'gray52', 'gray53', 'gray54', 'gray55', 'gray56', 'gray57', 'gray58', 'gray59', 'gray60', 'gray61', 'gray62', 'gray63', 'gray64', 'gray65', 'gray66', 'gray67', 'gray68', 'gray69', 'gray70', 'gray71', 'gray72', 'gray73', 'gray74', 'gray75', 'gray76', 'gray77', 'gray78', 'gray79', 'gray80', 'gray81', 'gray82', 'gray83', 'gray84', 'gray85', 'gray86', 'gray87', 'gray88', 'gray89', 'gray90', 'gray91', 'gray92', 'gray93', 'gray94', 'gray95', 'gray96', 'gray97', 'gray98', 'gray99', 'gray100', 'gray', 'green', 'greenyellow', 'grey', 'honeydew', 'hotpink', 'indianred', 'indigo', 'ivory', 'khaki', 'lavender', 'lavenderblush', 'lawngreen', 'lemonchiffon', 'lightblue', 'lightcoral', 'lightcyan', 'lightgoldenrodyellow', 'lightgray', 'lightgreen', 'lightgrey', 'lightpink', 'lightsalmon', 'lightseagreen', 'lightskyblue', 'lightslategray', 'lightslategrey', 'lightsteelblue', 'lightyellow', 'lime', 'limegreen', 'linen', 'magenta', 'maroon', 'mediumaquamarine', 'mediumblue', 'mediumorchid', 'mediumpurple', 'mediumseagreen', 'mediumslateblue', 'mediumspringgreen', 'mediumturquoise', 'mediumvioletred', 'midnightblue', 'mintcream', 'mistyrose', 'moccasin', 'navajowhite', 'navy', 'none', 'oldlace', 'olive', 'olivedrab', 'orange', 'orangered', 'orchid', 'palegoldenrod', 'palegreen', 'paleturquoise', 'palevioletred', 'papayawhip', 'peachpuff', 'peru', 'pink', 'plum', 'powderblue', 'purple', 'red', 'rosybrown', 'royalblue', 'saddlebrown', 'salmon', 'sandybrown', 'seagreen', 'seashell', 'sienna', 'silver', 'skyblue', 'slateblue', 'slategray', 'slategrey', 'snow', 'springgreen', 'steelblue', 'tan', 'teal', 'thistle', 'tomato', 'turquoise', 'violet', 'wheat', 'white', 'whitesmoke', 'yellow', 'yellowgreen', 'transparent'],\n      }],\n    },\n    pageFormatDef: {\n      id: '/pageFormatDef',\n      type: 'string',\n      enum: ['a2', 'a3', 'a4', 'a5', 'b4', 'b5', 'letter', 'legal', 'tabloid'],\n    },\n    pageRangeDef: {\n      id: '/pageRangeDef',\n      type: 'array',\n      uniqueItems: true,\n      items: [{\n        oneOf: [{\n          type: 'integer',\n          minimum: 1,\n        }, {\n          type: 'string',\n          pattern: '^(\\\\d+(?:-\\\\d+)?)$|^(-\\\\d+)$|^(\\\\d+-)$',\n          errorMessage: 'Param should be provided in one of the following formats: \"1,2,3,5\", \"1-3\", \"1-\", \"-2\" ',\n        }],\n      }],\n    },\n    facesDef: {\n      id: '/facesDef',\n      oneOf: [{\n        type: 'string',\n        enum: ['all'],\n      }, {\n        type: 'integer',\n        minimum: 1,\n        maximum: 1000,\n      }, {\n        type: 'array',\n        uniqueItems: true,\n        items: [{\n          type: 'integer',\n          minimum: 1,\n          maximum: 1000,\n        }],\n      }],\n    },\n    objectsDef: {\n      id: '/objectsDef',\n      type: 'array',\n      minItems: 1,\n      maxItems: 50,\n      items: [{\n        type: 'array',\n        additionalItems: false,\n        minItems: 4,\n        items: [{\n          type: 'integer',\n          minimum: 0,\n          maximum: 10000,\n        }, {\n          type: 'integer',\n          minimum: 0,\n          maximum: 10000,\n        }, {\n          type: 'integer',\n          minimum: 1,\n          maximum: 10000,\n        }, {\n          type: 'integer',\n          minimum: 1,\n          maximum: 10000,\n        }],\n      }],\n    },\n    positionDef: {\n      id: '/positionDef',\n      default: ['middle', 'center'],\n      oneOf: [\n        {\n          type: 'string',\n          enum: [\n            'top',\n            'middle',\n            'bottom',\n            'left',\n            'center',\n            'right',\n            'faces',\n          ],\n        },\n        {\n          type: 'array',\n          uniqueItems: true,\n          additionalItems: false,\n          minItems: 2,\n          maxItems: 2,\n          default: ['middle', 'center'],\n          items: [\n            {\n              type: 'string',\n              enum: [\n                'top',\n                'middle',\n                'bottom',\n              ],\n            }, {\n              type: 'string',\n              enum: [\n                'left',\n                'center',\n                'right',\n              ],\n            },\n          ],\n        },\n      ],\n    },\n  },\n};\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Validator } from 'jsonschema';\nimport { DefinitionsSchema } from './definitions.schema';\n\nconst v = new Validator();\n\nValidator.prototype.customFormats.callback = (input) => typeof input === 'function';\n// check if element have HTML in to string method ie HTMLDivElement\nValidator.prototype.customFormats.HTMLContainer = (input) => typeof input === 'string' || (input.toString && input.toString().indexOf('HTML') > -1);\n\n/**\n * Returns validator instance\n */\nexport const getValidator = (schema) => {\n  return (params) => {\n    v.addSchema(DefinitionsSchema);\n    return v.validate(params, schema);\n  };\n};\n", "/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { config } from './../config';\nimport { TransformSchema } from './../schema/transforms.schema';\nimport { getValidator } from './../schema/validator';\nimport { resolveHost, b64 } from './utils';\nimport { FilestackError, FilestackErrorType } from './../filestack_error';\nimport Debug from 'debug';\n\nconst debug = Debug('fs:filelink');\n\nexport enum Align {\n  left = 'left',\n  right = 'right',\n  center = 'center',\n  bottom = 'bottom',\n  top = 'top',\n  faces = 'faces',\n  middle = 'middle',\n}\n\n/**\n * Align\n */\nexport type AlignOptions = Align | [Align.top | Align.middle | Align.bottom, Align.left | Align.center | Align.right];\n\n/**\n * Fit enum\n */\nexport enum FitOptions {\n  clip = 'clip',\n  crop = 'crop',\n  scale = 'scale',\n  max = 'max',\n}\n\n/**\n * Blur enum\n */\nexport enum BlurMode {\n  linear = 'linear',\n  gaussian = 'gaussian',\n}\n\n/**\n * Shapes enum\n */\nexport enum ShapeType {\n  oval = 'oval',\n  rect = 'rect',\n}\n\n/**\n * Noise type enum\n */\nexport enum NoiseType {\n  none = 'none',\n  low = 'low',\n  medium = 'medium',\n  high = 'high',\n}\n\n/**\n * Style type enum\n */\nexport enum StyleType {\n  artwork = 'artwork',\n  photo = 'photo',\n}\n\n/**\n * Color space enum\n */\nexport enum ColorspaceType {\n  RGB = 'RGB',\n  CMYK = 'CMYK',\n  Input = 'Input',\n}\n\n/**\n * Crop faces options enum\n */\nexport enum CropfacesType {\n  thumb = 'thumb',\n  crop = 'crop',\n  fill = 'fill',\n}\n\n/**\n * Watermark postion options enum\n */\nexport enum ImageWatermarkPosition {\n  top = 'top',\n  middle = 'middle',\n  bottom = 'bottom',\n  left = 'left',\n  center = 'center',\n  right = 'right',\n}\n\n/**\n * SmartCrop options enum\n */\nexport enum SmartCropMode {\n  face = 'face',\n  auto = 'auto',\n}\n\n/**\n * Convert to format\n */\nexport enum VideoTypes {\n  h264 = 'h264',\n  h264_hi = 'h264.hi',\n  webm = 'webm',\n  'webm-hi' = 'webm.hi',\n  ogg = 'ogg',\n  'ogg-hi' = 'ogg.hi',\n  'hls-variant' = 'hls.variant',\n  mp3 = 'mp3',\n  oga = 'oga',\n  m4a = 'm4a',\n  aac = 'aac',\n  hls = 'hls.variant.audio',\n}\n\nexport enum URLScreenshotAgent {\n  desktop = 'desktop',\n  mobile = 'mobile',\n}\n\nexport enum URLScreenshotMode {\n  all = 'all',\n  window = 'window',\n}\n\nexport enum URLScreenshotOrientation {\n  portrait = 'portrait',\n  landscape = 'landscape',\n}\n\n/**\n * Video storage location\n */\nexport enum Locations {\n  s3 = 's3',\n  azure = 'azure',\n  gcs = 'gcs',\n  rackspace = 'rackspace',\n  dropbox = 'dropbox',\n}\n\nexport enum VideoAccess {\n  private = 'private',\n  public = 'public',\n}\n\nexport enum VideoAccessMode {\n  preserve = 'preserve',\n  constrain = 'constrain',\n  letterbox = 'letterbox',\n  pad = 'pad',\n  crop = 'crop',\n}\n\nexport interface StoreBaseParams {\n  location?: string;\n  path?: string;\n  container?: string;\n  region?: string;\n  access?: string;\n  disableStorageKey?: boolean;\n}\n\n/**\n * Available options for store transformations\n *\n * @export\n * @interface StoreParams\n */\nexport type StoreParams = StoreBaseParams & {\n  filename?: string;\n  base64decode?: boolean;\n};\n\nexport interface AnimationParams {\n  delay?: number;\n  loop?: number;\n  width?: number;\n  height?: number;\n  fit?: FitOptions;\n  align?: AlignOptions;\n  background?: string;\n}\n\nexport interface ResizeParams {\n  width?: number;\n  height?: number;\n  fit?: FitOptions;\n  align?: AlignOptions;\n}\n\nexport interface CropParams {\n  dim: [number, number, number, number];\n}\n\nexport interface RotateParams {\n  deg: number | string;\n  color?: string;\n  background?: string;\n}\n\nexport interface DetectFacesParams {\n  minsize?: number;\n  maxsize?: number;\n  color?: string;\n  export?: boolean;\n}\n\nexport interface CropFacesParams {\n  mode?: CropfacesType;\n  width?: number;\n  height?: number;\n  faces?: number | string;\n  buffer?: number;\n}\n\nexport interface PixelateFacesParams {\n  faces?: number | string;\n  minsize?: number;\n  maxsize?: number;\n  buffer?: number;\n  amount?: number;\n  blur?: number;\n  type?: ShapeType;\n}\n\nexport interface BlurFacesParams {\n  faces?: number | string;\n  minsize?: number;\n  maxsize?: number;\n  buffer?: number;\n  amount?: number;\n  blur?: number;\n  type?: ShapeType;\n}\n\nexport interface RoundedCornersParams {\n  radius?: number;\n  blur?: number;\n  background?: string;\n}\n\nexport interface VignetteParams {\n  amount?: number;\n  blurmode?: BlurMode;\n  background?: string;\n}\n\nexport interface PolaroidParams {\n  color?: string;\n  rotate?: number;\n  background?: string;\n}\n\nexport interface TornEdgesParams {\n  spread?: [number, number];\n  background?: string;\n}\n\nexport interface ShadowParams {\n  blur?: number;\n  opacity?: number;\n  vector?: [number, number];\n  color?: string;\n  background?: string;\n}\n\nexport interface CircleParams {\n  background?: string;\n}\n\nexport interface BorderParams {\n  width?: number;\n  color?: string;\n  background?: string;\n}\n\nexport interface CompressParams {\n  metadata?: boolean;\n}\n\nexport interface WatermarkParams {\n  file: string;\n  size?: number;\n  position?: ImageWatermarkPosition | ImageWatermarkPosition[];\n}\n\nexport interface ProgressiveJpgParams {\n  quality: number;\n  metadata: boolean;\n}\n\nexport interface SmartCropParams {\n  mode: SmartCropMode;\n  width: number;\n  height: number;\n}\n\nexport interface SharpenParams {\n  amount: number;\n}\n\nexport interface BlurParams {\n  amount: number;\n}\n\nexport interface BlackwhiteParams {\n  threshold: number;\n}\n\nexport interface SepiaParams {\n  tone: number;\n}\n\nexport interface PixelateParams {\n  amount: number;\n}\n\nexport interface OilPaintParams {\n  amount: number;\n}\n\nexport interface ModulateParams {\n  brightness?: number;\n  hue?: number;\n  saturation?: number;\n}\n\nexport interface PartialPixelateParams {\n  amount?: number;\n  blur?: number;\n  type?: ShapeType;\n  objects?: [[number, number, number, number]];\n}\n\nexport interface PartialBlurParams {\n  amount: number;\n  blur?: number;\n  type?: ShapeType;\n  objects?: [[number, number, number, number]];\n}\n\nexport interface CollageParams {\n  margin?: number;\n  width?: number;\n  height?: number;\n  color?: string;\n  fit?: FitOptions;\n  files: [string];\n}\n\nexport interface UpscaleParams {\n  upscale?: boolean;\n  noise?: NoiseType;\n  style?: StyleType;\n}\n\nexport interface AsciiParams {\n  background?: string;\n  foreground?: string;\n  colored?: boolean;\n  size?: number;\n  reverse?: boolean;\n}\n\nexport interface QualityParams {\n  value: number;\n}\n\nexport interface SecurityParams {\n  policy: string;\n  signature?: string;\n}\n\nexport interface OutputParams {\n  format: string;\n  colorspace?: string;\n  strip?: boolean;\n  quality?: number;\n  page?: number;\n  compress?: boolean;\n  density?: number;\n  background?: string;\n  secure?: boolean;\n  docinfo?: boolean;\n  pageformat?: string;\n  pageorientation?: string;\n}\n\nexport interface CacheParams {\n  cache?: boolean;\n  expiry: number;\n}\n\nexport interface VideoConvertParams {\n  aspect_mode: VideoAccessMode;\n  preset?: VideoTypes;\n  force?: boolean;\n  title?: string;\n  extname?: string;\n  filename?: string;\n  location?: Locations;\n  path?: string;\n  access?: VideoAccess;\n  container?: string;\n  audio_bitrate?: number;\n  upscale: boolean;\n  video_bitrate?: number;\n  audio_sample_rate?: number;\n  audio_channels?: number;\n  clip_length?: string;\n  clip_offset?: string;\n  width?: number;\n  height?: number;\n  two_pass?: boolean;\n  fps?: number;\n  keyframe_interval?: number;\n  watermark_url?: string;\n  watermark_top?: number;\n  watermark_bottom?: number;\n  watermark_right?: number;\n  watermark_left?: number;\n  watermark_width?: number;\n  watermark_height?: number;\n}\n\nexport interface URLScreenshotParams {\n  agent?: URLScreenshotAgent;\n  width?: number;\n  height?: number;\n  mode?: URLScreenshotMode;\n  delay?: number;\n  orientation?: URLScreenshotOrientation;\n  device?: string;\n}\n\nexport enum EnhancePreset {\n  auto = 'auto',\n  vivid = 'vivid',\n  beautify = 'beautify',\n  beautifyPlus = 'beautify_plus',\n  fixDark = 'fix_dark',\n  fixNoise = 'fix_noise',\n  fixTint = 'fix_tint',\n  outdor = 'outdoor',\n  fireworks = 'fireworks',\n}\nexport interface EnhanceParams {\n  preset?: EnhancePreset;\n}\n\nexport interface PdfInfoParams {\n  colorinfo?: boolean;\n}\n\nexport interface PdfConvertParams {\n  pageorientation?: string;\n  pageformat?: string;\n  pages?: (string | number)[];\n}\n\nexport interface FallbackParams {\n  handle: string;\n  cache?: number;\n}\n\nexport interface MinifyCssParams {\n  gzip?: boolean;\n  level?: number;\n}\n\nexport interface MinifyJsParams {\n  gzip?: boolean;\n  use_babel_polyfill?: boolean;\n  keep_fn_name?: boolean;\n  keep_class_name?: boolean;\n  mangle?: boolean;\n  merge_vars?: boolean;\n  remove_console?: boolean;\n  remove_undefined?: boolean;\n  targets?: null | string;\n}\n\nconst handleRegexp = /^[\\w\\-]{20}|wf:\\/\\/[\\w\\-\\/]{106}$/;\n\n/**\n * Class for handling filelinks. For now its supports all filestack transforms.\n * It outputs transform url or array of transforms\n * @example\n * const link = new Filelink('handle or externalUrl', 'apikey');\n * link.flip().flop().store();\n *\n * console.log(link.toString());\n * // enable base64 support\n * link.setBase64(true)\n *\n * console.log(link.toString());\n *\n * @export\n * @class Filelink\n */\nexport class Filelink {\n  /**\n   * Validator instance\n   *\n   * @private\n   * @memberof Filelink\n   */\n  private static validator = getValidator(TransformSchema);\n\n  /**\n   * Applied transforms array\n   *\n   * @private\n   * @memberof Filelink\n   */\n  private transforms = [];\n\n  /**\n   * Handle or multiple handles in array\n   *\n   * @private\n   * @memberof Filelink\n   */\n  private source: string | string[];\n\n  /**\n   * Application key\n   *\n   * @private\n   * @type {string}\n   * @memberof Filelink\n   */\n  private apikey: string;\n\n  /**\n   * Is base64 support is enabled\n   *\n   * @private\n   * @type {boolean}\n   * @memberof Filelink\n   */\n  private b64: boolean = false;\n\n  /**\n   * should use a validator to check params of every task\n   * @private\n   * @type {boolean}\n   * @memberof Filelink\n   */\n  private useValidator: boolean = true;\n\n  /**\n   * Custom CNAME\n   *\n   * @private\n   * @type {string}\n   * @memberof Filelink\n   */\n  private cname: string;\n\n  /**\n   * Overwrite domain (test purposes)\n   *\n   * @private\n   * @type {string}\n   * @memberof Filelink\n   */\n  private customDomain: string;\n\n  /**\n   * Class for generating tranformation urls\n   * @param {(string | string[])} source - handle or multiple handles (i.e. for collage)\n   * @param {string} [apikey] - your apikey - required for all external sources\n   *\n   * @memberof Filelink\n   */\n  constructor(source: string | string[], apikey?: string) {\n    this.apikey = apikey;\n    this.setSource(source);\n  }\n\n  /**\n   * Enable new base64 link support to avoid problems with special chars in link\n   *\n   * @param {boolean} flag\n   * @returns\n   * @memberof Filelink\n   */\n  setBase64(flag: boolean) {\n    this.b64 = flag;\n    return this;\n  }\n\n  /**\n   * Switch the useValidator flag\n   *\n   * @param {boolean} flag\n   * @returns\n   * @memberof Filelink\n   */\n  setUseValidator(flag: boolean) {\n    this.useValidator = flag;\n    return this;\n  }\n\n  /**\n   * Set cname for transformation link\n   *\n   * @param {string} cname\n   * @returns\n   * @memberof Filelink\n   */\n  setCname(cname: string) {\n    this.cname = cname;\n    return this;\n  }\n\n  /**\n   * Set custom domain. Used for test purpose. It will be removed when after client.transform\n   *\n   * @param {string} domain\n   * @returns\n   * @memberof Filelink\n   */\n  setCustomDomain(domain: string) {\n    this.customDomain = domain;\n    return this;\n  }\n\n  setSource(source: string | string[]) {\n    this.source = source;\n\n    const isExternal = this.isSourceExternal();\n\n    debug(`Source ${source} - isExternal? ${isExternal}`);\n\n    if (isExternal && !this.apikey) {\n      throw new FilestackError('External sources requires apikey to handle transforms');\n    }\n\n    if (!isExternal && typeof this.source === 'string' && !handleRegexp.test(this.source) && this.source.indexOf('filestackcontent') === -1) {\n      throw new FilestackError('Invalid filestack source provided');\n    }\n  }\n\n  /**\n   * Returns JSONSchema form transformations params\n   *\n   * @returns\n   * @memberof Filelink\n   */\n  getValidationSchema() {\n    return TransformSchema;\n  }\n\n  /**\n   * Returns transformations in JSON format\n   *\n   * @returns\n   * @memberof Filelink\n   */\n  getTransformations() {\n    if (this.useValidator) {\n      this.validateTasks(this.transforms);\n    }\n    return this.transforms;\n  }\n\n  /**\n   * Returns transform url\n   *\n   * @returns\n   * @memberof Filelink\n   */\n  toString() {\n    const returnUrl = [];\n    returnUrl.push(this.getCdnHost());\n\n    if (this.useValidator) {\n      this.validateTasks(this.transforms);\n    }\n\n    if (this.apikey) {\n      returnUrl.push(this.apikey);\n    }\n\n    let transformsString = this.generateTransformString();\n\n    let source = this.source;\n\n    if (this.b64) {\n      if (this.transforms.length > 0) {\n        transformsString = `b64/${b64(JSON.stringify(this.transforms), true)}`;\n      }\n\n      if (Array.isArray(source)) {\n        source = this.arrayToString(source);\n      }\n\n      source = `b64://${b64(source, true)}`;\n    } else {\n      if (Array.isArray(source)) {\n        source = this.arrayToString(source);\n      } else {\n        source = this.escapeValue(source);\n      }\n    }\n\n    if (transformsString.length) {\n      returnUrl.push(transformsString);\n    }\n\n    returnUrl.push(source);\n    return returnUrl.join('/');\n  }\n\n  /**\n   * Add task and validate\n   *\n   * @param {string} name\n   * @param {*} [params]\n   * @returns\n   * @memberof Filelink\n   */\n  addTask(name: string, params?) {\n    Debug(`Add task  ${name} with params %O`, params);\n\n    if (name !== 'cache' && typeof params === 'boolean') {\n      if (!params) {\n        return this;\n      } else {\n        params = undefined;\n      }\n    } else if (typeof params === 'object' && !Object.keys(params).length) {\n      params = undefined;\n    }\n\n    this.transforms.push({ name, params });\n    return this;\n  }\n\n  /**\n   * Returns all tasks added for transformation\n   *\n   * @memberof Filelink\n   */\n  getTasks() {\n    return this.transforms;\n  }\n\n  /**\n   * Cleanup transformations on filelink\n   *\n   * @returns\n   * @memberof Filelink\n   */\n  reset() {\n    this.transforms = [];\n    return this;\n  }\n\n  /**\n   * Transformations part\n   */\n\n  /**\n   * Add autoimage transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#auto-image-conversion\n   * @returns this\n   * @memberof Filelink\n   */\n  autoImage() {\n    return this.addTask('auto_image', true);\n  }\n\n  /**\n   * Adds flip transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#flip\n   * @returns this\n   * @memberof Filelink\n   */\n  flip() {\n    return this.addTask('flip', true);\n  }\n\n  /**\n   * Adds flop transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#flop\n   * @returns this\n   * @memberof Filelink\n   */\n  flop() {\n    return this.addTask('flop', true);\n  }\n\n  /**\n   * Adds imagesize transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#image-size\n   * @returns this\n   * @memberof Filelink\n   */\n  imagesize() {\n    return this.addTask('imagesize', true);\n  }\n\n  /**\n   * Adds noMetadata transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#strip-metadata\n   * @returns this\n   * @memberof Filelink\n   */\n  noMetadata() {\n    return this.addTask('no_metadata', true);\n  }\n\n  /**\n   * Adds Progressive JPEG transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#progressive-jpeg\n   * @returns this\n   * @memberof Filelink\n   */\n  pjpg(params: ProgressiveJpgParams) {\n    return this.addTask('pjpg', params);\n  }\n\n  /**\n   * Adds imagesize transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#smart-crop\n   * @returns this\n   * @memberof Filelink\n   */\n  smartCrop(params: SmartCropParams) {\n    return this.addTask('smart_crop', params);\n  }\n\n  /**\n   * Adds watermart transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#watermark\n   * @returns this\n   * @memberof Filelink\n   */\n  watermark(params: WatermarkParams) {\n    return this.addTask('watermark', params);\n  }\n\n  /**\n   * Adds enhance transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#enhance\n   * @returns this\n   * @memberof Filelink\n   */\n  enhance(params?: EnhanceParams) {\n    return this.addTask('enhance', params || true);\n  }\n\n  /**\n   * Add security to link\n   *\n   * @see https://www.filestack.com/docs/api/processing/#redeye\n   * @returns\n   * @memberof Filelink\n   */\n  redeye() {\n    return this.addTask('redeye', true);\n  }\n\n  /**\n   * Add monochrome transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#monochrome\n   * @returns this\n   * @memberof Filelink\n   */\n  monochrome() {\n    return this.addTask('monochrome', true);\n  }\n\n  /**\n   * Add compress transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#compress\n   * @returns this\n   * @memberof Filelink\n   */\n  compress(params?: CompressParams) {\n    return this.addTask('compress', params || true);\n  }\n\n  /**\n   * Adds negative transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#negative\n   * @returns this\n   * @memberof Filelink\n   */\n  negative() {\n    return this.addTask('negative', true);\n  }\n\n  /**\n   * Adds tags transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#tags\n   * @returns this\n   * @memberof Filelink\n   */\n  tags() {\n    return this.addTask('tags', true);\n  }\n\n  /**\n   * Adds sfw transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#sfw\n   * @returns this\n   * @memberof Filelink\n   */\n  sfw() {\n    return this.addTask('sfw', true);\n  }\n\n  /**\n   * Add animate transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#animate-images-to-gif\n   * @param params\n   * @returns this\n   * @memberof Filelink\n   */\n  animate(params: AnimationParams) {\n    return this.addTask('animate', params);\n  }\n\n  /**\n   * Adds store transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#store\n   * @param {(StoreParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  store(params?: StoreParams | boolean) {\n    return this.addTask('store', params);\n  }\n\n  /**\n   * Adds cache transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#cache\n   * @param {(CacheParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  cache(params: CacheParams | boolean) {\n    return this.addTask('cache', params);\n  }\n\n  /**\n   * Adds resize transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#resize\n   * @param {ResizeParams} params\n   * @returns this\n   * @memberof Filelink\n   */\n  resize(params: ResizeParams) {\n    return this.addTask('resize', params);\n  }\n\n  /**\n   * Adds crop transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#crop\n   * @param {CropParams} params\n   * @returns this\n   * @memberof Filelink\n   */\n  crop(params: CropParams) {\n    return this.addTask('crop', params);\n  }\n\n  /**\n   * Adds rotate transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#rotate\n   * @param {RotateParams} params\n   * @returns this\n   * @memberof Filelink\n   */\n  rotate(params: RotateParams) {\n    return this.addTask('rotate', params);\n  }\n\n  /**\n   * Adds detect_faces transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#facial-detection\n   * @param {(DetectFacesParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  detectFaces(params?: DetectFacesParams | boolean) {\n    return this.addTask('detect_faces', params);\n  }\n\n  /**\n   * Adds crop faces transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#crop-faces\n   * @param {CropFacesParams} params\n   * @returns this\n   * @memberof Filelink\n   */\n  cropFaces(params: CropFacesParams) {\n    return this.addTask('crop_faces', params);\n  }\n\n  /**\n   * Adds pixelate faces transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#pixelate-faces\n   * @param {PixelateFacesParams} params\n   * @returns this\n   * @memberof Filelink\n   */\n  pixelateFaces(params: PixelateFacesParams) {\n    return this.addTask('pixelate_faces', params);\n  }\n\n  /**\n   * Adds blur faces transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#blur-faces\n   * @param {BlurFacesParams} params\n   * @returns this\n   * @memberof Filelink\n   */\n  blurFaces(params: BlurFacesParams) {\n    return this.addTask('blur_faces', params);\n  }\n\n  /**\n   * Adds rounded corners transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#rounded-corners\n   * @param {(RoundedCornersParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  roundedCorners(params?: RoundedCornersParams | boolean) {\n    return this.addTask('rounded_corners', params);\n  }\n\n  /**\n   * Adds polaroid transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#polaroid\n   * @param {(PolaroidParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  polaroid(params?: PolaroidParams | boolean) {\n    return this.addTask('polaroid', params);\n  }\n\n  /**\n   * Adds vignette transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#vignette\n   * @param {(VignetteParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  vignette(params?: VignetteParams | boolean) {\n    return this.addTask('vignette', params);\n  }\n\n  /**\n   * Adds torn edges transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#torn-edges\n   * @param {(TornEdgesParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  tornEdges(params?: TornEdgesParams | boolean) {\n    return this.addTask('torn_edges', params);\n  }\n\n  /**\n   * Adds shadow transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#shadow\n   * @param {(ShadowParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  shadow(params?: ShadowParams | boolean) {\n    return this.addTask('shadow', params);\n  }\n\n  /**\n   * Adds circle transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#circle\n   * @param {(CircleParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  circle(params?: CircleParams | boolean) {\n    return this.addTask('circle', params);\n  }\n\n  /**\n   * Adds border transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#border\n   * @param {(BorderParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  border(params?: BorderParams | boolean) {\n    return this.addTask('border', params);\n  }\n\n  /**\n   * Adds sharpen transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#sharpen\n   * @param {(SharpenParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  sharpen(params?: SharpenParams | boolean) {\n    return this.addTask('sharpen', params);\n  }\n\n  /**\n   * Adds blur transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#blur\n   * @param {(BlurParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  blur(params?: BlurParams | boolean) {\n    return this.addTask('blur', params);\n  }\n\n  /**\n   * Adds blackwhite transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#blackwhite\n   * @param {(BlackwhiteParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  blackwhite(params?: BlackwhiteParams | boolean) {\n    return this.addTask('blackwhite', params);\n  }\n\n  /**\n   * Adds sepia transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#sepia\n   * @param {(SepiaParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  sepia(params?: SepiaParams | boolean) {\n    return this.addTask('sepia', params);\n  }\n\n  /**\n   * Adds pixelate transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#pixelate\n   * @param {(PixelateParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  pixelate(params?: PixelateParams | boolean) {\n    return this.addTask('pixelate', params);\n  }\n\n  /**\n   * Adds oilpaint transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#oil-paint\n   * @param {(OilPaintParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  oilPaint(params?: OilPaintParams | boolean) {\n    return this.addTask('oil_paint', params);\n  }\n\n  /**\n   * Adds modulate transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#modulate\n   * @param {(ModulateParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  modulate(params?: ModulateParams | boolean) {\n    return this.addTask('modulate', params);\n  }\n\n  /**\n   * Adds partial pixelate transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#partial-pixelate\n   * @param {PartialPixelateParams} params\n   * @returns this\n   * @memberof Filelink\n   */\n  partialPixelate(params: PartialPixelateParams) {\n    return this.addTask('partial_pixelate', params);\n  }\n\n  /**\n   * Adds partial blur transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#partial-blur\n   * @param {PartialBlurParams} params\n   * @returns this\n   * @memberof Filelink\n   */\n  partialBlur(params: PartialBlurParams) {\n    return this.addTask('partial_blur', params);\n  }\n\n  /**\n   * Adds collage transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#collage\n   * @param {CollageParams} params\n   * @returns this\n   * @memberof Filelink\n   */\n  collage(params: CollageParams) {\n    return this.addTask('collage', params);\n  }\n\n  /**\n   * Adds upscale transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#upscale\n   * @param {(UpscaleParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  upscale(params?: UpscaleParams | boolean) {\n    return this.addTask('upscale', params);\n  }\n\n  /**\n   * Adds ascii transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#ascii\n   * @param {(AsciiParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  ascii(params?: AsciiParams | boolean) {\n    return this.addTask('ascii', params);\n  }\n\n  /**\n   * Adds quality transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#quality\n   * @param {QualityParams} params\n   * @returns this\n   * @memberof Filelink\n   */\n  quality(params: QualityParams) {\n    return this.addTask('quality', params);\n  }\n\n  /**\n   * Adds security transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#security\n   * @param {SecurityParams} params\n   * @returns this\n   * @memberof Filelink\n   */\n  security(params: SecurityParams) {\n    return this.addTask('security', params);\n  }\n\n  /**\n   * Adds output transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#output\n   * @param {OutputParams} params\n   * @returns this\n   * @memberof Filelink\n   */\n  output(params: OutputParams) {\n    return this.addTask('output', params);\n  }\n\n  /**\n   * Adds video convert transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#video-convert\n   * @param {VideoConvertParams} params\n   * @returns this\n   * @memberof Filelink\n   */\n  videoConvert(params: VideoConvertParams) {\n    return this.addTask('video_convert', params);\n  }\n\n  /**\n   * Adds URLScreenshot transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#urlscreenshot\n   * @param {(URLScreenshotParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  URLScreenshot(params?: URLScreenshotParams | boolean) {\n    return this.addTask('urlscreenshot', params);\n  }\n\n  /**\n   * Adds pdfinfo transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#pdfinfo\n   * @param {(PdfInfoParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  PDFInfo(params?: PdfInfoParams | boolean) {\n    return this.addTask('pdfinfo', params);\n  }\n\n  /**\n   * Adds pdfconvert transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#pdfconvert\n   * @param {(PdfConvertParams | boolean)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  PDFConvert(params?: PdfConvertParams | boolean) {\n    return this.addTask('pdfconvert', params);\n  }\n\n  /**\n   * Adds fallback transformation\n   *\n   * @see https://www.filestack.com/docs/api/processing/#fallback\n   * @param {(FallbackParams)} params\n   * @returns this\n   * @memberof Filelink\n   */\n  fallback(params: FallbackParams) {\n    return this.addTask('fallback', params);\n  }\n\n  /**\n   * Add zip transformation which create a zip package on files\n   * used on actual context\n   *\n   * @see https://www.filestack.com/docs/api/processing/#zip\n   * @returns this\n   * @memberof Filelink\n   */\n  zip() {\n    return this.addTask('zip', true);\n  }\n\n  /**\n   * Add task which minify a css file\n   *\n   * @returns this\n   * @memberof Filelink\n   */\n  minifyCss(params: MinifyCssParams) {\n    return this.addTask('minify_css', params);\n  }\n\n  /**\n   * Add task which minify a javascript file.\n   * For better handling of 'targets' param, use with b64 flag enabled.\n   *\n   * @returns this\n   * @memberof Filelink\n   */\n  minifyJs(params: MinifyJsParams) {\n    return this.addTask('minify_js', params);\n  }\n\n  /**\n   * Checks if source is external\n   *\n   * @private\n   * @returns {boolean}\n   * @memberof Filelink\n   */\n  private isSourceExternal(): boolean {\n    if (!this.source) {\n      throw new FilestackError('Source not Set');\n    }\n\n    let toTest = Array.isArray(this.source) ? this.source : [this.source];\n    for (let i in toTest) {\n      /* istanbul ignore next */\n      if (!toTest.hasOwnProperty(i)) {\n        continue;\n      }\n\n      if (toTest[i].indexOf('src:') === 0 || (toTest[i].indexOf('http') === 0 && toTest[i].indexOf('filestackcontent') === -1)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Validate every task against schema\n   *\n   * @private\n   * @param {object[]} transformations - object which contain all transformations\n   * @returns {void}\n   * @memberof Filelink\n   */\n  private validateTasks(transformations: object[]): void {\n    const res = Filelink.validator(this.arrayToObject(transformations, 'name', 'params'));\n    if (res.errors.length) {\n      throw new FilestackError(`Params validation error`, res.errors, FilestackErrorType.VALIDATION);\n    }\n\n    return;\n  }\n\n  /**\n   * Returns correct cdn url with cname support\n   *\n   * @private\n   * @returns {string}\n   * @memberof Filelink\n   */\n  private getCdnHost(): string {\n    let urls = Object.assign({}, config.urls);\n\n    if (this.customDomain) {\n      urls.cdnUrl = this.customDomain;\n    }\n\n    urls = resolveHost(urls, this.cname);\n\n    return urls.cdnUrl;\n  }\n\n  /**\n   * Returns applied transformations as string\n   *\n   * @private\n   * @returns {string}\n   * @memberof Filelink\n   */\n  private generateTransformString(): string {\n    let transforms = [];\n\n    this.transforms.forEach(el => {\n      transforms.push(this.optionToString(el.name, el.params));\n    });\n\n    return transforms.join('/');\n  }\n\n  /**\n   * Flatten transformation option to string\n   *\n   * @private\n   * @example {resize:{width: 100,height: 200}} => resize=width:100,height:200\n   * @param key - option key\n   * @param values - option params\n   */\n  private optionToString(key: string, values: any): string {\n    let optionsString: string[] = [];\n    if (typeof values === 'undefined') {\n      return key;\n    }\n\n    // if we just want to enable feature\n    if (typeof values === 'boolean') {\n      if (!values && key === 'cache') {\n        return 'cache=false';\n      }\n\n      return key;\n    }\n\n    Object.keys(values).forEach(i => {\n      if (Array.isArray(values[i])) {\n        optionsString.push(`${i}:${this.arrayToString(values[i])}`);\n        return;\n      }\n\n      optionsString.push(`${i}:${this.escapeValue(values[i])}`);\n    });\n\n    return `${key}=${optionsString.join(',')}`;\n  }\n\n  /**\n   * Escape params values\n   *\n   * @private\n   * @param {string} value\n   * @returns {string}\n   * @memberof Filelink\n   */\n  private escapeValue(value: string): string {\n    if (typeof value !== 'string') {\n      return value;\n    }\n\n    if (value.indexOf('/') > -1 || value.indexOf(',') > -1) {\n      return `\"${value}\"`;\n    }\n\n    return value;\n  }\n\n  /**\n   * Converts nested arrays to string\n   *\n   * @private\n   * @example [1,2, [2,3]] => \"[1,2, [2,3]]\"\n   * @param arr - any array\n   */\n  private arrayToString(arr: any[]): string {\n    const toReturn = arr.map(el => {\n      if (Array.isArray(el)) {\n        return this.arrayToString(el);\n      }\n\n      return this.escapeValue(el);\n    });\n\n    return `[${toReturn}]`;\n  }\n\n  /**\n   * Converts array of objects to object\n   *\n   * @private\n   * @example [{name: 'resize', params: {height: 125}}] => {resize: {height: 125}}\n   * @param arr - any array\n   */\n  private arrayToObject = (array: object[] = [], nameKey: string, dataKey: string) => {\n    return array.reduce((obj, item) => {\n      obj[item[nameKey]] = item[dataKey];\n      return obj;\n    }, {});\n  }\n}\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const StoreParamsSchema = {\n  '$schema': 'http://json-schema.org/draft-07/schema#',\n  title: 'Filestack Store',\n  description: 'Filestack Store Options',\n  type: 'object',\n  additionalProperties: false,\n  properties: {\n    filename: {\n      oneOf: [{\n        type: 'string',\n      }, {\n        format: 'callback',\n      }],\n    },\n    location: {\n      '$ref': 'locationsDef',\n    },\n    path: {\n      type: 'string',\n    },\n    container: {\n      type: 'string',\n    },\n    region: {\n      '$ref': 'regionsDef',\n    },\n    access: {\n      type: 'string',\n      enum: ['public', 'private'],\n      default: 'private',\n    },\n    base64decode: {\n      type: 'boolean',\n    },\n    workflows: {\n      '$ref': 'workflowsDef',\n    },\n    disableStorageKey: {\n      type: 'boolean',\n    },\n    tags: {\n      type: 'object',\n      additionalProperties: {\n        type: 'string',\n      },\n    },\n    sanitizer: {\n      oneOf: [{\n        type: 'boolean',\n      }, {\n        type: 'object',\n        additionalProperties: false,\n        properties: {\n          exclude: {\n            type: 'array',\n            items: [{\n              type: 'string',\n            }],\n          },\n          replacement: {\n            type: 'string',\n          },\n        },\n      }],\n    },\n  },\n};\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const PreviewParamsSchema = {\n  '$schema': 'http://json-schema.org/draft-07/schema#',\n  title: 'Filestack Preview',\n  description: 'Filestack Preview Options',\n  type: 'object',\n  additionalProperties: false,\n  properties: {\n    id: {\n      type: 'string',\n    },\n    css: {\n      type: 'string',\n    },\n  },\n};\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const UploadParamsSchema = {\n  $schema: 'http://json-schema.org/draft-07/schema#',\n  title: 'Filestack Upload',\n  description: 'Filestack Upload Options',\n  type: 'object',\n  additionalProperties: false,\n  properties: {\n    partSize: {\n      type: 'integer',\n      minimum: 5 * 1024 * 1024,\n    },\n    concurrency: {\n      type: 'integer',\n      minimum: 1,\n      maximum: 20,\n    },\n    progressInterval: {\n      type: 'integer',\n      minimum: 1,\n    },\n    retry: {\n      type: 'integer',\n      minimum: 0,\n      maximum: 20,\n    },\n    retryFactor: {\n      type: 'integer',\n    },\n    retryMaxTime: {\n      type: 'integer',\n    },\n    timeout: {\n      type: 'integer',\n      minimum: 1,\n      maximum: 60 * 60 * 1000,\n    },\n    intelligent: {\n      oneOf: [\n        {\n          type: 'boolean',\n        },\n        {\n          type: 'string',\n          enum: ['fallback'],\n        },\n      ],\n    },\n    intelligentChunkSize: {\n      type: 'integer',\n    },\n    onProgress: {\n      format: 'callback',\n    },\n    onRetry: {\n      format: 'callback',\n    },\n    disableIntegrityCheck: {\n      type: 'boolean',\n    },\n    tags: {\n      type: 'object',\n      maxItems: 10,\n      additionalProperties: {\n        type: 'string',\n        maxlength: 256,\n      },\n    },\n  },\n};\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { UploadParamsSchema } from './upload.schema';\n\nexport const PickerParamsSchema = {\n  $schema: 'http://json-schema.org/draft-07/schema#',\n  title: 'Filestack Picker',\n  description: 'Filestack Picker Options',\n  type: 'object',\n  additionalProperties: false,\n  // required: ['container'],\n  properties: {\n    allowManualRetry: {\n      type: 'boolean',\n    },\n    accept: {\n      additionalProperties: false,\n      oneOf: [\n        {\n          type: 'string',\n        },\n        {\n          type: 'array',\n          minItems: 1,\n          items: [\n            {\n              type: 'string',\n            },\n          ],\n        },\n      ],\n    },\n    acceptFn: {\n      format: 'callback',\n    },\n    fromSources: {\n      type: 'array',\n      items: [\n        {\n          type: ['string', 'object'],\n          additionalProperties: false,\n          enum: [\n            'local_file_system',\n            'url',\n            'imagesearch',\n            'facebook',\n            'instagram',\n            'googledrive',\n            'unsplash',\n            'dropbox',\n            'webcam',\n            'video',\n            'audio',\n            'box',\n            'github',\n            'gmail',\n            'googlephotos',\n            'onedrive',\n            'onedriveforbusiness',\n            'clouddrive',\n            'googlephotos',\n            'customsource',\n            'tint',\n          ],\n        },\n      ],\n    },\n    container: {\n      format: 'HTMLContainer',\n    },\n    cleanupImageExif: {\n      oneOf: [\n        {\n          type: 'boolean',\n        },\n        {\n          type: 'object',\n          additionalProperties: false,\n          properties: {\n            keepOrientation: {\n              type: 'boolean',\n            },\n            keepICCandAPP: {\n              type: 'boolean',\n            },\n          },\n        },\n      ],\n    },\n    displayMode: {\n      type: 'string',\n      enum: ['inline', 'overlay', 'dropPane'],\n    },\n    concurrency: {\n      type: 'integer',\n      minimum: 1,\n      maximum: 20,\n    },\n    supportEmail: {\n      type: 'string',\n    },\n    customSourceContainer: {\n      type: 'string',\n    },\n    customSourcePath: {\n      type: 'string',\n    },\n    customSourceName: {\n      type: 'string',\n    },\n    disableStorageKey: {\n      type: 'boolean',\n    },\n    disableTransformer: {\n      type: 'boolean',\n    },\n    disableThumbnails: {\n      type: 'boolean',\n    },\n    exposeOriginalFile: {\n      type: 'boolean',\n    },\n    globalDropZone: {\n      type: 'boolean',\n    },\n    hideModalWhenUploading: {\n      type: 'boolean',\n    },\n    imageDim: {\n      type: 'array',\n      minItems: 2,\n      maxItems: 2,\n      items: [\n        {\n          type: 'integer',\n          minimum: 1,\n        },\n      ],\n    },\n    imageMax: {\n      type: 'array',\n      minItems: 2,\n      maxItems: 2,\n      items: [\n        {\n          type: 'integer',\n          minimum: 1,\n        },\n      ],\n    },\n    imageMin: {\n      type: 'array',\n      minItems: 2,\n      maxItems: 2,\n      items: [\n        {\n          type: 'integer',\n          minimum: 1,\n        },\n      ],\n    },\n    imageMinMaxBlock: {\n      type: 'boolean',\n      default: false,\n    },\n    lang: {\n      type: 'string',\n      enum: ['ca', 'da', 'de', 'en', 'es', 'fr', 'he', 'it', 'ja', 'ko', 'nl', 'no', 'pl', 'pt', 'sv', 'ru', 'vi', 'zh', 'tr', 'ar'],\n    },\n    minFiles: {\n      type: 'integer',\n      minimum: 1,\n      maximum: 1000000,\n    },\n    maxFiles: {\n      type: 'integer',\n      minimum: 1,\n      maximum: 1000000,\n    },\n    maxSize: {\n      type: 'integer',\n      minimum: 1,\n    },\n    modalSize: {\n      type: 'array',\n      minItems: 2,\n      maxItems: 2,\n      items: [\n        {\n          type: 'integer',\n          minimum: 1,\n          maximum: 1000000,\n        },\n      ],\n    },\n    rootId: {\n      type: 'string',\n    },\n    startUploadingWhenMaxFilesReached: {\n      type: 'boolean',\n    },\n    uploadInBackground: {\n      type: 'boolean',\n    },\n    videoResolution: {\n      type: 'string',\n    },\n    onCancel: {\n      format: 'callback',\n    },\n    onClose: {\n      format: 'callback',\n    },\n    onOpen: {\n      format: 'callback',\n    },\n    onFileSelected: {\n      format: 'callback',\n    },\n    onFileUploadCancel: {\n      format: 'callback',\n    },\n    onFileUploadStarted: {\n      format: 'callback',\n    },\n    onFileUploadFinished: {\n      format: 'callback',\n    },\n    onFileUploadFailed: {\n      format: 'callback',\n    },\n    onFileUploadProgress: {\n      format: 'callback',\n    },\n    onUploadStarted: {\n      format: 'callback',\n    },\n    onUploadDone: {\n      format: 'callback',\n    },\n    onFileCropped: {\n      format: 'callback',\n    },\n    storeTo: {\n      additionalProperties: false,\n      type: 'object',\n      properties: {\n        filename: {\n          type: 'string',\n        },\n        location: {\n          $ref: 'locationsDef',\n        },\n        container: {\n          type: 'string',\n        },\n        path: {\n          type: 'string',\n        },\n        region: {\n          type: 'string',\n        },\n        access: {\n          type: 'string',\n          enum: ['public', 'private'],\n        },\n        workflows: {\n          $ref: 'workflowsDef',\n        },\n      },\n    },\n    viewType: {\n      type: 'string',\n      enum: ['grid', 'list'],\n    },\n    transformations: {\n      type: 'object',\n      additionalProperties: false,\n      properties: {\n        circle: {\n          type: 'boolean',\n        },\n        rotate: {\n          type: 'boolean',\n        },\n        force: {\n          type: 'boolean',\n        },\n        crop: {\n          oneOf: [\n            {\n              type: 'boolean',\n            },\n            {\n              type: 'object',\n              additionalProperties: false,\n              properties: {\n                force: {\n                  type: 'boolean',\n                },\n                aspectRatio: {\n                  type: 'number',\n                },\n              },\n            },\n          ],\n        },\n      },\n    },\n    customText: {\n      type: 'object',\n      patternProperties: {\n        '.*': { type: 'string' },\n      },\n    },\n    cropFiles: {\n      type: 'array',\n      minItems: 1,\n    },\n    loadCss: {\n      type: 'string',\n    },\n    failOverMaxFiles: {\n      type: 'boolean',\n    },\n    dropPane: {\n      type: 'object',\n      properties: {\n        cropFiles: {\n          type: 'array',\n          minItems: 1,\n        },\n        customText: {\n          type: 'string',\n        },\n        disableClick: {\n          type: 'boolean',\n        },\n        overlay: {\n          type: 'boolean',\n        },\n        showIcon: {\n          type: 'boolean',\n        },\n        showProgress: {\n          type: 'boolean',\n        },\n        onDragEnter: {\n          format: 'callback',\n        },\n        onProgress: {\n          format: 'callback',\n        },\n        onDragLeave: {\n          format: 'callback',\n        },\n        onDragOver: {\n          format: 'callback',\n        },\n        onDrop: {\n          format: 'callback',\n        },\n        onSuccess: {\n          format: 'callback',\n        },\n        onError: {\n          format: 'callback',\n        },\n        onClick: {\n          format: 'callback',\n        },\n      },\n    },\n    errorsTimeout: {\n      type: 'number',\n      minimum: 0,\n    },\n    customAuthText: {\n      type: 'object',\n      patternProperties: {\n        '.*': {\n          additionalProperties: false,\n          type: 'object',\n          required: ['top', 'bottom'],\n          properties: {\n            top: {\n              type: 'string',\n            },\n            bottom: {\n              type: 'string',\n            },\n          },\n        },\n      },\n    },\n    uploadConfig: {\n      type: 'object',\n      additionalProperties: false,\n      properties: {\n        // manual import upload definitions\n        ...UploadParamsSchema.properties,\n        tags: {\n          type: 'object',\n          additionalProperties: {\n            anyOf: [\n              {\n                type: 'string',\n              },\n              {\n                format: 'callback',\n              },\n            ],\n          },\n        },\n      },\n    },\n    useSentryBreadcrumbs: {\n      type: 'boolean',\n    },\n    pasteMode: {\n      type: 'object',\n      additionalProperties: false,\n      properties: {\n        pasteToFirstInViewPort: {\n          type: 'boolean',\n        },\n        pasteToFirstInstance: {\n          type: 'boolean',\n        },\n      },\n    },\n  },\n};\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const MetadataParamsSchema = {\n  '$schema': 'http://json-schema.org/draft-07/schema#',\n  title: 'Filestack Metadata',\n  description: 'Filestack Metadata Options',\n  type: 'object',\n  additionalProperties: false,\n  properties: {\n    size: {\n      type: 'boolean',\n    },\n    mimetype: {\n      type: 'boolean',\n    },\n    filename: {\n      type: 'boolean',\n    },\n    width: {\n      type: 'boolean',\n    },\n    metadata: {\n      type: 'boolean',\n    },\n    height: {\n      type: 'boolean',\n    },\n    uploaded: {\n      type: 'boolean',\n    },\n    writeable: {\n      type: 'boolean',\n    },\n    cloud: {\n      type: 'boolean',\n    },\n    sourceUrl: {\n      type: 'boolean',\n    },\n    md5: {\n      type: 'boolean',\n    },\n    sha1: {\n      type: 'boolean',\n    },\n    sha224: {\n      type: 'boolean',\n    },\n    sha256: {\n      type: 'boolean',\n    },\n    sha384: {\n      type: 'boolean',\n    },\n    sha512: {\n      type: 'boolean',\n    },\n    location: {\n      type: 'boolean',\n    },\n    path: {\n      type: 'boolean',\n    },\n    container: {\n      type: 'boolean',\n    },\n    exif: {\n      type: 'boolean',\n    },\n  },\n};\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const RetrieveParamsSchema = {\n  '$schema': 'http://json-schema.org/draft-07/schema#',\n  title: 'Filestack Retrieve',\n  description: 'Filestack Retrieve Options',\n  type: 'object',\n  additionalProperties: false,\n  properties: {\n    metadata: {\n      type: 'boolean',\n    },\n    head: {\n      type: 'boolean',\n    },\n    dl: {\n      type: 'boolean',\n    },\n    cache: {\n      type: 'boolean',\n    },\n    extension: {\n      type: 'string',\n    },\n  },\n};\n", "/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { FsRequestOptions, FsResponse } from './types';\nimport { AdapterInterface } from './adapters/interface';\nimport { FsRequestError } from './error';\nimport { shouldRetry } from './helpers/shouldRetry';\nimport Debug from 'debug';\n\nconst debug = Debug('fs:request:dispatch');\n\n/**\n * Request dispatcher\n *\n * @export\n * @class Dispatch\n */\nexport class Dispatch {\n  adapter: AdapterInterface;\n\n  /**\n   * Creates an instance of Dispatch.\n   *\n   * @param {AdapterInterface} adapter http | XHR adapater\n   * @memberof Dispatch\n   */\n  constructor(adapter: AdapterInterface) {\n    this.adapter = adapter;\n  }\n\n  /**\n   * Dispatch request adding retry policy\n   * @todo add data preprocesor\n   *\n   * @param {FsRequestOptions} config\n   * @returns {Promise<FsResponse>}\n   * @memberof Dispatch\n   */\n  public request(config: FsRequestOptions): Promise<FsResponse> {\n    config.headers = config.headers || {};\n    debug('Dispatching request %O', config);\n    return this.adapter.request(config).catch((reason: FsRequestError) => {\n      debug('Request error \"%s\": %O', reason, reason.response);\n      return this.retry(reason);\n    });\n  }\n\n  /**\n   * Request retrier\n   *\n   * @private\n   * @param {FsRequestError} err\n   * @returns\n   * @memberof Dispatch\n   */\n  private retry(err: FsRequestError) {\n    const config = err.config;\n\n    if (!shouldRetry(err)) {\n      debug('[Retry] Request error is not retriable. Exiting');\n      return Promise.reject(err);\n    }\n\n    if (!config.retry) {\n      debug('[Retry] Retry config not found. Exiting');\n      return Promise.reject(err);\n    }\n\n    const retryConfig = config.retry;\n    let attempts = config.runtime && config.runtime.retryCount ? config.runtime.retryCount : 0;\n\n    if (retryConfig.retry && retryConfig.retry <= attempts) {\n      debug('[Retry] Retry attempts reached %d. Exiting', attempts);\n      return Promise.reject(err);\n    }\n\n    const retryDelay = Math.max(Math.min(retryConfig.retryMaxTime, retryConfig.retryFactor ** attempts * 1000), 1);\n\n    config.runtime = {\n      ...config.runtime,\n      retryCount: attempts + 1,\n    };\n\n    debug(`[Retry] Retrying request to ${config.url}, count ${attempts} of ${retryConfig.retry} - Delay: ${retryDelay}`);\n\n    return new Promise<FsResponse>(resolve => {\n      setTimeout(() => resolve(this.request(config)), retryDelay);\n    });\n  }\n}\n", "/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var RequestAdapter = require('./adapters/xhr').XhrAdapter;\n\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvcmVxdWVzdC9yZXF1ZXN0X2FkYXB0ZXIuYnJvd3Nlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7O0dBZUc7QUFDSCxNQUFNLENBQUMsSUFBTSxjQUFjLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUMsVUFBVSxDQUFDIiwiZmlsZSI6ImxpYi9yZXF1ZXN0L3JlcXVlc3RfYWRhcHRlci5icm93c2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAoYykgMjAxOCBieSBGaWxlc3RhY2tcbiAqIFNvbWUgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFJlcXVlc3RBZGFwdGVyID0gcmVxdWlyZSgnLi9hZGFwdGVycy94aHInKS5YaHJBZGFwdGVyO1xuIl19\n", "/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { FsRequestOptions, FsHttpMethod, FsResponse } from './types';\nimport { Dispatch } from './dispatch';\nimport { RequestAdapter } from './request_adapter.node';\n\n/**\n * Main isomorphic Filestack request library\n *\n * @export\n * @class FsRequest\n */\nexport class FsRequest {\n  /**\n   * Request static instance\n   *\n   * @private\n   * @static\n   * @type {FsRequest}\n   * @memberof FsRequest\n   */\n  private static instance: FsRequest;\n\n  /**\n   * Default request options\n   *\n   * @private\n   * @type {RequestOptions}\n   * @memberof FsRequest\n   */\n  private defaults: FsRequestOptions;\n\n  /**\n   * Request Dispatcher\n   *\n   * @private\n   * @type {Dispatch}\n   * @memberof FsRequest\n   */\n  private dispatcher: Dispatch;\n\n  /**\n   * Creates an instance of Request.\n   *\n   * @param {RequestOptions} [config]\n   * @memberof FsRequest\n   */\n  constructor(config?: FsRequestOptions) {\n\n    this.defaults = config;\n    this.dispatcher = new Dispatch(new RequestAdapter());\n  }\n\n  /**\n   * Returns static FsRequest instance\n   *\n   * @private\n   * @static\n   * @returns\n   * @memberof FsRequest\n   */\n  private static getInstance() {\n    if (!FsRequest.instance) {\n      FsRequest.instance = new FsRequest();\n    }\n\n    return FsRequest.instance;\n  }\n\n  /**\n   * Run request with given adapter\n   *\n   * @param {RequestOptions} config\n   * @returns\n   * @memberof Request\n   */\n\n  public dispatch(config: FsRequestOptions) {\n    if (!config.method) {\n      config.method = FsHttpMethod.GET;\n    }\n\n    return this.dispatcher.request(Object.assign({}, this.defaults, config));\n  }\n\n  /**\n   * Dispatch request\n   *\n   * @static\n   * @param {string} url\n   * @param {FsRequestOptions} config\n   * @returns {Promise<FsResponse>}\n   * @memberof FsRequest\n   */\n  public static dispatch(url: string, config: FsRequestOptions): Promise<FsResponse> {\n    return FsRequest.getInstance().dispatch(Object.assign({}, config || {}, { url }));\n  }\n\n  /**\n   * Dispatch GET request\n   *\n   * @static\n   * @param {string} url\n   * @param {FsRequestOptions} config\n   * @returns {Promise<FsResponse>}\n   * @memberof FsRequest\n   */\n  public static get(url: string, config?: FsRequestOptions): Promise<FsResponse> {\n    return FsRequest.getInstance().dispatch(Object.assign({}, config || {}, { method: FsHttpMethod.GET, url }));\n  }\n\n  /**\n   * Dispatch HEAD request\n   *\n   * @static\n   * @param {string} url\n   * @param {FsRequestOptions} config\n   * @returns {Promise<FsResponse>}\n   * @memberof FsRequest\n   */\n  public static head(url: string, config?: FsRequestOptions): Promise<FsResponse> {\n    return FsRequest.getInstance().dispatch(Object.assign({}, config || {}, { method: FsHttpMethod.HEAD, url }));\n  }\n\n  /**\n   * Dispatch OPTIONS request\n   *\n   * @static\n   * @param {string} url\n   * @param {FsRequestOptions} config\n   * @returns {Promise<FsResponse>}\n   * @memberof FsRequest\n   */\n  public static options(url: string, config?: FsRequestOptions): Promise<FsResponse> {\n    return FsRequest.getInstance().dispatch(Object.assign({}, config || {}, { method: FsHttpMethod.OPTIONS, url }));\n  }\n\n  /**\n   * Dispatch PURGE request\n   *\n   * @static\n   * @param {string} url\n   * @param {FsRequestOptions} config\n   * @returns {Promise<FsResponse>}\n   * @memberof FsRequest\n   */\n  public static purge(url: string, config?: FsRequestOptions): Promise<FsResponse> {\n    return FsRequest.getInstance().dispatch(Object.assign({}, config || {}, { method: FsHttpMethod.PURGE, url }));\n  }\n\n  /**\n   * Dispatch DELETE request\n   *\n   * @static\n   * @param {string} url\n   * @param {FsRequestOptions} config\n   * @returns {Promise<FsResponse>}\n   * @memberof FsRequest\n   */\n  public static delete(url: string, config?: FsRequestOptions): Promise<FsResponse> {\n    return FsRequest.getInstance().dispatch(Object.assign({}, config || {}, { method: FsHttpMethod.DELETE, url }));\n  }\n\n  /**\n   * Dispatch POST request\n   *\n   * @static\n   * @param {string} url\n   * @param {*} [data]\n   * @param {FsRequestOptions} [config]\n   * @returns {Promise<FsResponse>}\n   * @memberof FsRequest\n   */\n  public static post(url: string, data?: any, config?: FsRequestOptions): Promise<FsResponse> {\n    return FsRequest.getInstance().dispatch(Object.assign({}, config || {}, { method: FsHttpMethod.POST, url, data }));\n  }\n\n  /**\n   * Dispatch PUT request\n   *\n   * @static\n   * @param {string} url\n   * @param {*} [data]\n   * @param {FsRequestOptions} [config]\n   * @returns {Promise<FsResponse>}\n   * @memberof FsRequest\n   */\n  public static put(url: string, data?: any, config?: FsRequestOptions): Promise<FsResponse> {\n    return FsRequest.getInstance().dispatch(Object.assign({}, config || {}, { method: FsHttpMethod.PUT, url, data }));\n  }\n\n  /**\n   * Dispatch PATCH request\n   *\n   * @static\n   * @param {string} url\n   * @param {*} [data]\n   * @param {FsRequestOptions} [config]\n   * @returns {Promise<FsResponse>}\n   * @memberof FsRequest\n   */\n  public static path(url: string, data?: any, config?: FsRequestOptions): Promise<FsResponse> {\n    return FsRequest.getInstance().dispatch(Object.assign({}, config || {}, { method: FsHttpMethod.PATH, url, data }));\n  }\n}\n\nexport default FsRequest;\n", "/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { EventEmitter } from 'eventemitter3';\n\n/**\n * Filestack token that allow pause, resume or cancel given upload\n *\n * @export\n * @class FsToken\n * @extends {EventEmitter}\n */\nexport class FsCancelToken extends EventEmitter {\n\n  /**\n   * Cancel request action\n   *\n   * @param {(string | Error)} [reason]\n   * @memberof Token\n   */\n  public cancel(reason?: string | Error) {\n    this.emit('cancel', reason);\n\n    this.removeAllListeners();\n  }\n\n}\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Security, Session } from '../client';\nimport { Filelink } from './../filelink';\nimport { removeEmpty } from '../utils';\nimport { FsResponse } from './../request/types';\nimport { FilestackError } from './../../filestack_error';\nimport { getValidator, MetadataParamsSchema, RetrieveParamsSchema } from './../../schema';\nimport { FsRequest, FsHttpMethod } from '../request';\n\n/**\n * Remove given file\n *\n * @private\n * @param session\n * @param handle\n * @param security\n */\nexport const remove = (session: Session, handle?: string, skipStorage?: boolean, security?: Security): Promise<any> => {\n  if (!handle || typeof handle !== 'string') {\n    throw new FilestackError('A valid Filestack handle is required for remove');\n  }\n\n  if (!(session.policy && session.signature) && (!security || !(security.policy && security.signature))) {\n    throw new FilestackError('Security policy and signature are required for remove');\n  }\n\n  const fileApiUrl = session.urls.fileApiUrl;\n  const baseURL = `${fileApiUrl}/${handle}`;\n  const options: any = {\n    key: session.apikey,\n    policy: (security && security.policy) || session.policy,\n    signature: (security && security.signature) || session.signature,\n  };\n\n  if (skipStorage) {\n    options.skip_storage = true;\n  }\n\n  return FsRequest.delete(baseURL, {\n    filestackHeaders: false,\n    params: removeEmpty(options),\n  });\n};\n\nexport interface MetadataOptions {\n  size?: boolean;\n  mimetype?: boolean;\n  filename?: boolean;\n  width?: boolean;\n  height?: boolean;\n  uploaded?: boolean;\n  writeable?: boolean;\n  cloud?: boolean;\n  sourceUrl?: boolean;\n  md5?: boolean;\n  sha1?: boolean;\n  sha224?: boolean;\n  sha256?: boolean;\n  sha384?: boolean;\n  sha512?: boolean;\n  location?: boolean;\n  path?: boolean;\n  container?: boolean;\n  exif?: boolean;\n}\n\n/**\n * Returns file metadata\n *\n * @private\n * @param session\n * @param handle\n * @param opts\n * @param security\n */\nexport const metadata = (session: Session, handle?: string, opts?: MetadataOptions, security?: Security): Promise<any> => {\n  if (!handle || typeof handle !== 'string') {\n    throw new FilestackError('A valid Filestack handle is required for metadata');\n  }\n\n  const validateRes = getValidator(MetadataParamsSchema)(opts);\n\n  if (validateRes.errors.length) {\n    throw new FilestackError(`Invalid metadata params`, validateRes.errors);\n  }\n\n  const options: any = { ...opts };\n  options.source_url = options.sourceUrl; // source_url is snake_case\n  options.policy = (security && security.policy) || session.policy;\n  options.signature = (security && security.signature) || session.signature;\n\n  const baseURL = `${session.urls.fileApiUrl}/${handle}/metadata`;\n  return new Promise((resolve, reject) => {\n    FsRequest.get(baseURL, { params: removeEmpty(options), filestackHeaders: false })\n      .then(res => resolve({ ...res.data, handle }))\n      .catch(reject);\n  });\n};\n\n/**\n * Download file to blob or buffer format\n *\n * @param session\n * @param handle\n */\nexport const download = (session: Session, handle: string,  security?: Security): Promise<FsResponse> => {\n  const fl = new Filelink(handle, session.apikey);\n\n  const policy = (security && security.policy) || session.policy;\n  const signature = (security && security.signature) || session.signature;\n\n  if (policy && signature) {\n    fl.security({ signature, policy });\n  }\n\n  return FsRequest.dispatch(fl.toString(), { method: FsHttpMethod.GET, blobResponse: true });\n};\n\nexport interface RetrieveOptions {\n  metadata?: boolean;\n  head?: boolean;\n  dl?: boolean;\n  extension?: string;\n  cache?: boolean;\n}\n\n/**\n * Returns file information\n *\n * @private\n * @deprecated\n * @param session\n * @param handle\n * @param options\n * @param security\n */\nexport const retrieve = (session: Session, handle: string, options: RetrieveOptions = {}, security?: Security): Promise<Object | Blob> => {\n  if (!handle || handle.length === 0 || typeof handle !== 'string') {\n    throw new FilestackError('File handle is required');\n  }\n\n  console.info('Retrieve method is deprecated and it will be removed. Please use metadata or download');\n\n  const validateRes = getValidator(RetrieveParamsSchema)(options);\n\n  if (validateRes.errors.length) {\n    throw new FilestackError(`Invalid retrieve params`, validateRes.errors);\n  }\n\n  const requestOptions: any = { ...options };\n  requestOptions.key = session.apikey;\n  requestOptions.policy = (security && security.policy) || session.policy;\n  requestOptions.signature = (security && security.signature) || session.signature;\n\n  let method: FsHttpMethod = FsHttpMethod.GET;\n\n  if (requestOptions.head) {\n    method = FsHttpMethod.HEAD;\n    delete requestOptions.head;\n  }\n\n  let extension;\n\n  if (requestOptions.extension && requestOptions.extension.length) {\n    extension = requestOptions.extension;\n    delete requestOptions.extension;\n  }\n\n  let metadata;\n  if (requestOptions.metadata) {\n    if (method === FsHttpMethod.HEAD) {\n      throw new FilestackError('Head and metadata options cannot be used together');\n    }\n\n    metadata = requestOptions.metadata;\n    delete requestOptions.metadata;\n  }\n\n  const baseURL = `${session.urls.fileApiUrl}/${handle}` + (extension ? `+${extension}` : '') + (metadata ? '/metadata' : '');\n\n  return new Promise((resolve, reject) => {\n    FsRequest.dispatch(baseURL, {\n      method,\n      filestackHeaders: false,\n      params: removeEmpty(requestOptions),\n    })\n      .then(res => resolve(method === FsHttpMethod.HEAD ? res.headers : res.data))\n      .catch(reject);\n  });\n};\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Session } from '../client';\nimport { Filelink } from './../filelink';\n\n/**\n * @private\n */\nconst toSnakeCase = (original: { [index: string]: any }): { [index: string]: any } => {\n  let snakeCased: { [index: string]: any } = {};\n\n  const keys = Object.keys(original);\n\n  for (let i = 0; i < keys.length; i++) {\n    let newKey = keys[i].split(/(?=[A-Z])/).join('_').toLowerCase();\n\n    if (typeof original[keys[i]] === 'object' && !Array.isArray(original[keys[i]])) {\n      snakeCased[newKey] = toSnakeCase(original[keys[i]]);\n    } else {\n      snakeCased[newKey] = original[keys[i]];\n    }\n  }\n\n  return snakeCased;\n};\n\n/**\n * Align enum\n */\nexport enum EAlignOptions {\n  left = 'left',\n  right = 'right',\n  center = 'center',\n  bottom = 'bottom',\n  top = 'top',\n}\n\n/**\n * Align enum with faces option\n */\nexport enum EAlignFacesOptions {\n  left = 'left',\n  right = 'right',\n  center = 'center',\n  bottom = 'bottom',\n  top = 'top',\n  faces = 'faces',\n}\n\n/**\n * Fit enum\n */\nexport enum EFitOptions {\n  clip = 'clip',\n  crop = 'crop',\n  scale = 'scale',\n  max = 'max',\n}\n\n/**\n * Blur enum\n */\nexport enum EBlurMode {\n  linear = 'linear',\n  gaussian = 'gaussian',\n}\n\n/**\n * Shapes enum\n */\nexport enum EShapeType {\n  oval = 'oval',\n  rect = 'rect',\n}\n\n/**\n * Noise type enum\n */\nexport enum ENoiseType {\n  none = 'none',\n  low = 'low',\n  medium = 'medium',\n  high = 'high',\n}\n\n/**\n * Style type enum\n */\nexport enum EStyleType {\n  artwork = 'artwork',\n  photo = 'photo',\n}\n\n/**\n * Color space enum\n */\nexport enum EColorspaceType {\n  RGB = 'RGB',\n  CMYK = 'CMYK',\n  Input = 'Input',\n}\n\n/**\n * Crop faces options enum\n */\nexport enum ECropfacesType {\n  thumb = 'thumb',\n  crop = 'crop',\n  fill = 'fill',\n}\n\n/**\n * SmartCrop mode options enum\n */\nexport enum ESmartCropMode {\n  fit = 'fit',\n  auto = 'auto',\n}\n\nexport enum EImageWatermarkPosition {\n  top = 'top',\n  middle = 'middle',\n  bottom = 'bottom',\n  left = 'left',\n  center = 'center',\n  right = 'right',\n}\n\n/**\n * Convert to format\n */\nexport enum EVideoTypes {\n    h264 = 'h264',\n    h264_hi = 'h264.hi',\n    webm = 'webm',\n    'webm-hi' = 'webm.hi',\n    ogg = 'ogg',\n    'ogg-hi' = 'ogg.hi',\n    'hls-variant' = 'hls.variant',\n    mp3 = 'mp3',\n    oga = 'oga',\n    m4a = 'm4a',\n    aac = 'aac',\n    hls = 'hls.variant.audio',\n}\n\nexport enum EUrlscreenshotAgent {\n  desktop = 'desktop',\n  mobile = 'mobile',\n}\n\nexport enum EUrlscreenshotMode {\n  all = 'all',\n  window = 'window',\n}\n\nexport enum EUrlscreenshotOrientation {\n  portrait = 'portrait',\n  landscape = 'landscape',\n}\n\n/**\n * Video storage location\n */\nexport enum EVideoLocations {\n  s3 = 's3',\n  azure = 'azure',\n  gcs = 'gcs',\n  rackspace = 'rackspace',\n  dropbox = 'dropbox',\n}\n\nexport enum EVideoAccess {\n  private = 'private',\n  public = 'public',\n}\n\nexport enum EVideoAccessMode {\n  preserve = 'preserve',\n  constrain = 'constrain',\n  letterbox = 'letterbox',\n  pad = 'pad',\n  crop = 'crop',\n}\n\n/**\n * @see https://www.filestack.com/docs/image-transformations\n */\nexport interface TransformOptions {\n  flip?: boolean;\n  compress?: boolean;\n  flop?: boolean;\n  no_metadata?: boolean;\n  pjpg?: {\n    quality: number;\n    metadata: boolean;\n  };\n  smart_crop?: {\n    mode?: ESmartCropMode\n    width: number;\n    height: number;\n  };\n  watermark?: {\n    files: string;\n    size?: number;\n    position?: EImageWatermarkPosition | EImageWatermarkPosition[];\n  };\n  imagesize?: boolean;\n  enchance?: boolean;\n  redeye?: boolean;\n  monochrome?: boolean;\n  negative?: boolean;\n  tags?: boolean;\n  sfw?: boolean;\n  store?: {\n    filename?: string,\n    location?: string,\n    path?: string,\n    container?: string,\n    region?: string;\n    access?: string;\n    base64decode?: boolean;\n  };\n  resize?: {\n    width?: number;\n    height?: number;\n    fit?: EFitOptions;\n    align?: EAlignFacesOptions;\n  };\n  crop?: {\n    dim: [number, number, number, number]\n  };\n  rotate?: {\n    deg: number | string;\n    color?: string;\n    background?: string;\n  };\n  detect_faces?: {\n    minsize?: number;\n    maxsize?: number;\n    color?: string;\n    export?: boolean;\n  } | true;\n  crop_faces?: {\n    mode?: ECropfacesType;\n    width?: number;\n    height?: number;\n    faces?: number | string;\n    buffer?: number;\n  };\n  pixelate_faces?: {\n    faces?: number | string;\n    minsize?: number;\n    maxsize?: number;\n    buffer?: number;\n    amount?: number;\n    blur?: number;\n    type?: EShapeType;\n  };\n  blur_faces?: {\n    faces?: number | string;\n    minsize?: number;\n    maxsize?: number;\n    buffer?: number;\n    amount?: number;\n    blur?: number;\n    type?: EShapeType;\n  };\n  rounded_corners?: {\n    radius?: number;\n    blur?: number;\n    background?: string;\n  } | true;\n  vignette?: {\n    amount?: number;\n    blurmode?: EBlurMode;\n    background?: string;\n  };\n  polaroid?: {\n    color?: string;\n    rotate?: number;\n    background?: string;\n  } | true;\n  torn_edges?: {\n    spread?: [number, number];\n    background?: string;\n  } | true;\n  shadow?: {\n    blur?: number;\n    opacity?: number;\n    vector?: [number, number];\n    color?: string;\n    background?: string;\n  } | true;\n  circle?: {\n    background?: string;\n  } | true;\n  border?: {\n    width?: number;\n    color?: string;\n    background?: string;\n  } | true;\n  sharpen?: {\n    amount: number;\n  } | true;\n  blur?: {\n    amount: number;\n  } | true;\n  blackwhite?: {\n    threshold: number;\n  } | true;\n  sepia?: {\n    tone: number;\n  } | true;\n  pixelate?: {\n    amount: number;\n  } | true;\n  oil_paint?: {\n    amount: number;\n  } | true;\n  modulate?: {\n    brightness?: number;\n    hue?: number;\n    saturation?: number;\n  } | true;\n  partial_pixelate?: {\n    amount?: number;\n    blur?: number;\n    type?: EShapeType;\n    objects?: [[number, number, number, number]];\n  };\n  partial_blur?: {\n    amount: number;\n    blur?: number;\n    type?: EShapeType;\n    objects?: [[number, number, number, number]];\n  };\n  collage?: {\n    margin?: number;\n    width?: number;\n    height?: number;\n    color?: string;\n    fit?: EFitOptions,\n    files: [string];\n  };\n  upscale?: {\n    upscale?: boolean;\n    noise?: ENoiseType;\n    style?: EStyleType;\n  } | true;\n  ascii?: {\n    background?: string;\n    foreground?: string;\n    colored?: boolean;\n    size?: number;\n    reverse?: boolean;\n  } | true;\n  quality?: {\n    value: number;\n  };\n  security?: {\n    policy: string;\n    signature?: string;\n  };\n  output?: {\n    format: string;\n    colorspace?: string;\n    strip?: boolean;\n    quality?: number;\n    page?: number;\n    compress?: boolean;\n    density?: number;\n    background?: string;\n    secure?: boolean;\n    docinfo?: boolean;\n    pageformat?: string;\n    pageorientation?: string;\n  };\n  cache?: {\n    cache?: boolean;\n    expiry: number;\n  };\n  // audio/video\n  video_convert?: {\n    aspect_mode: EVideoAccessMode;\n    preset?: EVideoTypes;\n    force?: boolean;\n    title?: string;\n    extname?: string;\n    filename?: string;\n    location?: EVideoLocations;\n    path?: string;\n    access?: EVideoAccess;\n    container?: string;\n    audio_bitrate?: number;\n    upscale: boolean;\n    video_bitrate?: number;\n    audio_sample_rate?: number;\n    audio_channels?: number;\n    clip_length?: string;\n    clip_offset?: string;\n    width?: number;\n    height?: number;\n    two_pass?: boolean;\n    fps?: number;\n    keyframe_interval?: number;\n    watermark_url?: string;\n    watermark_top?: number;\n    watermark_bottom?: number;\n    watermark_right?: number;\n    watermark_left?: number;\n    watermark_width?: number;\n    watermark_height?: number;\n  };\n  urlscreenshot?: {\n    agent?: EUrlscreenshotAgent;\n    width?: number;\n    height?: number;\n    mode?: EUrlscreenshotMode;\n    delay?: number;\n    orientation?: EUrlscreenshotOrientation;\n    device?: string;\n  } | true;\n  pdfinfo?: {\n    colorinfo?: boolean\n  } | true;\n  pdfconvert?: {\n    pageorientation?: string\n    pageformat?: string\n    pages?: (string | number)[]\n  };\n}\n\n/**\n * Creates filestack transform url.\n * Transform params can be provided in camelCase or snakeCase style\n *\n * @example\n * ```js\n * // camelCase\n * console.log(transform(session, {\n *    partialPixelate: {\n *      objects: [[10, 20, 200, 250], [275, 91, 500, 557]],\n *    },\n *  }, 'testfile'));\n * ```\n * result => https://cdn.filestackcontent.com/partial_pixelate=objects:[[10,20,200,250],[275,91,500,557]]/testfile\n *\n * ```js\n * // snake_case\n * console.log(transform(session, {\n *    partial_pixelate: {\n *      objects: [[10, 20, 200, 250], [275, 91, 500, 557]],\n *    },\n *  }, 'testfile'));\n * ```\n * result => https://cdn.filestackcontent.com/partial_pixelate=objects:[[10,20,200,250],[275,91,500,557]]/testfile\n *\n * Client.transform is deprecated. Use Filelink class instead\n *\n * @private\n * @throws Error\n * @param options Transformation options\n * @param url url, handle or array of elements\n */\nexport const transform = (session: Session, url: string | string[], options: TransformOptions = {}, b64: boolean = false): string => {\n  options = toSnakeCase(options);\n\n  if (session.policy && session.signature) {\n    options.security = {\n      policy: session.policy,\n      signature: session.signature,\n    };\n  }\n\n  const filelink = new Filelink(url, session.apikey);\n  filelink.setCname(session.cname);\n  filelink.setBase64(b64);\n\n  Object.keys(options).forEach((key: keyof TransformOptions) => {\n    if (typeof options[key] === 'boolean' && !options[key] && key !== 'cache') {\n      return;\n    }\n\n    filelink.addTask(key, options[key]);\n  });\n\n  return filelink.toString();\n};\n", "/*\n * Copyright (c) 2019 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { md5, sanitizeName, SanitizeOptions } from './../../utils';\n\nexport interface UploadTags {\n  [key: string]: string;\n}\n\nexport interface FileInstance {\n  name: string;\n  type: string;\n  size: number;\n  slice: (start: number, end: number) => Promise<ArrayBuffer>;\n  release?: () => void;\n}\n\nexport const enum FileState {\n  INIT = 'Initialized',\n  PROGRESS = 'Progress',\n  STORED = 'Stored',\n  INTRANSIT = 'InTransit',\n  FAILED = 'Failed',\n}\n\nexport interface FilePartMetadata {\n  startByte: number;\n  endByte: number;\n  partNumber: number;\n  size: number;\n}\n\nexport interface FilePart extends FilePartMetadata {\n  buffer: Buffer | ArrayBuffer;\n  md5?: string;\n}\n\nexport interface FileChunk extends FilePart {\n  offset: number; // offset for chunk - from part start\n}\n\n/**\n * File representation to unify file object in nodejs and browser\n *\n * @export\n * @class File\n */\nexport class File {\n\n  public status: FileState;\n\n  public handle: string;\n\n  public url: string;\n\n  public container: string;\n\n  public key: string;\n\n  public workflows: any[];\n\n  public uploadTags: UploadTags;\n\n  constructor(private readonly _file: FileInstance, private readonly _sanitizeOptions?: SanitizeOptions) {\n    this._file.name = sanitizeName(this._file.name, this._sanitizeOptions);\n  }\n\n  /**\n   * Returns file name\n   *\n   * @returns {string}\n   * @memberof File\n   */\n  public get name(): string {\n    return this._file.name;\n  }\n\n  /**\n   * Alias for name getter\n   *\n   * @readonly\n   * @type {string}\n   * @memberof File\n   */\n  public get filename(): string {\n    return this.name;\n  }\n\n  /**\n   * Sets new file name  and cleanup extra chars\n   *\n   * @memberof File\n   */\n  public set name(val: string) {\n    this._file.name = sanitizeName(val, this._sanitizeOptions);\n  }\n\n  /**\n   * Sets custom name using string or function\n   * Name will be sanitized\n   *\n   * @memberof File\n   */\n  public set customName(val: ((file: this) => string) | string) {\n    switch (typeof val) {\n      case 'string':\n        this.name = val;\n        break;\n      case 'function':\n        const newName = val(this);\n        if (typeof newName !== 'string') {\n          throw new Error(`Name function must return a string. Current return type is ${typeof val}`);\n        }\n\n        this.name = val(this);\n        break;\n    }\n  }\n\n  /**\n   * Returns file type\n   *\n   * @default 'application/octet-stream'\n   * @returns {string}\n   * @memberof File\n   */\n  public get type(): string {\n    /* istanbul ignore next */\n    return this._file.type || 'application/octet-stream';\n  }\n\n  /**\n   * Alias for file type\n   *\n   * @readonly\n   * @type {string}\n   * @memberof File\n   */\n  public get mimetype(): string {\n    return this.type;\n  }\n\n  /**\n   * Returns file size\n   *\n   * @returns {number}\n   * @memberof File\n   */\n  public get size(): number {\n    return this._file.size;\n  }\n\n  /**\n   * Returns number of parts according to part size\n   *\n   * @param {number} size - part size in bytes\n   * @returns {number}\n   * @memberof File\n   */\n  public getPartsCount (size: number): number {\n    return Math.ceil(this._file.size / size);\n  }\n\n  /**\n   * Returns part metadata\n   *\n   * @param {number} [partNum=0]\n   * @param {*} size\n   * @returns {FilePartMetadata}\n   * @memberof File\n   */\n  public getPartMetadata (partNum: number, size: number): FilePartMetadata {\n    const startByte = size * partNum;\n\n    if (startByte > this._file.size) {\n      throw new Error(`Start byte of the part is higher than buffer size`);\n    }\n\n    const endByte = Math.min(startByte + size, this._file.size);\n\n    return {\n      partNumber: partNum,\n      startByte,\n      endByte,\n      size: endByte - startByte,\n    };\n  }\n\n  /**\n   * Returns part metadata + buffer\n   *\n   * @param {FilePartMetadata} meta\n   * @returns {FilePart}\n   * @memberof File\n   */\n  public async getPartByMetadata(meta: FilePartMetadata, md5Enabled: boolean = true): Promise<FilePart> {\n    let slice = await this._file.slice(meta.startByte, meta.endByte);\n\n    return Promise.resolve({\n      ...meta,\n      buffer: slice,\n      md5: md5Enabled ? md5(slice) : undefined,\n    });\n  }\n\n  /**\n   * Returns part chunk\n   *\n   * @param {FilePartMetadata} meta\n   * @param {number} offset\n   * @param {number} chunkSize\n   * @returns {FilePart}\n   * @memberof File\n   */\n  public async getChunkByMetadata(meta: FilePartMetadata, offset: number, chunkSize: number, md5Enabled: boolean = true): Promise<FileChunk> {\n    const startByte = meta.startByte + offset;\n    const endByte = Math.min(startByte + chunkSize, meta.endByte);\n\n    let slice = await this._file.slice(startByte, endByte);\n\n    return Promise.resolve({\n      ...meta,\n      buffer: slice,\n      md5: md5Enabled ? md5(slice) : undefined,\n      size: slice.byteLength,\n      startByte,\n      endByte,\n      offset,\n    });\n  }\n  /**\n   * Cleanup file buffer to release memory\n   *\n   * @memberof File\n   */\n  public release() {\n    if (this._file.release) {\n      this._file.release();\n    }\n  }\n\n  public toJSON() {\n    return {\n      name: this.name,\n      status: this.status,\n      type: this.type,\n      size: this.size,\n      url: this.url,\n      handle: this.handle,\n      uploadTags: this.uploadTags,\n    };\n  }\n}\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './store.node';\n\nexport enum STORE_TYPE {\n  SESSION = 'sessionStorage',\n  LOCAL = 'localStorage',\n}\n", "import { __awaiter, __generator } from \"tslib\";\n/*\n * Copyright (c) 2019 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { File as FsFile } from './file';\nimport { getMimetype } from './../../utils';\nimport { FilestackError } from './../../../filestack_error';\nimport fileType from 'file-type';\nvar base64Regexp = /data:([a-zA-Z]*\\/[a-zA-Z]*);base64,([^\\\"]*)/i;\n/**\n * Check if file is blob\n * @param input\n */\nvar isFileBlob = function (input) { return input.toString() === '[object Blob]'; };\n/**\n * Check if input is instance of browser file\n *\n * @browser\n * @param input\n */\nvar isFileBrowser = function (input) { return input instanceof File; };\n/**\n * Check if file is base64 string\n *\n * @param input\n */\nvar isFileBase = function (input) {\n    if (typeof input !== 'string') {\n        return false;\n    }\n    if (input.indexOf('base64') > -1) {\n        input = input.match(base64Regexp).pop();\n    }\n    try {\n        return btoa(atob(input)) === input;\n    }\n    catch (err) {\n        /* istanbul ignore next */\n        return false;\n    }\n};\n/**\n * Check if file is instance of named interface\n *\n * @param input\n */\nvar isFileNamed = function (input) { return input && input['file'] && input['name']; };\n/**\n * Convert encoded base64 string or dataURI to blob\n *\n * @browser\n * @param b64data     String to decode\n * @param sliceSize   Byte quantity to split data into\n * @private\n * @returns {Blob}\n */\nvar b64toBlob = function (b64Data, sliceSize) {\n    if (sliceSize === void 0) { sliceSize = 512; }\n    var contentType = '';\n    if (b64Data.indexOf('base64') > -1) {\n        var matches = b64Data.match(base64Regexp);\n        b64Data = matches.pop();\n        contentType = matches[1];\n    }\n    var byteCharacters = atob(b64Data);\n    var byteArrays = [];\n    for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n        var slice = byteCharacters.slice(offset, offset + sliceSize);\n        var byteNumbers = new Array(slice.length);\n        for (var i = 0; i < slice.length; i += 1) {\n            byteNumbers[i] = slice.charCodeAt(i);\n        }\n        byteArrays.push(new Uint8Array(byteNumbers));\n    }\n    return new Blob(byteArrays, { type: contentType });\n};\n/**\n * Read file as array buffer\n *\n * @browser\n * @private\n * @param blob\n * @returns {Boolean}\n */\nvar readFile = function (file) { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        /* istanbul ignore next */\n        if (!File || !FileReader || !Blob) {\n            return [2 /*return*/, Promise.reject(new FilestackError('The File APIs are not fully supported by your browser'))];\n        }\n        return [2 /*return*/, Promise.resolve({\n                slice: function (start, end) {\n                    return readPart(start, end, file);\n                },\n                release: function () {\n                    file = null;\n                },\n            })];\n    });\n}); };\n/**\n * Read file par instead of whole file to avoid browser crashing\n *\n * @param start - star byte\n * @param end  - end byte\n * @param file - file to slice\n */\nvar readPart = function (start, end, file) {\n    return new Promise(function (resolve, reject) {\n        var r = new FileReader();\n        var blob = file.slice(start, end);\n        r.onload = function () { return resolve(r.result); };\n        r.onerror = reject;\n        r.readAsArrayBuffer(blob);\n    });\n};\n/**\n * Accepts b64string or blob file\n *\n * @browser\n * @param {*} fileOrString\n * @returns {Promise<File>}\n */\nexport var getFile = function (input, sanitizeOptions) {\n    var filename;\n    var file;\n    if (isFileNamed(input)) {\n        filename = input.name;\n        input = input.file;\n    }\n    if (isFileBrowser(input)) {\n        file = input;\n        filename = input.name;\n    }\n    else if (isFileBase(input)) {\n        file = b64toBlob(input);\n    }\n    else if (isFileBlob(input)) {\n        file = input;\n    }\n    else {\n        return Promise.reject(new FilestackError('Unsupported input file type'));\n    }\n    return readFile(file).then(function (res) { return __awaiter(void 0, void 0, void 0, function () {\n        var mime, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    mime = file.type;\n                    if (!(!file.type || file.type.length === 0 || file.type === 'text/plain')) return [3 /*break*/, 2];\n                    _a = getMimetype;\n                    return [4 /*yield*/, res.slice(0, fileType.minimumBytes)];\n                case 1:\n                    mime = _a.apply(void 0, [_b.sent(), filename]);\n                    _b.label = 2;\n                case 2: return [2 /*return*/, new FsFile({\n                        name: filename,\n                        size: file.size,\n                        type: mime,\n                        slice: res.slice,\n                        release: res.release,\n                    }, sanitizeOptions)];\n            }\n        });\n    }); });\n};\n\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvYXBpL3VwbG9hZC9maWxlX3Rvb2xzLmJyb3dzZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7R0FlRztBQUNILE9BQU8sRUFBRSxJQUFJLElBQUksTUFBTSxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBQ3hDLE9BQU8sRUFBbUIsV0FBVyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzdELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUM1RCxPQUFPLFFBQVEsTUFBTSxXQUFXLENBQUM7QUFVakMsSUFBTSxZQUFZLEdBQUcsOENBQThDLENBQUM7QUFFcEU7OztHQUdHO0FBQ0gsSUFBTSxVQUFVLEdBQUcsVUFBQyxLQUFnQixJQUFvQixPQUFBLEtBQUssQ0FBQyxRQUFRLEVBQUUsS0FBSyxlQUFlLEVBQXBDLENBQW9DLENBQUM7QUFFN0Y7Ozs7O0dBS0c7QUFDSCxJQUFNLGFBQWEsR0FBRyxVQUFDLEtBQWdCLElBQW9CLE9BQUEsS0FBSyxZQUFZLElBQUksRUFBckIsQ0FBcUIsQ0FBQztBQUVqRjs7OztHQUlHO0FBQ0gsSUFBTSxVQUFVLEdBQUcsVUFBQyxLQUFnQjtJQUNsQyxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtRQUM3QixPQUFPLEtBQUssQ0FBQztLQUNkO0lBRUQsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFO1FBQ2hDLEtBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO0tBQ3pDO0lBRUQsSUFBSTtRQUNGLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQztLQUNwQztJQUFDLE9BQU8sR0FBRyxFQUFFO1FBQ1osMEJBQTBCO1FBQzFCLE9BQU8sS0FBSyxDQUFDO0tBQ2Q7QUFDSCxDQUFDLENBQUM7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QUUsUUFBUSxDQUFDLFlBQVksQ0FBQyxFQUFBOztvQkFBNUQsSUFBSSxHQUFHLGtCQUFZLFNBQXlDLEVBQUUsUUFBUSxFQUFDLENBQUM7O3dCQUcxRSxzQkFBTyxJQUFJLE1BQU0sQ0FDZjt3QkFDRSxJQUFJLEVBQUUsUUFBUTt3QkFDZCxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7d0JBQ2YsSUFBSSxFQUFFLElBQUk7d0JBQ1YsS0FBSyxFQUFFLEdBQUcsQ0FBQyxLQUFLO3dCQUNoQixPQUFPLEVBQUUsR0FBRyxDQUFDLE9BQU87cUJBQ3JCLEVBQ0QsZUFBZSxDQUNoQixFQUFDOzs7U0FDSCxDQUNGLENBQUM7QUFDSixDQUFDLENBQUMiLCJmaWxlIjoibGliL2FwaS91cGxvYWQvZmlsZV90b29scy5icm93c2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAoYykgMjAxOSBieSBGaWxlc3RhY2suXG4gKiBTb21lIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IEZpbGUgYXMgRnNGaWxlIH0gZnJvbSAnLi9maWxlJztcbmltcG9ydCB7IFNhbml0aXplT3B0aW9ucywgZ2V0TWltZXR5cGUgfSBmcm9tICcuLy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IEZpbGVzdGFja0Vycm9yIH0gZnJvbSAnLi8uLi8uLi8uLi9maWxlc3RhY2tfZXJyb3InO1xuaW1wb3J0IGZpbGVUeXBlIGZyb20gJ2ZpbGUtdHlwZSc7XG5cbmV4cG9ydCB0eXBlIFJhd0ZpbGUgPSBCbG9iIHwgQnVmZmVyIHwgRmlsZSB8IHN0cmluZztcbmV4cG9ydCB0eXBlIE5hbWVkSW5wdXRGaWxlID0ge1xuICBuYW1lPzogc3RyaW5nO1xuICBmaWxlOiBSYXdGaWxlO1xufTtcblxudHlwZSBJbnB1dEZpbGUgPSBSYXdGaWxlIHwgTmFtZWRJbnB1dEZpbGU7XG5cbmNvbnN0IGJhc2U2NFJlZ2V4cCA9IC9kYXRhOihbYS16QS1aXSpcXC9bYS16QS1aXSopO2Jhc2U2NCwoW15cXFwiXSopL2k7XG5cbi8qKlxuICogQ2hlY2sgaWYgZmlsZSBpcyBibG9iXG4gKiBAcGFyYW0gaW5wdXRcbiAqL1xuY29uc3QgaXNGaWxlQmxvYiA9IChpbnB1dDogSW5wdXRGaWxlKTogaW5wdXQgaXMgQmxvYiA9PiBpbnB1dC50b1N0cmluZygpID09PSAnW29iamVjdCBCbG9iXSc7XG5cbi8qKlxuICogQ2hlY2sgaWYgaW5wdXQgaXMgaW5zdGFuY2Ugb2YgYnJvd3NlciBmaWxlXG4gKlxuICogQGJyb3dzZXJcbiAqIEBwYXJhbSBpbnB1dFxuICovXG5jb25zdCBpc0ZpbGVCcm93c2VyID0gKGlucHV0OiBJbnB1dEZpbGUpOiBpbnB1dCBpcyBGaWxlID0+IGlucHV0IGluc3RhbmNlb2YgRmlsZTtcblxuLyoqXG4gKiBDaGVjayBpZiBmaWxlIGlzIGJhc2U2NCBzdHJpbmdcbiAqXG4gKiBAcGFyYW0gaW5wdXRcbiAqL1xuY29uc3QgaXNGaWxlQmFzZSA9IChpbnB1dDogSW5wdXRGaWxlKTogaW5wdXQgaXMgc3RyaW5nID0+IHtcbiAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoaW5wdXQuaW5kZXhPZignYmFzZTY0JykgPiAtMSkge1xuICAgIGlucHV0ID0gaW5wdXQubWF0Y2goYmFzZTY0UmVnZXhwKS5wb3AoKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIGJ0b2EoYXRvYihpbnB1dCkpID09PSBpbnB1dDtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgZmlsZSBpcyBpbnN0YW5jZSBvZiBuYW1lZCBpbnRlcmZhY2VcbiAqXG4gKiBAcGFyYW0gaW5wdXRcbiAqL1xuY29uc3QgaXNGaWxlTmFtZWQgPSAoaW5wdXQ6IElucHV0RmlsZSk6IGlucHV0IGlzIE5hbWVkSW5wdXRGaWxlID0+IGlucHV0ICYmIGlucHV0WydmaWxlJ10gJiYgaW5wdXRbJ25hbWUnXTtcblxuLyoqXG4gKiBDb252ZXJ0IGVuY29kZWQgYmFzZTY0IHN0cmluZyBvciBkYXRhVVJJIHRvIGJsb2JcbiAqXG4gKiBAYnJvd3NlclxuICogQHBhcmFtIGI2NGRhdGEgICAgIFN0cmluZyB0byBkZWNvZGVcbiAqIEBwYXJhbSBzbGljZVNpemUgICBCeXRlIHF1YW50aXR5IHRvIHNwbGl0IGRhdGEgaW50b1xuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtCbG9ifVxuICovXG5jb25zdCBiNjR0b0Jsb2IgPSAoYjY0RGF0YTogc3RyaW5nLCBzbGljZVNpemUgPSA1MTIpOiBCbG9iID0+IHtcbiAgbGV0IGNvbnRlbnRUeXBlID0gJyc7XG5cbiAgaWYgKGI2NERhdGEuaW5kZXhPZignYmFzZTY0JykgPiAtMSkge1xuICAgIGNvbnN0IG1hdGNoZXMgPSBiNjREYXRhLm1hdGNoKGJhc2U2NFJlZ2V4cCk7XG4gICAgYjY0RGF0YSA9IG1hdGNoZXMucG9wKCk7XG4gICAgY29udGVudFR5cGUgPSBtYXRjaGVzWzFdO1xuICB9XG5cbiAgY29uc3QgYnl0ZUNoYXJhY3RlcnMgPSBhdG9iKGI2NERhdGEpO1xuICBjb25zdCBieXRlQXJyYXlzOiBhbnlbXSA9IFtdO1xuXG4gIGZvciAobGV0IG9mZnNldCA9IDA7IG9mZnNldCA8IGJ5dGVDaGFyYWN0ZXJzLmxlbmd0aDsgb2Zmc2V0ICs9IHNsaWNlU2l6ZSkge1xuICAgIGNvbnN0IHNsaWNlID0gYnl0ZUNoYXJhY3RlcnMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBzbGljZVNpemUpO1xuICAgIGNvbnN0IGJ5dGVOdW1iZXJzID0gbmV3IEFycmF5KHNsaWNlLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGljZS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgYnl0ZU51bWJlcnNbaV0gPSBzbGljZS5jaGFyQ29kZUF0KGkpO1xuICAgIH1cblxuICAgIGJ5dGVBcnJheXMucHVzaChuZXcgVWludDhBcnJheShieXRlTnVtYmVycykpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBCbG9iKGJ5dGVBcnJheXMsIHsgdHlwZTogY29udGVudFR5cGUgfSk7XG59O1xuXG4vKipcbiAqIFJlYWQgZmlsZSBhcyBhcnJheSBidWZmZXJcbiAqXG4gKiBAYnJvd3NlclxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBibG9iXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuY29uc3QgcmVhZEZpbGUgPSBhc3luYyAoZmlsZSk6IFByb21pc2U8YW55PiA9PiB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICghRmlsZSB8fCAhRmlsZVJlYWRlciB8fCAhQmxvYikge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRmlsZXN0YWNrRXJyb3IoJ1RoZSBGaWxlIEFQSXMgYXJlIG5vdCBmdWxseSBzdXBwb3J0ZWQgYnkgeW91ciBicm93c2VyJykpO1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgc2xpY2U6IGZ1bmN0aW9uKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKSB7XG4gICAgICByZXR1cm4gcmVhZFBhcnQoc3RhcnQsIGVuZCwgZmlsZSk7XG4gICAgfSxcbiAgICByZWxlYXNlOiAoKSA9PiB7XG4gICAgICBmaWxlID0gbnVsbDtcbiAgICB9LFxuICB9KTtcbn07XG5cbi8qKlxuICogUmVhZCBmaWxlIHBhciBpbnN0ZWFkIG9mIHdob2xlIGZpbGUgdG8gYXZvaWQgYnJvd3NlciBjcmFzaGluZ1xuICpcbiAqIEBwYXJhbSBzdGFydCAtIHN0YXIgYnl0ZVxuICogQHBhcmFtIGVuZCAgLSBlbmQgYnl0ZVxuICogQHBhcmFtIGZpbGUgLSBmaWxlIHRvIHNsaWNlXG4gKi9cbmNvbnN0IHJlYWRQYXJ0ID0gKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyLCBmaWxlKTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuICAgIGNvbnN0IGJsb2IgPSBmaWxlLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIHIub25sb2FkID0gKCkgPT4gcmVzb2x2ZShyLnJlc3VsdCk7XG4gICAgci5vbmVycm9yID0gcmVqZWN0O1xuICAgIHIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBBY2NlcHRzIGI2NHN0cmluZyBvciBibG9iIGZpbGVcbiAqXG4gKiBAYnJvd3NlclxuICogQHBhcmFtIHsqfSBmaWxlT3JTdHJpbmdcbiAqIEByZXR1cm5zIHtQcm9taXNlPEZpbGU+fVxuICovXG5leHBvcnQgY29uc3QgZ2V0RmlsZSA9IChpbnB1dDogSW5wdXRGaWxlLCBzYW5pdGl6ZU9wdGlvbnM/OiBTYW5pdGl6ZU9wdGlvbnMpOiBQcm9taXNlPEZzRmlsZT4gPT4ge1xuICBsZXQgZmlsZW5hbWU7XG4gIGxldCBmaWxlOiBCbG9iO1xuXG4gIGlmIChpc0ZpbGVOYW1lZChpbnB1dCkpIHtcbiAgICBmaWxlbmFtZSA9IGlucHV0Lm5hbWU7XG4gICAgaW5wdXQgPSBpbnB1dC5maWxlO1xuICB9XG5cbiAgaWYgKGlzRmlsZUJyb3dzZXIoaW5wdXQpKSB7XG4gICAgZmlsZSA9IGlucHV0O1xuICAgIGZpbGVuYW1lID0gaW5wdXQubmFtZTtcbiAgfSBlbHNlIGlmIChpc0ZpbGVCYXNlKGlucHV0KSkge1xuICAgIGZpbGUgPSBiNjR0b0Jsb2IoaW5wdXQpO1xuICB9IGVsc2UgaWYgKGlzRmlsZUJsb2IoaW5wdXQpKSB7XG4gICAgZmlsZSA9IGlucHV0O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRmlsZXN0YWNrRXJyb3IoJ1Vuc3VwcG9ydGVkIGlucHV0IGZpbGUgdHlwZScpKTtcbiAgfVxuXG4gIHJldHVybiByZWFkRmlsZShmaWxlKS50aGVuKFxuICAgIGFzeW5jIHJlcyA9PiB7XG4gICAgICBsZXQgbWltZSA9IGZpbGUudHlwZTtcbiAgICAgIGlmICghZmlsZS50eXBlICB8fCBmaWxlLnR5cGUubGVuZ3RoID09PSAwIHx8IGZpbGUudHlwZSA9PT0gJ3RleHQvcGxhaW4nKSB7XG4gICAgICAgIG1pbWUgPSBnZXRNaW1ldHlwZShhd2FpdCByZXMuc2xpY2UoMCwgZmlsZVR5cGUubWluaW11bUJ5dGVzKSwgZmlsZW5hbWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEZzRmlsZShcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6IGZpbGVuYW1lLFxuICAgICAgICAgIHNpemU6IGZpbGUuc2l6ZSxcbiAgICAgICAgICB0eXBlOiBtaW1lLFxuICAgICAgICAgIHNsaWNlOiByZXMuc2xpY2UsXG4gICAgICAgICAgcmVsZWFzZTogcmVzLnJlbGVhc2UsXG4gICAgICAgIH0sXG4gICAgICAgIHNhbml0aXplT3B0aW9uc1xuICAgICAgKTtcbiAgICB9XG4gICk7XG59O1xuIl19\n", "/*\n * Copyright (c) 2019 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport Debug from 'debug';\nimport * as EventEmitter from 'eventemitter3';\n\nimport { File, UploadTags } from './../file';\nimport { StoreUploadOptions } from './../types';\nimport { Security } from './../../../client';\nimport { FsRetryConfig } from './../../../request';\nimport { isMobile } from './../../../utils';\nimport { FilestackError } from './../../../../filestack_error';\n\n// regular part size\nexport const DEFAULT_PART_SIZE = 6 * 1024 * 1024;\n\n// Minimum part size for upload by multipart\nexport const MIN_PART_SIZE = 5 * 1024 * 1024;\n\n// when mode is set to fallback or intelligent, this part size is required\nexport const INTELLIGENT_CHUNK_SIZE = 8 * 1024 * 1024;\n\n// Mobile Chunk size for ii\nexport const INTELLIGENT_MOBILE_CHUNK_SIZE = 1024 * 1024;\n\n// minimum intelligent chunk size\nexport const MIN_CHUNK_SIZE = 32 * 1024;\n\nexport const DEFAULT_STORE_LOCATION = 's3';\n\nconst debug = Debug('fs:upload:abstract');\n\nexport const enum UploadMode {\n  DEFAULT = 'default',\n  INTELLIGENT = 'intelligent',\n  FALLBACK = 'fallback',\n}\n\nexport abstract class UploaderAbstract extends EventEmitter {\n  // Parts size options\n  protected partSize: number = DEFAULT_PART_SIZE;\n\n  // chunk size for ii uploads\n  protected intelligentChunkSize: number = isMobile() ? INTELLIGENT_MOBILE_CHUNK_SIZE : INTELLIGENT_CHUNK_SIZE;\n\n  // upload options\n  protected url: string;\n  protected timeout: number = 30 * 1000;\n  protected uploadMode: UploadMode = UploadMode.DEFAULT;\n\n  // application settings\n  protected apikey: string;\n  protected security: Security;\n\n  protected isModeLocked: boolean = false; // if account does not support ii in fallback mode we should abort\n  protected retryConfig: FsRetryConfig;\n  protected integrityCheck: boolean = true;\n\n  protected uploadTags: UploadTags = null;\n\n  constructor(protected readonly storeOptions: StoreUploadOptions, protected readonly concurrency: number = 3) {\n    super();\n  }\n\n  public setSecurity(security: Security): void {\n    debug('Set security %O', security);\n    this.security = security;\n  }\n\n  public setApikey(apikey: string): void {\n    debug(`Set apikey to ${apikey}`);\n    this.apikey = apikey;\n  }\n\n  public setTimeout(timeout: number): void {\n    debug(`Set request timeout to ${timeout}`);\n    this.timeout = timeout;\n  }\n\n  public setRetryConfig(cfg: FsRetryConfig) {\n    debug(`Set retry config to ${cfg}`);\n    this.retryConfig = cfg;\n  }\n\n  public setUrl(url: string): void {\n    debug(`Set upload url to ${url}`);\n    this.url = url;\n  }\n\n  public setUploadTags(tags: UploadTags) {\n    debug(`Set tags to %O`, tags);\n    this.uploadTags = tags;\n  }\n\n  /**\n   * Set state of checking file integrity\n   * @param state\n   */\n  public setIntegrityCheck(state) {\n    this.integrityCheck = state;\n  }\n\n  /**\n   * Sets upload mode\n   *\n   * @param {UploadMode} mode\n   * @param {boolean} [lock=false]\n   * @returns\n   * @memberof MultipartUploader\n   */\n  public setUploadMode(mode: UploadMode, lock: boolean = false): void {\n    // this shouldnt happend but for safety reasons if will stay\n    /* istanbul ignore next */\n    if (this.isModeLocked === true) {\n      debug(`Cannot switch mode to ${mode}. Locked! Probably mode is not supported at this apikey`);\n      return;\n    }\n\n    this.isModeLocked = lock;\n\n    debug(`Set upload mode to ${mode}`);\n\n    this.uploadMode = mode;\n  }\n\n  /**\n   * Set upload part size\n   * if part size is smaller than minimum 5mb it will throw error\n   *\n   * @param {number} size\n   * @returns {void}\n   * @memberof S3Uploader\n   */\n  public setPartSize(size: number): void {\n    if (this.uploadMode !== UploadMode.DEFAULT) {\n      debug('Cannot set part size because upload mode is other than default. ');\n      return;\n    }\n\n    debug(`Set part size to ${size}`);\n\n    if (size < MIN_PART_SIZE) {\n      throw new FilestackError('Minimum part size is 5MB');\n    }\n\n    this.partSize = size;\n  }\n\n  /**\n   * Returns current part size\n   */\n  public getPartSize() {\n    return this.partSize;\n  }\n\n  /**\n   * Set start part size for ii\n   *\n   * @param {number} size\n   * @memberof S3Uploader\n   */\n  public setIntelligentChunkSize(size: number): void {\n    debug(`Set inteligent chunk size to ${size}`);\n    if (size < MIN_CHUNK_SIZE) {\n      throw new FilestackError(`Minimum intelligent chunk size is ${MIN_CHUNK_SIZE}`);\n    }\n    this.intelligentChunkSize = size;\n  }\n\n  /**\n   * Returns intelligent chunk size\n   */\n  public getIntelligentChunkSize(): number {\n    return this.intelligentChunkSize;\n  }\n\n  /**\n   * Returns filestack upload url\n   *\n   * @private\n   * @returns\n   * @memberof MultipartUploader\n   */\n  public getUrl(): string {\n    if (!this.url) {\n      throw new FilestackError('Upload url not set');\n    }\n\n    return this.url;\n  }\n\n  /**\n   * Pause upload queue\n   *\n   * @memberof MultipartUploader\n   */\n  public abstract pause(): void;\n  /**\n   * resume upload queue if its paused\n   *\n   * @memberof MultipartUploader\n   */\n  public abstract resume(): void;\n\n  /**\n   * Aborts queue (all pending requests with will be aborted)\n   *\n   * @memberof MultipartUploader\n   */\n  public abstract abort(msg?: string): void;\n\n  public abstract addFile(file: File): string;\n\n  public abstract async execute(): Promise<any>;\n}\n", "/*\n * Copyright (c) 2019 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport Debug from 'debug';\nimport PQueue from 'p-queue';\n\nimport { FilestackError, FilestackErrorType } from './../../../../filestack_error';\nimport { FsCancelToken, FsRequest, FsRequestError, FsRequestErrorCode, FsResponse } from './../../../request';\nimport { shouldRetry } from './../../../request/helpers';\nimport { filterObject, uniqueId, uniqueTime } from './../../../utils';\nimport { File, FilePart, FilePartMetadata, FileState } from './../file';\nimport { StoreUploadOptions } from './../types';\nimport { DEFAULT_STORE_LOCATION, INTELLIGENT_CHUNK_SIZE, MIN_CHUNK_SIZE, UploaderAbstract, UploadMode } from './abstract';\n\nconst debug = Debug('fs:upload:s3');\n\nconst COMPLETE_TIMEOUT = 1000 * 1;\n\nexport interface UploadPart extends FilePartMetadata {\n  etag?: string;\n  offset?: number;\n  progress?: number;\n}\n\nexport interface UploadPayload {\n  file: File;\n  parts: UploadPart[];\n  handle?: string;\n  uri?: string;\n  region?: string;\n  upload_id?: number;\n  location_url?: string;\n  location_region?: string;\n}\n\nexport class S3Uploader extends UploaderAbstract {\n  private partsQueue;\n  private cancelToken: FsCancelToken; // global cancel token for all requests\n\n  private payloads: { [key: string]: UploadPayload } = {};\n\n  constructor(storeOptions: StoreUploadOptions, concurrency?) {\n    super(storeOptions, concurrency);\n\n    this.partsQueue = new PQueue({\n      autoStart: false,\n      concurrency: this.concurrency,\n    });\n\n    this.cancelToken = new FsCancelToken();\n  }\n\n  /**\n   * Pause upload queue\n   *\n   * @memberof S3Uploader\n   */\n  public pause(): void {\n    this.partsQueue.pause();\n  }\n\n  /**\n   * resume upload queue if its paused\n   *\n   * @memberof S3Uploader\n   */\n  public resume(): void {\n    /* istanbul ignore next */\n    if (this.partsQueue.isPaused) {\n      this.partsQueue.start();\n    }\n  }\n\n  /**\n   * Aborts queue (all pending requests with will be aborted)\n   *\n   * @memberof S3Uploader\n   */\n  public abort(msg?: string): void {\n    this.partsQueue.pause();\n    this.partsQueue.clear();\n\n    this.cancelToken.cancel(msg || 'Aborted by user');\n  }\n\n  /**\n   * Execute all queued files\n   *\n   * @returns {Promise<any>}\n   * @memberof S3Uploader\n   */\n  public async execute(): Promise<any> {\n    const tasks = Object.keys(this.payloads).map(\n      id =>\n        new Promise(async resolve => {\n          try {\n            await this.startRequest(id);\n            await this.prepareParts(id);\n            await this.startPartsQueue(id);\n            await this.completeRequest(id);\n          } catch (e) {\n            /* istanbul ignore next */\n            this.emit('error', e);\n            debug(`[${id}] File upload failed. %O, \\nDetails: %O `, e.message, e.details);\n          }\n\n          const file = this.getPayloadById(id).file;\n\n          // release file buffer\n          file.release();\n\n          // cleanup payloads\n          delete this.payloads[id];\n\n          resolve(file);\n        })\n    );\n\n    return Promise.all(tasks);\n  }\n\n  /**\n   * Add file to upload queue\n   *\n   * @param {File} file\n   * @returns\n   * @memberof S3Uploader\n   */\n  public addFile(file: File): string {\n    debug('Add file to queue: \\n %o', file);\n\n    const id = `${uniqueId(15)}_${uniqueTime()}`;\n\n    file.status = FileState.INIT;\n\n    // split file into parts and set it as waiting\n    this.payloads[id] = {\n      file,\n      parts: [],\n    };\n\n    return id;\n  }\n\n  /**\n   * Returns host for upload (region based)\n   *\n   * @private\n   * @returns\n   * @memberof S3Uploader\n   */\n  private getUploadUrl(id: string): string {\n    const { location_url } = this.getDefaultFields(id, ['location_url']);\n    return location_url.indexOf('http') === 0 ? location_url : `https://${location_url}`;\n  }\n\n  /**\n   * Returns formatted store options\n   *\n   * @private\n   * @returns\n   * @memberof S3Uploader\n   */\n  private getStoreOptions(id: string): StoreUploadOptions {\n    let options = {\n      location: DEFAULT_STORE_LOCATION, // this parameter is required, if not set use default one\n      ...this.storeOptions,\n    };\n\n    if (this.storeOptions.disableStorageKey) {\n      const payload = this.getPayloadById(id);\n\n      if (options.path && options.path.substr(-1) !== '/') {\n        options.path = `${options.path}/`;\n      }\n\n      options.path = `${options.path ? options.path : '/'}${payload.file.name}`;\n\n      delete options.disableStorageKey;\n    }\n\n    return options;\n  }\n\n  /**\n   * Returns all default fields for filestack requests\n   *\n   * @private\n   * @returns\n   * @memberof S3Uploader\n   */\n  private getDefaultFields(id: string, requiredFields: string[], fiiFallback: boolean = false) {\n    const payload = this.getPayloadById(id);\n\n    let fields = {\n      ...this.security,\n      apikey: this.apikey,\n      uri: payload.uri,\n      location_url: payload.location_url,\n      upload_id: payload.upload_id,\n      region: payload.region,\n    };\n\n    if (this.uploadMode === UploadMode.INTELLIGENT || (this.uploadMode === UploadMode.FALLBACK && fiiFallback)) {\n      fields['fii'] = true;\n    }\n\n    return {\n      ...filterObject(fields, requiredFields),\n      store: this.getStoreOptions(id),\n    };\n  }\n\n  /**\n   * Returns default headers needed for filestack request\n   *\n   * @private\n   * @returns\n   * @memberof S3Uploader\n   */\n  private getDefaultHeaders(id: string) {\n    let headers = {};\n    const file = this.getPayloadById(id);\n\n    if (file.location_region) {\n      headers['Filestack-Upload-Region'] = file.location_region;\n    }\n\n    return headers;\n  }\n\n  private getPayloadById(id: string): UploadPayload {\n    return this.payloads[id];\n  }\n\n  /**\n   * Split file onto parts for uploading with multipart mechanism and setup start\n   *\n   * @private\n   * @memberof S3Uploader\n   */\n  private prepareParts(id: string): Promise<void> {\n    const file = this.getPayloadById(id).file;\n\n    // for intelligent or fallback mode we cant overwrite part size - requires 8MB\n    if ([UploadMode.INTELLIGENT, UploadMode.FALLBACK].indexOf(this.uploadMode) > -1) {\n      this.partSize = INTELLIGENT_CHUNK_SIZE;\n    }\n\n    const partsCount = file.getPartsCount(this.partSize);\n\n    const parts = [];\n\n    for (let i = 0; i < partsCount; i++) {\n      parts[i] = {\n        ...file.getPartMetadata(i, this.partSize),\n        offset: 0,\n      };\n    }\n\n    // split file into parts and set it as waiting\n    this.payloads[id].parts = parts;\n\n    return Promise.resolve();\n  }\n\n  /**\n   * Make start request for getting needed upload fields\n   *\n   * @private\n   * @returns {Promise<any>}\n   * @memberof S3Uploader\n   */\n  private startRequest(id: string): Promise<any> {\n    const payload = this.getPayloadById(id);\n\n    if (payload.file.size === 0) {\n      this.setPayloadStatus(id, FileState.FAILED);\n      return Promise.reject(new FilestackError(`Invalid file \"${payload.file.name}\" size - 0`, {}, FilestackErrorType.VALIDATION));\n    }\n\n    debug(`[${id}] Make start request`);\n    return FsRequest.post(\n      `${this.getUrl()}/multipart/start`,\n      {\n        filename: payload.file.name,\n        mimetype: payload.file.type,\n        size: payload.file.size,\n        ...this.getDefaultFields(id, ['apikey', 'policy', 'signature', 'fii'], true),\n      },\n      {\n        timeout: this.timeout,\n        cancelToken: this.cancelToken,\n        headers: this.getDefaultHeaders(id),\n        retry: this.retryConfig,\n      }\n    )\n      .then(({ data }) => {\n        if (!data || !data.location_url || !data.region || !data.upload_id || !data.uri) {\n          debug(`[${id}] Incorrect start response: \\n%O\\n`, data);\n          this.setPayloadStatus(id, FileState.FAILED);\n          return Promise.reject(new FilestackError('Incorrect start response', data, FilestackErrorType.REQUEST));\n        }\n\n        debug(`[${id}] Assign payload data: \\n%O\\n`, data);\n\n        this.updatePayload(id, data);\n\n        // ii is not enabled in backend switch back to default upload mode\n        if ([UploadMode.INTELLIGENT, UploadMode.FALLBACK].indexOf(this.uploadMode) > -1 && (!data.upload_type || data.upload_type !== 'intelligent_ingestion')) {\n          debug(`[${id}] Intelligent Ingestion is not enabled on account, switch back to regular upload and lock mode change`);\n          this.setUploadMode(UploadMode.DEFAULT, true);\n        }\n\n        return data;\n      })\n      .catch(err => {\n        debug(`[${id}] Start request error %O`, err);\n        this.setPayloadStatus(id, FileState.FAILED);\n\n        return this.rejectUpload('Cannot upload file. Start request failed', err);\n      });\n  }\n\n  /**\n   * Enqueue file parts to upload\n   *\n   * @private\n   * @returns\n   * @memberof S3Uploader\n   */\n  private async startPartsQueue(id: string): Promise<any> {\n    const payload = this.getPayloadById(id);\n    const parts = payload.parts;\n    const waitingLength = parts.length;\n\n    debug(`[${id}] Create uploading queue from file. parts count - %d`, waitingLength);\n\n    return new Promise(async (resolve, reject) => {\n      parts.forEach(part =>\n        this.partsQueue\n          .add(() => this.startPart(id, part.partNumber))\n          .catch(e => {\n            this.setPayloadStatus(id, FileState.FAILED);\n            debug(`[${id}] Failed to upload part %s`, e.message);\n\n            this.partsQueue.pause();\n            this.partsQueue.clear();\n            return reject(e);\n          })\n      );\n\n      debug(`[${id}] All tasks for %s enqueued. Start processing main upload queue`, id);\n      this.emit('start');\n      this.partsQueue.start();\n\n      resolve(await this.partsQueue.onIdle());\n    });\n  }\n\n  /**\n   * Decide if upload should be made using ii or regular upload\n   * It allows change upload mode during upload queue\n   *\n   * @private\n   * @param {number} partNumber\n   * @returns {Promise<any>}\n   * @memberof S3Uploader\n   */\n  private startPart(id: string, partNumber: number): Promise<any> {\n    debug(`[${id}] Start processing part ${partNumber} with mode ${this.uploadMode}`);\n\n    let payload = this.getPayloadById(id);\n\n    payload.file.status = FileState.PROGRESS;\n    return (this.uploadMode !== UploadMode.INTELLIGENT ? this.uploadRegular : this.uploadIntelligent).apply(this, [id, partNumber]);\n  }\n\n  /**\n   * Returns part data needed for upload\n   *\n   * @private\n   * @param {string} id - id of a currently uploading file\n   * @param {FilePart} part\n   * @returns\n   * @memberof S3Uploader\n   */\n  private getS3PartMetadata(id: string, part: FilePart, offset?: number): Promise<any> {\n    const url = this.getUploadUrl(id);\n\n    debug(`[${id}] Get data for part ${part.partNumber}, url ${url}, Md5: ${part.md5}, Size: ${part.size}`);\n\n    const data = {\n      ...this.getDefaultFields(id, ['apikey', 'uri', 'region', 'signature', 'policy', 'upload_id', 'fii']),\n      // method specific keys\n      part: part.partNumber + 1,\n      size: part.size,\n      offset,\n    };\n\n    if (this.integrityCheck && part.md5) {\n      data.md5 = part.md5;\n    }\n\n    return FsRequest.post(`${url}/multipart/upload`, data, {\n      headers: this.getDefaultHeaders(id),\n      cancelToken: this.cancelToken,\n      timeout: this.timeout,\n      retry: this.retryConfig,\n    }).catch(err => {\n      this.setPayloadStatus(id, FileState.FAILED);\n\n      return this.rejectUpload('Cannot get part metadata', err);\n    });\n  }\n\n  /**\n   * Regular multipart request to amazon\n   *\n   * @private\n   * @param {number} partNumber\n   * @returns {Promise<any>}\n   * @memberof S3Uploader\n   */\n  private async uploadRegular(id: string, partNumber: number): Promise<any> {\n    let payload = this.getPayloadById(id);\n    const partMetadata = payload.parts[partNumber];\n    let part = await payload.file.getPartByMetadata(partMetadata, this.integrityCheck);\n\n    const { data, headers } = await this.getS3PartMetadata(id, part);\n    debug(`[${id}] Received part ${partNumber} info body: \\n%O\\n headers: \\n%O\\n`, data, headers);\n    return FsRequest.put(data.url, part.buffer, {\n      cancelToken: this.cancelToken,\n      timeout: this.timeout,\n      headers: data.headers,\n      filestackHeaders: false,\n      // for now we cant test progress callback from upload\n      /* istanbul ignore next */\n      onProgress: (pr: ProgressEvent) => this.onProgressUpdate(id, partNumber, pr.loaded),\n      retry: this.retryConfig && this.uploadMode !== UploadMode.FALLBACK ? this.retryConfig : undefined,\n    })\n    .then(res => {\n      if (res.headers.etag) {\n        this.setPartETag(id, partNumber, res.headers.etag);\n      } else {\n        // release memory\n        part = null;\n        throw new FilestackError('Cannot upload file, check S3 bucket settings', 'Etag header is not exposed in CORS settings', FilestackErrorType.REQUEST);\n      }\n\n      debug(`[${id}] S3 Upload response headers for ${partNumber}: \\n%O\\n`, res.headers);\n\n      this.onProgressUpdate(id, partNumber, part.size);\n\n      // release memory\n      part = null;\n\n      return res;\n    })\n    .catch(err => {\n      const resp = err && err.response ? err.response : null;\n\n      /* istanbul ignore next */\n      if (resp && resp.status === 403) {\n        if (resp.data && resp.data.Error && resp.data.Error.code) {\n          let code = resp.data.Error.code;\n\n          if (Array.isArray(code)) {\n            code = code.pop();\n          }\n\n          switch (code) {\n            case 'RequestTimeTooSkewed':\n              return this.startPart(id, partNumber);\n            default:\n              return Promise.reject(new FilestackError('Cannot upload file', resp.data.Error, FilestackErrorType.REQUEST));\n          }\n        }\n      }\n\n      // release memory\n      part = null;\n\n      if (err instanceof FilestackError) {\n        return Promise.reject(err);\n      }\n      // reset upload progress on failed part\n      this.onProgressUpdate(id, partNumber, 0);\n\n      // if fallback, set upload mode to intelligent and restart current part\n      if ((this.uploadMode === UploadMode.FALLBACK && !this.isModeLocked) || this.uploadMode === UploadMode.INTELLIGENT) {\n        debug(`[${id}] Regular upload failed. Switching to intelligent ingestion mode`);\n        this.setUploadMode(UploadMode.INTELLIGENT);\n        // restart part\n        return this.startPart(id, partNumber);\n      }\n\n      return this.rejectUpload('Cannot upload file part', err);\n    });\n  }\n\n  /**\n   * Upload file using intelligent mechanism\n   *\n   * @private\n   * @param {string} id\n   * @param {number} partNumber\n   * @returns {Promise<any>}\n   * @memberof S3Uploader\n   */\n  private async uploadIntelligent(id: string, partNumber: number): Promise<any> {\n    return this.uploadNextChunk(id, partNumber).then(() => this.commitPart(id, partNumber));\n  }\n\n  /**\n   * Recursively upload file in chunk mode (intelligent ingession)\n   *\n   * @private\n   * @param {string} id\n   * @param {number} partNumber\n   * @param {number} chunkSize\n   * @returns\n   * @memberof S3Uploader\n   */\n  private async uploadNextChunk(id: string, partNumber: number, chunkSize: number = this.intelligentChunkSize) {\n    const payload = this.getPayloadById(id);\n    let part = payload.parts[partNumber];\n    chunkSize = Math.min(chunkSize, part.size - part.offset);\n\n    let chunk = await payload.file.getChunkByMetadata(part, part.offset, chunkSize, this.integrityCheck);\n\n    debug(\n      `[${id}] PartNum: ${partNumber}, PartSize: ${part.size}, StartByte: ${part.startByte}, Offset: ${part.offset}, ChunkSize: ${chunk.size},\n       Left: ${part.size - part.offset - chunk.size}`\n    );\n\n    // catch error for debug purposes\n    const { data } = await this.getS3PartMetadata(id, chunk, part.offset).catch(err => {\n      debug(`[${id}] Getting chunk data for ii failed %O, Chunk size: ${chunkSize}, offset ${part.offset}, part ${partNumber}`, err);\n      return Promise.reject(err);\n    });\n\n    return FsRequest.put(data.url, chunk.buffer, {\n      cancelToken: this.cancelToken,\n      timeout: this.timeout,\n      headers: data.headers,\n      filestackHeaders: false,\n      // for now we cant test progress callback from upload\n      /* istanbul ignore next */\n      onProgress: (pr: ProgressEvent) => part ? this.onProgressUpdate(id, partNumber, part.offset + pr.loaded) : null,\n    })\n      .then(res => {\n        this.onProgressUpdate(id, partNumber, part.offset + chunk.size);\n        const newOffset = Math.min(part.offset + chunkSize, part.size);\n        debug(`[${id}] S3 Chunk uploaded! offset: ${part.offset}, part ${partNumber}! response headers for ${partNumber}: \\n%O\\n`, res.headers);\n        this.setPartData(id, partNumber, 'offset', newOffset);\n\n        // if all chunks was uploaded then return resolve\n        if (newOffset === part.size) {\n          return Promise.resolve(res);\n        }\n\n        // release memory\n        part = null;\n        chunk = null;\n\n        return this.uploadNextChunk(id, partNumber, chunkSize);\n      })\n      .catch(err => {\n        const resp = err && err.response ? err.response : null;\n        /* istanbul ignore next */\n        if (resp && resp.status === 403) {\n          if (resp.data && resp.data.Error && resp.data.Error.code) {\n            let code = resp.data.Error.code;\n\n            if (Array.isArray(code)) {\n              code = code.pop();\n            }\n\n            switch (code) {\n              case 'RequestTimeTooSkewed':\n                return this.startPart(id, partNumber);\n              default:\n                return Promise.reject(new FilestackError('Cannot upload file', resp.data.Error, FilestackErrorType.REQUEST));\n            }\n          }\n        }\n\n        // reset progress on failed upload\n        this.onProgressUpdate(id, partNumber, part.offset);\n        const nextChunkSize = Math.ceil(chunkSize / 2);\n\n        if (nextChunkSize < MIN_CHUNK_SIZE) {\n          debug(`[${id}] Minimal chunk size limit. Upload file failed!`);\n          return Promise.reject(new FilestackError('Min chunk size reached', err.data, FilestackErrorType.REQUEST));\n        }\n\n        if (shouldRetry(err)) {\n          debug(`[${id}] Request network error. Retry with new chunk size: ${nextChunkSize}`);\n          return this.uploadNextChunk(id, partNumber, nextChunkSize);\n        }\n\n        // release memory\n        part = null;\n        chunk = null;\n\n        return this.rejectUpload('Cannot upload file part (FII)', err);\n      });\n  }\n\n  /**\n   * Commit after upload all chunks of the part in ii mode\n   *\n   * @private\n   * @param {string} id\n   * @param {FilePart} part\n   * @returns\n   * @memberof S3Uploader\n   */\n  private commitPart(id: string, partNumber: number) {\n    const payload = this.getPayloadById(id);\n    const part = payload.parts[partNumber];\n\n    return FsRequest.post(\n      `${this.getUploadUrl(id)}/multipart/commit`,\n      {\n        ...this.getDefaultFields(id, ['apikey', 'region', 'upload_id', 'policy', 'signature', 'uri']),\n        size: payload.file.size,\n        part: part.partNumber + 1,\n      },\n      {\n        cancelToken: this.cancelToken,\n        timeout: this.timeout,\n        headers: this.getDefaultHeaders(id),\n        retry: this.retryConfig,\n      }\n    )\n      .then((res: FsResponse) => {\n        debug(`[${id}] Commit Part number ${part.partNumber}. Response: %O`, res.data);\n\n        return res;\n      })\n      .catch(err => {\n        return this.rejectUpload('Cannot commit file part metadata', err);\n      });\n  }\n\n  /**\n   * Complete request to merge all parts and get file handle etc\n   *\n   * @private\n   * @returns\n   * @memberof S3Uploader\n   */\n  private completeRequest(id: string): Promise<any> {\n    const payload = this.getPayloadById(id);\n    let parts = [];\n\n    debug(`[${id}] Run complete request`);\n\n    const partsHandle = payload.parts;\n    const partLen = partsHandle.length;\n\n    for (let i = 0; i < partLen; i++) {\n      if (partsHandle[i].etag) {\n        parts.push({ part_number: i + 1, etag: partsHandle[i].etag });\n      }\n    }\n\n    debug(`[${id}] Etags %O`, parts);\n\n    return FsRequest.post(\n      `${this.getUploadUrl(id)}/multipart/complete`,\n      {\n        ...this.getDefaultFields(id, ['apikey', 'policy', 'signature', 'uri', 'region', 'upload_id', 'fii'], true),\n        // method specific keys\n        filename: payload.file.name,\n        mimetype: payload.file.type,\n        size: payload.file.size,\n        upload_tags: this.uploadTags && Object.keys(this.uploadTags).length ? this.uploadTags : undefined,\n        parts: parts.length ? parts : undefined,\n      },\n      {\n        timeout: this.timeout,\n        cancelToken: this.cancelToken,\n        headers: this.getDefaultHeaders(id),\n        retry: this.retryConfig,\n      }\n    )\n      .then(res => {\n        // if parts hasnt been merged, retry complete request again\n        if (res.status === 202) {\n          return new Promise((resolve, reject) => {\n            setTimeout(\n              () =>\n                this.completeRequest(id)\n                  .then(resolve)\n                  .catch(reject),\n              COMPLETE_TIMEOUT\n            );\n          });\n        }\n\n        // update file object\n        let file = this.getPayloadById(id).file;\n\n        file.handle = res.data.handle;\n        file.url = res.data.url;\n        file.container = res.data.container;\n        file.key = res.data.key;\n        file.uploadTags = res.data.upload_tags;\n        file.workflows = res.data.workflows;\n        file.status = res.data.status;\n\n        return file;\n      })\n      .catch(err => {\n        this.setPayloadStatus(id, FileState.FAILED);\n\n        return this.rejectUpload('Cannot complete file', err);\n      });\n  }\n\n  /**\n   * UUpgrade upload progress and run progress event\n   *\n   * @private\n   * @param {string} id\n   * @param {number} partNumber\n   * @param {number} loaded\n   * @memberof S3Uploader\n   */\n  private onProgressUpdate(id: string, partNumber: number, loaded: number) {\n    this.setPartData(id, partNumber, 'progress', loaded);\n    this.emitProgress();\n  }\n\n  /**\n   * Emits normalized progress event\n   *\n   * @private\n   * @memberof S3Uploader\n   */\n  private emitProgress() {\n    let totalSize = 0;\n    let totalBytes = 0;\n\n    let filesProgress = {};\n    for (let i in this.payloads) {\n      const payload = this.payloads[i];\n      // omit all failed files in progress event\n      // this shouldn't happend because of promises rejection in execute. Left to be sure\n      /* istanbul ignore next */\n      if (payload.file.status === FileState.FAILED) {\n        continue;\n      }\n\n      const totalParts = payload.parts.map(p => p.progress || 0).reduce((a, b) => a + b, 0);\n\n      totalBytes = totalBytes + totalParts;\n\n      filesProgress[i] = {\n        totalBytes: totalParts,\n        totalPercent: Math.round((totalParts * 100) / payload.file.size) || 0,\n      };\n\n      totalSize = totalSize + payload.file.size;\n    }\n\n    const res = {\n      totalBytes: totalBytes || 0,\n      totalPercent: Math.round((totalBytes * 100) / totalSize) || 0,\n      files: filesProgress,\n    };\n\n    debug(`Upload progress %O`, res);\n    this.emit('progress', res);\n  }\n\n  /**\n   * Apply provided data to given payload\n   *\n   * @private\n   * @param {string} id\n   * @param {*} data\n   * @memberof S3Uploader\n   */\n  private updatePayload(id: string, data: any) {\n    this.payloads[id] = {\n      ...this.payloads[id],\n      ...data,\n    };\n  }\n\n  /**\n   * Sets etag for part\n   *\n   * @private\n   * @param {number} partNumber\n   * @param {string} etag\n   * @memberof S3Uploader\n   */\n  private setPartETag(id: string, partNumber: number, etag: string) {\n    debug(`[${id}] Set ${etag} etag for part ${partNumber}`);\n    this.getPayloadById(id).parts[partNumber].etag = etag;\n  }\n\n  /**\n   * Sets part value for a key\n   *\n   * @private\n   * @param {number} partNumber\n   * @param {string} etag\n   * @memberof S3Uploader\n   */\n  private setPartData(id: string, partNumber: number, key: string, value: any) {\n    debug(`[${id}] Set ${key} = ${value} for part ${partNumber}`);\n\n    const payload = this.getPayloadById(id);\n\n    /* istanbul ignore next */\n    if (!payload) {\n      debug(`[${id}] Cannot set ${key} = ${value} for part ${partNumber}`);\n      return;\n    }\n\n    payload.parts[partNumber][key] = value;\n  }\n\n  /**\n   * Set payload file state\n   *\n   * @param id\n   * @param status\n   */\n  private setPayloadStatus(id: string, status: FileState) {\n    debug(`[${id}] Set payload status to ${status}`);\n    /* istanbul ignore next: additional check in case if file will be deleted before setting status */\n    if (!this.payloads[id]) {\n      return;\n    }\n\n    this.payloads[id].file.status = status;\n  }\n\n  /**\n   * Returns error details if response exists\n   *\n   * @param err\n   */\n  private parseError(err: FsRequestError) {\n    if (!err.response) {\n      return {};\n    }\n\n    return {\n      code: err.response.status,\n      data: err.response.data,\n      headers: err.response.headers,\n    };\n  }\n\n  private rejectUpload(message: string, err: FsRequestError) {\n    if (err instanceof FsRequestError && err.code === FsRequestErrorCode.ABORTED) {\n      return Promise.reject(new FilestackError(message, { reason: err.message }, FilestackErrorType.ABORTED));\n    }\n    return Promise.reject(new FilestackError(message, this.parseError(err), FilestackErrorType.REQUEST));\n  }\n}\n", "/*\n * Copyright (c) 2019 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { EventEmitter } from 'eventemitter3';\nimport { Session, Security } from '../../client';\nimport { S3Uploader } from './uploaders/s3';\nimport { FilestackError, FilestackErrorType } from './../../../filestack_error';\nimport { SanitizeOptions } from './../../utils';\n\nimport { UploadOptions, StoreUploadOptions } from '../upload/types';\nimport { getFile, InputFile } from './file_tools';\nimport { FileState, UploadTags } from './file';\nimport { UploadMode } from './uploaders/abstract';\nimport { getValidator, UploadParamsSchema, StoreParamsSchema } from './../../../schema';\n\nexport interface ProgressEvent {\n  totalPercent: number;\n  totalBytes: number;\n  files?: { (key: string): ProgressEvent };\n}\n\nconst DEFAULT_PROGRESS_INTERVAL = 1000;\n\nconst normalizeProgress = (current, last) => {\n  current.totalBytes = Math.max(current.totalBytes, last.totalBytes);\n  current.totalPercent = Math.max(current.totalPercent, last.totalPercent);\n\n  return current;\n};\n\n/**\n * Uploader main class for now its supporting only s3 upload type\n *\n * @export\n * @class Upload\n */\nexport class Upload extends EventEmitter {\n\n  /**\n   * Uploader instance\n   *\n   * @private\n   * @type {S3Uploader}\n   * @memberof Upload\n   */\n  private uploader: S3Uploader;\n\n  /**\n   * Should we overwrite file name\n   *\n   * @private\n   * @memberof Upload\n   */\n  private overrideFileName;\n\n  private lastProgress: ProgressEvent = {\n    totalBytes: 0,\n    totalPercent: 0,\n  };\n\n  private progressIntervalHandler;\n  private sanitizerOptions: SanitizeOptions;\n\n  constructor(private readonly options: UploadOptions = {}, private storeOptions: StoreUploadOptions = {}) {\n    super();\n\n    // do not delete filename from original options reference - copy it first\n    this.storeOptions = Object.assign({}, storeOptions);\n\n    const validateRes = getValidator(UploadParamsSchema)(options);\n\n    if (validateRes.errors.length) {\n      throw new FilestackError(`Invalid upload params`, validateRes.errors, FilestackErrorType.VALIDATION);\n    }\n\n    const storeValidateRes = getValidator(StoreParamsSchema)(storeOptions);\n    if (storeValidateRes.errors.length) {\n      throw new FilestackError(`Invalid store upload params`, storeValidateRes.errors, FilestackErrorType.VALIDATION);\n    }\n\n    if (storeOptions.filename) {\n      this.overrideFileName = storeOptions.filename;\n      delete this.storeOptions.filename;\n    }\n\n    if (this.storeOptions.sanitizer) {\n      this.sanitizerOptions = this.storeOptions.sanitizer;\n      delete this.storeOptions.sanitizer;\n    }\n\n    this.uploader = new S3Uploader(this.storeOptions, options.concurrency);\n\n    this.uploader.setRetryConfig({\n      retry: options.retry || 10,\n      onRetry: options.onRetry, // @todo bind file to retry in s3 uploader\n      retryFactor: options.retryFactor || 2,\n      retryMaxTime: options.retryMaxTime || 15000,\n    });\n\n    this.uploader.setTimeout(options.timeout || 120000);\n\n    if (options.partSize) {\n      this.uploader.setPartSize(options.partSize);\n    }\n\n    if (options.intelligentChunkSize) {\n      this.uploader.setIntelligentChunkSize(options.intelligentChunkSize);\n    }\n\n    if (options.disableIntegrityCheck) {\n      this.uploader.setIntegrityCheck(false);\n    }\n\n    if (options.intelligent) {\n      this.uploader.setUploadMode(options.intelligent === 'fallback' ? UploadMode.FALLBACK : UploadMode.INTELLIGENT);\n    }\n\n    this.uploader.setUploadTags(options.tags);\n\n    this.uploader.on('start', () => this.emit('start'));\n    this.uploader.on('error', (e) => this.emit('error', e));\n    this.uploader.on('progress', this.handleProgress.bind(this));\n  }\n\n  /**\n   * Set session object to uploader\n   *\n   * @deprecated\n   * @param {Session} session\n   * @memberof Upload\n   */\n  setSession(session: Session) {\n    this.uploader.setApikey(session.apikey);\n\n    if (session.policy && session.signature) {\n      this.uploader.setSecurity({\n        policy: session.policy,\n        signature: session.signature,\n      });\n    }\n\n    this.uploader.setUrl(session.urls.uploadApiUrl);\n  }\n\n  /**\n   * Set cancel token to controll upload flow\n   *\n   * @param {*} token\n   * @returns\n   * @memberof Upload\n   */\n  public setToken(token: any) {\n    if (!token || token !== Object(token)) {\n      throw new Error('Incorrect upload token. Must be instance of object');\n    }\n\n    token.pause = () => this.uploader.pause();\n    token.resume = () => this.uploader.resume();\n    token.cancel = () => this.uploader.abort();\n\n    return token;\n  }\n\n  /**\n   * Sets security to uploader instance\n   *\n   * @param {Security} security\n   * @memberof Upload\n   */\n  public setSecurity(security: Security) {\n    this.uploader.setSecurity(security);\n  }\n\n  /**\n   * Set upload tags\n   *\n   * @param {Tags} tags\n   * @memberof Upload\n   */\n  public setUploadTags(tags: UploadTags) {\n    this.uploader.setUploadTags(tags);\n  }\n\n  /**\n   * Upload single file\n   *\n   * @param {(InputFile)} file\n   * @returns {Promise<any>}\n   * @memberof Upload\n   */\n  async upload(input: InputFile): Promise<any> {\n\n    const f = await getFile(input, this.sanitizerOptions);\n    f.customName = this.overrideFileName;\n    this.uploader.addFile(f);\n\n    this.startProgressInterval();\n    const res = (await this.uploader.execute()).shift();\n    this.stopProgressInterval();\n\n    this.uploader.removeAllListeners();\n\n    if (res.status === FileState.FAILED) {\n      return Promise.reject(res);\n    }\n\n    return Promise.resolve(res);\n  }\n\n  /**\n   * Upload multiple files at once\n   *\n   * @param {(InputFile[])} input\n   * @returns {Promise<any>}\n   * @memberof Upload\n   */\n  async multiupload(input: InputFile[]): Promise<any> {\n    for (let i in input) {\n      /* istanbul ignore next */\n      if (!input.hasOwnProperty(i)) {\n        continue;\n      }\n\n      const f = await getFile(input[i], this.sanitizerOptions);\n      f.customName = this.overrideFileName;\n      this.uploader.addFile(f);\n    }\n\n    this.startProgressInterval();\n    const res = await this.uploader.execute();\n    this.stopProgressInterval();\n\n    this.uploader.removeAllListeners();\n\n    return Promise.resolve(res);\n  }\n\n  /**\n   * RUn progress with userdefined interval\n   *\n   * @private\n   * @returns\n   * @memberof Upload\n   */\n  private startProgressInterval() {\n    if (typeof this.options.onProgress !== 'function') {\n      return;\n    }\n\n    this.progressIntervalHandler = setInterval(() => {\n      this.options.onProgress(this.lastProgress);\n    }, this.options.progressInterval || DEFAULT_PROGRESS_INTERVAL);\n\n    this.options.onProgress(this.lastProgress);\n  }\n\n  /**\n   * Stop progress interval after upload\n   *\n   * @private\n   * @memberof Upload\n   */\n  private stopProgressInterval() {\n    clearInterval(this.progressIntervalHandler);\n  }\n\n  /**\n   * Handle upload interval and normalize values\n   *\n   * @private\n   * @param {ProgressEvent} progress\n   * @memberof Upload\n   */\n  private handleProgress(progress: ProgressEvent) {\n    // get max progress data to avoid progress jumps on any part error\n    progress = normalizeProgress(progress, this.lastProgress);\n\n    if (this.lastProgress.files) {\n      for (let i in progress.files) {\n        if (this.lastProgress.files[i]) {\n          progress.files[i] = normalizeProgress(progress.files[i], this.lastProgress.files[i]);\n        }\n      }\n    }\n\n    this.lastProgress = progress;\n  }\n}\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Security, Session } from '../client';\nimport { removeEmpty } from '../utils';\nimport { getValidator, PreviewParamsSchema } from './../../schema';\nimport { FilestackError, FilestackErrorType } from './../../filestack_error';\n\nexport interface PreviewOptions {\n  /**\n   * Id for DOM element to embed preview into.\n   * Omit this to open the preview in a new tab\n   */\n  id: string;\n  /**\n   * URL to custom CSS\n   */\n  css?: string;\n}\n\n/**\n * Returns file preview url\n *\n * @private\n * @param session\n * @param handle\n * @param opts\n * @param security\n */\nexport const getUrl = (\n  session: Session,\n  handle: string,\n  opts?: any,\n  security?: Security\n) => {\n  const options = { ...opts };\n  const policy = security && security.policy || session.policy;\n  const signature = security && security.signature || session.signature;\n  const hasSecurity = signature && policy;\n  const baseUrl = [session.urls.cdnUrl];\n  const css = options.css && encodeURIComponent(`\"${options.css}\"`);\n  const previewTask = css ? `preview=css:${css}` : 'preview';\n\n  // @todo move to utils?\n  if (handle.indexOf('src:') !== -1) {\n    baseUrl.push(`${session.apikey}/${previewTask}`);\n  } else {\n    baseUrl.push(previewTask);\n  }\n  if (hasSecurity) {\n    baseUrl.push(`security=policy:${policy},signature:${signature}`);\n  }\n\n  baseUrl.push(handle);\n  return baseUrl.join('/');\n};\n\n/**\n * Appends image preview into page\n *\n * @private\n * @param session\n * @param handle\n * @param opts\n */\nexport const preview = (session: Session, handle?: string, opts?: PreviewOptions) => {\n  if (!handle || typeof handle !== 'string') {\n    throw new Error('A valid Filestack handle or storage alias is required for preview');\n  }\n\n  const validateRes = getValidator(PreviewParamsSchema)(opts);\n\n  if (validateRes.errors.length) {\n    throw new FilestackError(`Invalid preview params`, validateRes.errors, FilestackErrorType.VALIDATION);\n  }\n\n  const options = removeEmpty(opts || {});\n  const url = getUrl(session, handle, options);\n\n  if (options && options.id) {\n    const id = options.id;\n    const iframe = document.createElement('iframe');\n    const domElement = document.getElementById(id);\n\n    iframe.src = url;\n    iframe.width = '100%';\n    iframe.height = '100%';\n\n    if (!domElement) {\n      throw new Error(`DOM Element with id \"${id}\" not found.`);\n    }\n    return domElement.appendChild(iframe);\n  }\n  return window.open(url, handle);\n};\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport Debug from 'debug';\nimport { STORE_TYPE } from './store';\nvar debug = Debug('fs:storage');\nvar Store = /** @class */ (function () {\n    function Store() {\n        this.availableTypes = [];\n        if (window.localStorage !== undefined) {\n            this.availableTypes.push(STORE_TYPE.LOCAL);\n            debug('Local storage exists');\n        }\n        if (window.sessionStorage !== undefined) {\n            this.availableTypes.push(STORE_TYPE.SESSION);\n            debug('Session storage exists');\n        }\n        debug('availableTypes - %O', this.availableTypes);\n    }\n    Store.prototype.hasAccess = function (prefType) {\n        debug('Checking access to storage for %s. Available types: %O', prefType, this.availableTypes);\n        if (prefType) {\n            return this.availableTypes.indexOf(prefType) > -1;\n        }\n        return !!this.availableTypes.length;\n    };\n    Store.prototype.getItem = function (key, prefType) {\n        var store = this.getStore(prefType);\n        debug('getItem %s from %O', key, store);\n        if (!store) {\n            return undefined;\n        }\n        return store.getItem(key);\n    };\n    Store.prototype.setItem = function (key, value, prefType) {\n        var store = this.getStore(prefType);\n        debug('setItem %s to %O', key, store);\n        if (!store) {\n            return undefined;\n        }\n        return store.setItem(key, value);\n    };\n    Store.prototype.removeItem = function (key, prefType) {\n        var store = this.getStore(prefType);\n        debug('removeItem %s from %O', key, store);\n        if (!store) {\n            return undefined;\n        }\n        return store.removeItem(key);\n    };\n    Store.prototype.getStore = function (prefType) {\n        debug('get store with pref type - %s', prefType);\n        if (!this.hasAccess(prefType)) {\n            debug('User dont have access to any storage');\n            return undefined;\n        }\n        switch (prefType) {\n            case STORE_TYPE.LOCAL:\n                return window.localStorage;\n            case STORE_TYPE.SESSION:\n                return window.sessionStorage;\n            default:\n                // @ts-ignore\n                return window[this.availableTypes[0]];\n        }\n    };\n    return Store;\n}());\nexport { Store };\n\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvdXRpbHMvc3RvcmUuYnJvd3Nlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7O0dBZUc7QUFDSCxPQUFPLEtBQUssTUFBTSxPQUFPLENBQUM7QUFDMUIsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUVyQyxJQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUM7QUFFbEM7SUFJRTtRQUZRLG1CQUFjLEdBQUcsRUFBRSxDQUFDO1FBRzFCLElBQUksTUFBTSxDQUFDLFlBQVksS0FBSyxTQUFTLEVBQUU7WUFDckMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzNDLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1NBQy9CO1FBRUQsSUFBSSxNQUFNLENBQUMsY0FBYyxLQUFLLFNBQVMsRUFBRTtZQUN2QyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDN0MsS0FBSyxDQUFDLHdCQUF3QixDQUFDLENBQUM7U0FDakM7UUFFRCxLQUFLLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFTSx5QkFBUyxHQUFoQixVQUFpQixRQUFxQjtRQUNwQyxLQUFLLENBQUMsd0RBQXdELEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUUvRixJQUFJLFFBQVEsRUFBRTtZQUNaLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDbkQ7UUFFRCxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQztJQUN0QyxDQUFDO0lBRU0sdUJBQU8sR0FBZCxVQUFlLEdBQVcsRUFBRSxRQUFxQjtRQUMvQyxJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3RDLEtBQUssQ0FBQyxvQkFBb0IsRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFeEMsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNWLE9BQU8sU0FBUyxDQUFDO1NBQ2xCO1FBRUQsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFTSx1QkFBTyxHQUFkLFVBQWUsR0FBVyxFQUFFLEtBQWEsRUFBRSxRQUFxQjtRQUM5RCxJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3RDLEtBQUssQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFdEMsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNWLE9BQU8sU0FBUyxDQUFDO1NBQ2xCO1FBRUQsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBRU0sMEJBQVUsR0FBakIsVUFBa0IsR0FBVyxFQUFFLFFBQXFCO1FBQ2xELElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEMsS0FBSyxDQUFDLHVCQUF1QixFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUUzQyxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ1YsT0FBTyxTQUFTLENBQUM7U0FDbEI7UUFFRCxPQUFPLEtBQUssQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVPLHdCQUFRLEdBQWhCLFVBQWlCLFFBQXFCO1FBQ3BDLEtBQUssQ0FBQywrQkFBK0IsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUVqRCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUM3QixLQUFLLENBQUMsc0NBQXNDLENBQUMsQ0FBQztZQUM5QyxPQUFPLFNBQVMsQ0FBQztTQUNsQjtRQUVELFFBQVEsUUFBUSxFQUFFO1lBQ2hCLEtBQUssVUFBVSxDQUFDLEtBQUs7Z0JBQ25CLE9BQU8sTUFBTSxDQUFDLFlBQVksQ0FBQztZQUM3QixLQUFLLFVBQVUsQ0FBQyxPQUFPO2dCQUNyQixPQUFPLE1BQU0sQ0FBQyxjQUFjLENBQUM7WUFDL0I7Z0JBQ0UsYUFBYTtnQkFDYixPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFZLENBQUM7U0FDcEQ7SUFDSCxDQUFDO0lBQ0gsWUFBQztBQUFELENBL0VBLEFBK0VDLElBQUEiLCJmaWxlIjoibGliL3V0aWxzL3N0b3JlLmJyb3dzZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE4IGJ5IEZpbGVzdGFjay5cbiAqIFNvbWUgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IERlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCB7IFNUT1JFX1RZUEUgfSBmcm9tICcuL3N0b3JlJztcblxuY29uc3QgZGVidWcgPSBEZWJ1ZygnZnM6c3RvcmFnZScpO1xuXG5leHBvcnQgY2xhc3MgU3RvcmUge1xuXG4gIHByaXZhdGUgYXZhaWxhYmxlVHlwZXMgPSBbXTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBpZiAod2luZG93LmxvY2FsU3RvcmFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmF2YWlsYWJsZVR5cGVzLnB1c2goU1RPUkVfVFlQRS5MT0NBTCk7XG4gICAgICBkZWJ1ZygnTG9jYWwgc3RvcmFnZSBleGlzdHMnKTtcbiAgICB9XG5cbiAgICBpZiAod2luZG93LnNlc3Npb25TdG9yYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuYXZhaWxhYmxlVHlwZXMucHVzaChTVE9SRV9UWVBFLlNFU1NJT04pO1xuICAgICAgZGVidWcoJ1Nlc3Npb24gc3RvcmFnZSBleGlzdHMnKTtcbiAgICB9XG5cbiAgICBkZWJ1ZygnYXZhaWxhYmxlVHlwZXMgLSAlTycsIHRoaXMuYXZhaWxhYmxlVHlwZXMpO1xuICB9XG5cbiAgcHVibGljIGhhc0FjY2VzcyhwcmVmVHlwZT86IFNUT1JFX1RZUEUpOiBib29sZWFuIHtcbiAgICBkZWJ1ZygnQ2hlY2tpbmcgYWNjZXNzIHRvIHN0b3JhZ2UgZm9yICVzLiBBdmFpbGFibGUgdHlwZXM6ICVPJywgcHJlZlR5cGUsIHRoaXMuYXZhaWxhYmxlVHlwZXMpO1xuXG4gICAgaWYgKHByZWZUeXBlKSB7XG4gICAgICByZXR1cm4gdGhpcy5hdmFpbGFibGVUeXBlcy5pbmRleE9mKHByZWZUeXBlKSA+IC0xO1xuICAgIH1cblxuICAgIHJldHVybiAhIXRoaXMuYXZhaWxhYmxlVHlwZXMubGVuZ3RoO1xuICB9XG5cbiAgcHVibGljIGdldEl0ZW0oa2V5OiBzdHJpbmcsIHByZWZUeXBlPzogU1RPUkVfVFlQRSkge1xuICAgIGNvbnN0IHN0b3JlID0gdGhpcy5nZXRTdG9yZShwcmVmVHlwZSk7XG4gICAgZGVidWcoJ2dldEl0ZW0gJXMgZnJvbSAlTycsIGtleSwgc3RvcmUpO1xuXG4gICAgaWYgKCFzdG9yZSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RvcmUuZ2V0SXRlbShrZXkpO1xuICB9XG5cbiAgcHVibGljIHNldEl0ZW0oa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIHByZWZUeXBlPzogU1RPUkVfVFlQRSkge1xuICAgIGNvbnN0IHN0b3JlID0gdGhpcy5nZXRTdG9yZShwcmVmVHlwZSk7XG4gICAgZGVidWcoJ3NldEl0ZW0gJXMgdG8gJU8nLCBrZXksIHN0b3JlKTtcblxuICAgIGlmICghc3RvcmUpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0b3JlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlSXRlbShrZXk6IHN0cmluZywgcHJlZlR5cGU/OiBTVE9SRV9UWVBFKSB7XG4gICAgY29uc3Qgc3RvcmUgPSB0aGlzLmdldFN0b3JlKHByZWZUeXBlKTtcbiAgICBkZWJ1ZygncmVtb3ZlSXRlbSAlcyBmcm9tICVPJywga2V5LCBzdG9yZSk7XG5cbiAgICBpZiAoIXN0b3JlKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiBzdG9yZS5yZW1vdmVJdGVtKGtleSk7XG4gIH1cblxuICBwcml2YXRlIGdldFN0b3JlKHByZWZUeXBlPzogU1RPUkVfVFlQRSk6IGZhbHNlIHwgU3RvcmFnZSB7XG4gICAgZGVidWcoJ2dldCBzdG9yZSB3aXRoIHByZWYgdHlwZSAtICVzJywgcHJlZlR5cGUpO1xuXG4gICAgaWYgKCF0aGlzLmhhc0FjY2VzcyhwcmVmVHlwZSkpIHtcbiAgICAgIGRlYnVnKCdVc2VyIGRvbnQgaGF2ZSBhY2Nlc3MgdG8gYW55IHN0b3JhZ2UnKTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgc3dpdGNoIChwcmVmVHlwZSkge1xuICAgICAgY2FzZSBTVE9SRV9UWVBFLkxPQ0FMOlxuICAgICAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgICAgIGNhc2UgU1RPUkVfVFlQRS5TRVNTSU9OOlxuICAgICAgICByZXR1cm4gd2luZG93LnNlc3Npb25TdG9yYWdlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gd2luZG93W3RoaXMuYXZhaWxhYmxlVHlwZXNbMF1dIGFzIFN0b3JhZ2U7XG4gICAgfVxuICB9XG59XG4iXX0=\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { removeEmpty } from '../utils';\nimport { StoreParams } from '../filelink';\nimport { ClientOptions, Session } from '../client';\nimport { FilestackError } from './../../filestack_error';\nimport { UploadTags } from './upload/file';\nimport { FsRequest, FsCancelToken } from '../request';\nimport { Store, STORE_TYPE } from './../utils/store';\n\n/**\n * @private\n */\nexport const PICKER_KEY = '__fs_picker_token';\n\n/**\n * key for picker callback url (specifies which tab will be opened after opening picker)\n * @private\n */\nexport const CALLBACK_URL_KEY = 'fs-tab';\n\n/**\n * @private\n */\nexport class CloudClient {\n  session: Session;\n  cloudApiUrl: string;\n\n  /**\n   * Returns flag if token should be cached in local storage\n   *\n   * @private\n   * @type {boolean}\n   * @memberof CloudClient\n   */\n  private cache: boolean = false;\n\n  /**\n   * Token returned from api for accessing clouds\n   *\n   * @private\n   * @type {string}\n   * @memberof CloudClient\n   */\n  private _token: string;\n\n  /**\n   * Store adapter instance\n   *\n   * @private\n   * @type {Store}\n   * @memberof CloudClient\n   */\n  private storeAdapter: Store;\n\n  constructor(session: Session, options?: ClientOptions) {\n    this.session = session;\n    this.storeAdapter = new Store();\n\n    this.cloudApiUrl = session.urls.cloudApiUrl;\n\n    if (options && options.sessionCache) {\n      this.cache = options.sessionCache;\n    }\n  }\n\n  get token() {\n    if (this.cache) {\n      const token = this.storeAdapter.getItem(PICKER_KEY, STORE_TYPE.LOCAL);\n      if (token) return token;\n    }\n\n    if (this.isInAppBrowser) {\n      return this.storeAdapter.getItem(PICKER_KEY, STORE_TYPE.SESSION);\n    }\n\n    return this._token;\n  }\n\n  set token(key) {\n    if (this.cache) {\n      this.storeAdapter.setItem(PICKER_KEY, key, STORE_TYPE.LOCAL);\n    }\n\n    if (this.isInAppBrowser) {\n      this.storeAdapter.setItem(PICKER_KEY, key, STORE_TYPE.SESSION);\n    }\n\n    this._token = key;\n  }\n\n  /**\n   * Return information is inappbrowser flag is set\n   *\n   * @readonly\n   * @memberof CloudClient\n   */\n  private get isInAppBrowser() {\n    if (this.session\n      && this.session.prefetch\n      && this.session.prefetch.settings\n      && this.session.prefetch.settings.inapp_browser) {\n      return this.session.prefetch.settings.inapp_browser;\n    }\n\n    return false;\n  }\n\n  list(clouds: any, cancelTokenInput?: any, accept?: string[] | string) {\n    const payload: any = {\n      apikey: this.session.apikey,\n      clouds,\n      flow: 'web',\n      token: this.token,\n    };\n\n    if (accept) {\n      if (!Array.isArray(accept)) {\n        accept = [accept];\n      }\n      // filtering mimetypes in clouds\n      payload.accept = accept;\n    }\n\n    if (this.isInAppBrowser) {\n      payload.appurl = this.currentAppUrl();\n    }\n\n    if (this.session.policy && this.session.signature) {\n      payload.policy = this.session.policy;\n      payload.signature = this.session.signature;\n    }\n\n    let options: any = {};\n\n    if (cancelTokenInput) {\n      const cancelToken = new FsCancelToken();\n      cancelTokenInput.cancel = cancelToken.cancel.bind(cancelToken);\n      options.cancelToken = cancelToken;\n    }\n\n    return FsRequest.post(`${this.cloudApiUrl}/folder/list`, payload, options).then(res => {\n      if (res.data && res.data.token) {\n        this.token = res.data.token;\n      }\n\n      return res.data;\n    });\n  }\n\n  store(name: string, path: string, options: StoreParams = {}, customSource: any = {}, cancelTokenInput?: any, uploadTags: UploadTags = null) {\n    // Default to S3\n    if (options.location === undefined) {\n      options.location = 's3';\n    }\n\n    const payload: any = {\n      apikey: this.session.apikey,\n      token: this.token,\n      flow: 'web',\n      upload_tags: uploadTags ? uploadTags : undefined,\n      clouds: {\n        [name]: {\n          path,\n          store: removeEmpty(options),\n        },\n      },\n    };\n\n    if (name === 'customsource' && customSource.customSourcePath) {\n      payload.clouds.customsource.customSourcePath = customSource.customSourcePath;\n    }\n\n    if (name === 'customsource' && customSource.customSourceContainer) {\n      payload.clouds.customsource.customSourceContainer = customSource.customSourceContainer;\n    }\n\n    if (this.session.policy && this.session.signature) {\n      payload.policy = this.session.policy;\n      payload.signature = this.session.signature;\n    }\n\n    let requestOptions: any = {};\n\n    if (cancelTokenInput) {\n      const cancelToken = new FsCancelToken();\n      cancelTokenInput.cancel = cancelToken.cancel.bind(cancelToken);\n      requestOptions.cancelToken = cancelToken;\n    }\n\n    return FsRequest.post(`${this.cloudApiUrl}/store/`, payload, requestOptions).then(res => {\n      if (res.data && res.data.token) {\n        this.token = res.data.token;\n      }\n\n      if (res.data && res.data[name]) {\n        return res.data[name];\n      }\n\n      return res.data;\n    });\n  }\n\n  logout(name?: string) {\n    const payload: any = {\n      apikey: this.session.apikey,\n      flow: 'web',\n      token: this.token,\n    };\n\n    if (name) {\n      payload.clouds = { [name]: {} };\n    } else {\n      if (this.cache) {\n        // No name means logout of ALL clouds. Clear local session.\n        this.storeAdapter.removeItem(PICKER_KEY, STORE_TYPE.LOCAL);\n      }\n\n      if (this.isInAppBrowser) {\n        this.storeAdapter.removeItem(PICKER_KEY, STORE_TYPE.SESSION);\n      }\n    }\n\n    return FsRequest.post(`${this.cloudApiUrl}/auth/logout`, payload).then(res => {\n      if (res.data && res.data[name]) {\n        return res.data[name];\n      }\n      return res.data;\n    });\n  }\n\n  metadata(url: string, headers?: {[key: string]: string}) {\n    const payload: any = {\n      apikey: this.session.apikey,\n      url,\n      headers,\n    };\n\n    if (this.session.policy && this.session.signature) {\n      payload.policy = this.session.policy;\n      payload.signature = this.session.signature;\n    }\n\n    return FsRequest.post(`${this.cloudApiUrl}/metadata`, payload).then(res => res.data);\n  }\n\n  // OpenTok API Endpoints\n  tokInit(type: string) {\n    if (type !== 'video' && type !== 'audio') {\n      throw new FilestackError('Type must be one of video or audio.');\n    }\n    return FsRequest.post(`${this.cloudApiUrl}/recording/${type}/init`).then(res => res.data);\n  }\n\n  tokStart(type: string, key: string, sessionId: string) {\n    if (type !== 'video' && type !== 'audio') {\n      throw new FilestackError('Type must be one of video or audio.');\n    }\n    const payload = {\n      apikey: key,\n      session_id: sessionId,\n    };\n\n    return FsRequest.post(`${this.cloudApiUrl}/recording/${type}/start`, payload).then(res => res.data);\n  }\n\n  tokStop(type: string, key: string, sessionId: string, archiveId: string) {\n    if (type !== 'video' && type !== 'audio') {\n      throw new FilestackError('Type must be one of video or audio.');\n    }\n\n    const payload = {\n      apikey: key,\n      session_id: sessionId,\n      archive_id: archiveId,\n    };\n\n    return FsRequest.post(`${this.cloudApiUrl}/recording/${type}/stop`, payload).then(res => res.data);\n  }\n\n  private currentAppUrl() {\n    if (!window.URLSearchParams) {\n      return undefined;\n    }\n\n    // set init string for clouds backend,\n    // After this cloud service can make redirect back to current page url with selected tab for given cloud\n    // if param exists and its value is init, backend will fill it with cloud name\n    const searchParams = new URLSearchParams(window.location.search);\n    searchParams.set(CALLBACK_URL_KEY, 'init');\n\n    return `${window.location.protocol}//${window.location.host}${window.location.pathname}?${searchParams.toString()}`;\n  }\n}\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// import Debug from 'debug';\nimport { FilestackError } from './../../filestack_error';\nimport { Session, Security, Client } from './../client';\nimport { PickerOptions } from './../picker';\nimport { FsRequest } from '../request';\nimport { cleanUpCallbacks } from './../utils';\nimport * as cloneDeep from 'lodash.clonedeep';\n\n// const debug = Debug('fs:prefetch');\n\nexport type PrefetchSettings = {\n  inapp_browser?: boolean;\n};\n\nexport type PrefetchPermissions = {\n  intelligent_ingestion?: boolean;\n  whitelabel?: boolean;\n  transforms_ui?: boolean;\n  enhance?: boolean;\n  advanced_enhance?: boolean;\n};\n\nexport enum PrefetchEvents {\n  PICKER = 'picker',\n  TRANSFORM_UI = 'transform_ui',\n}\n\nexport type PrefetchOptions = {\n  pickerOptions?: PickerOptions;\n  settings?: Array<keyof PrefetchSettings>;\n  permissions?: Array<keyof PrefetchPermissions>;\n  events?: PrefetchEvents[];\n};\n\ninterface PrefetchRequest {\n  apikey: string;\n  security?: Security;\n  permissions?: Array<keyof PrefetchPermissions>;\n  settings?: Array<keyof PrefetchSettings>;\n  events?: PrefetchEvents[];\n  picker_config?: PickerOptions;\n}\n\nexport type PrefetchResponse = {\n  blocked?: boolean | string;\n  settings?: PrefetchSettings;\n  permissions?: PrefetchPermissions;\n  pickerOptions: PickerOptions;\n};\n\n/**\n * @private\n */\nexport class Prefetch {\n\n  private session: Session;\n\n  constructor(param: Session | Client) {\n    if (param instanceof Client) {\n      this.session = param.session;\n    } else {\n      this.session = param;\n    }\n  }\n\n  /**\n   * Returns filestack options from backend according to input params\n   *\n   * @param param0\n   */\n  async getConfig({ pickerOptions, settings, permissions, events }: PrefetchOptions): Promise<PrefetchResponse> {\n    let paramsToSend: PrefetchRequest = {\n      apikey: this.session.apikey,\n    };\n\n    if (this.session.policy && this.session.signature) {\n      paramsToSend.security = { policy: this.session.policy, signature: this.session.signature };\n    }\n\n    // if (this.session.prefetch && events) {\n    //   return FsRequest.post(`${this.session.urls.uploadApiUrl}/prefetch`, { ...paramsToSend, events }).then(() => this.session.prefetch);\n    // }\n\n    // we should always ask for this setting for picker\n    if (!settings) {\n      settings = ['inapp_browser'];\n    } else {\n      settings = settings.concat(['inapp_browser']);\n      // make arrray unique\n      settings = settings.filter((v, i) => settings.indexOf(v) === i);\n    }\n\n    let pickerOptionsToSend;\n    if (pickerOptions && Object.keys(pickerOptions).length) {\n      pickerOptionsToSend = cleanUpCallbacks(cloneDeep({ ...pickerOptions }));\n    }\n\n    paramsToSend = {\n      ...paramsToSend,\n      permissions,\n      settings,\n      picker_config: pickerOptionsToSend,\n      events,\n    };\n\n    this.session.prefetch = null;\n\n    return FsRequest.post(`${this.session.urls.uploadApiUrl}/prefetch`, paramsToSend).then((res) => {\n      /* istanbul ignore if */\n      if (res.status !== 200) {\n        throw new FilestackError('There is a problem with prefetch request');\n      }\n\n      let data = res.data;\n\n      // if backend not returning updated_config cay we take old config and return\n      if (data.updated_config) {\n        // reassign callback from old config to new one returned from backend\n        data.pickerOptions = this.reassignCallbacks(pickerOptions, data.updated_config || {});\n        delete data.updated_config;\n      } else {\n        data.pickerOptions = pickerOptions;\n      }\n\n      this.session.prefetch = data;\n\n      return data;\n    });\n  }\n\n  /**\n   * Reassign callbacks from old picker configuration\n   *\n   * @param objOld\n   * @param objTarget\n   */\n  private reassignCallbacks(objOld, objTarget) {\n    if (!objOld || Object.keys(objOld).length === 0) {\n      return objOld;\n    }\n\n    for (const k in objOld) {\n      if (typeof objOld[k] === 'function') {\n        objTarget[k] = objOld[k];\n      }\n\n      if (objOld[k] === Object(objOld[k])) {\n        objTarget[k] = this.reassignCallbacks(objOld[k], objTarget[k]);\n      }\n    }\n\n    return objTarget;\n  }\n}\n", "/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { loadModule, FILESTACK_MODULES } from '@filestack/loader';\nimport { FilestackError, FilestackErrorType } from './../filestack_error';\nimport { Client } from './client';\nimport { FSProgressEvent, UploadOptions, WorkflowConfig } from './api/upload/types';\nimport { getValidator, PickerParamsSchema } from './../schema';\n\nexport interface PickerInstance {\n  /**\n   * Close picker. This operation is idempotent.\n   */\n  close: () => Promise<void>;\n\n  /**\n   * Cancel picker uploads. This operation is idempotent.\n   */\n  cancel: () => Promise<void>;\n\n  /**\n   * Open picker. This operation is idempotent.\n   */\n  open: () => Promise<void>;\n\n  /**\n   * Specify a list of files to open in the picker for cropping\n   *\n   * ### Example\n   *\n   * ```js\n   * // <input id=\"fileSelect\" type=\"file\">\n   *\n   * const inputEl = document.getElementById('fileSelect');\n   * const picker = client.picker({\n   *   onUploadDone: res => console.log(res),\n   * });\n   *\n   * inputEl.addEventListener('change', (e) => {\n   *   picker.crop(e.target.files);\n   * });\n   *\n   * // Or pass an array of URL strings\n   * const urls = [\n   *   'https://d1wtqaffaaj63z.cloudfront.net/images/fox_in_forest1.jpg',\n   *   'https://d1wtqaffaaj63z.cloudfront.net/images/sail.jpg',\n   * ];\n   * picker.crop(urls);\n   * ```\n   */\n  crop: (files: any[]) => Promise<void>;\n}\n\nexport interface PickerCroppedData {\n  cropArea: {\n    /**\n     * [x, y]\n     */\n    position: [number, number];\n    /**\n     * [width, height]\n     */\n    size: [number, number];\n  };\n    /**\n     * [width, height]\n     */\n  originalImageSize: [number, number];\n}\n\nexport enum RotateDirection {\n  cw = 'CW',\n  ccw= 'CCW',\n}\n\nexport interface PickerRotatedData {\n  /**\n   * Amount rotated in degrees.\n   */\n  value: number;\n  /**\n   * Can be CW or CCW (clockwise / counter-clockwise)\n   */\n  direction: RotateDirection;\n}\n\nexport interface PickerFileMetadata {\n  /**\n   * The cloud container for the uploaded file.\n   */\n  container?: string;\n  /**\n   * Position and size information for cropped images.\n   */\n  cropped?: PickerCroppedData;\n  /**\n   * Name of the file.\n   */\n  filename: string;\n  /**\n   * Filestack handle for the uploaded file.\n   */\n  handle: string;\n  /**\n   * The hash-prefixed cloud storage path.\n   */\n  key?: string;\n  /**\n   * The MIME type of the file.\n   */\n  mimetype: string;\n  /**\n   * Properties of the local binary file. Also see the pick option `exposeOriginalFile` if you want the underlying `File` object.\n   */\n  originalFile?: object | File;\n  /**\n   * The origin of the file, e.g. /Folder/file.jpg.\n   */\n  originalPath: string;\n  /**\n   * Direction and value information for rotated images.\n   */\n  rotated?: PickerRotatedData;\n  /**\n   * Size in bytes of the uploaded file.\n   */\n  size: number;\n  /**\n   * The source from where the file was picked.\n   */\n  source: string;\n  /**\n   * Indicates Filestack transit status.\n   */\n  status?: string;\n  /**\n   * A uuid for tracking this file in callbacks.\n   */\n  uploadId: string;\n  /**\n   * The Filestack CDN URL for the uploaded file.\n   */\n  url: string;\n}\n\nexport interface CustomAuthTextOptions {\n  [key: string]: {\n    top?: string[],\n    bottom?: string[]\n  };\n}\n\nexport interface PickerResponse {\n  filesUploaded: PickerFileMetadata[];\n  filesFailed: PickerFileMetadata[];\n}\n\nexport interface PickerFileCallback {\n  (file: PickerFileMetadata): void | Promise<any>;\n}\nexport interface PickerFileWithTokenCallback {\n  (file: PickerFileMetadata, token?: {pause?: () => void, resume?: () => void, cancel?: () => void}): void | Promise<any>;\n}\n\nexport interface PickerFileCancelCallback {\n  (file: PickerFileMetadata): void;\n}\n\nexport interface PickerFileErrorCallback {\n  (file: PickerFileMetadata, error: Error): void;\n}\n\nexport interface PickerFileProgressCallback {\n  (file: PickerFileMetadata, event: FSProgressEvent): void;\n}\n\nexport interface PickerUploadStartedCallback {\n  (files: PickerFileMetadata[]): void;\n}\n\nexport interface PickerUploadDoneCallback {\n  (files: PickerResponse): void;\n}\n\nexport enum PickerDisplayMode {\n  inline = 'inline',\n  overlay = 'overlay',\n  dropPane = 'dropPane',\n}\n\nexport interface PickerDropPaneOptions {\n  /**\n   * Toggle the crop UI for dropped files.\n   */\n  cropFiles?: boolean;\n  /**\n   * Customize the text content in the drop pane.\n   */\n  customText?: string;\n  /**\n   * Disable the file input on click. This does not disable the `onClick` callback.\n   */\n  disableClick?: boolean;\n  /**\n   * Toggle the full-page drop zone overlay.\n   */\n  overlay?: boolean;\n  onDragEnter?: (evt: DragEvent) => void;\n  onDragLeave?: () => void;\n  onDragOver?: (evt: DragEvent) => void;\n  onDrop?: (evt: DragEvent) => void;\n  /**\n   * `onSuccess` must be used instead of `onUploadDone`. The drop pane uses its own callbacks for compatibility purposes. This might eventually change.\n   */\n  onSuccess?: (files: PickerFileMetadata[]) => void;\n  onError?: (files: PickerFileMetadata[]) => void;\n  onProgress?: (percent: number) => void;\n  onClick?: (evt: any) => void;\n  /**\n   * Toggle icon element in drop pane.\n   */\n  showIcon?: boolean;\n  /**\n   * Toggle upload progress display.\n   */\n  showProgress?: boolean;\n}\n\nexport interface PickerStoreOptions {\n  /**\n   * Location for stored file. One of 's3', 'gcs', 'azure', 'rackspace', or 'dropbox'.\n   */\n  location?: string;\n  /**\n   * Specify storage container.\n   */\n  container?: string;\n  /**\n   * Set container path. Indicate a folder by adding a trailing slash. Without a trailing slash all files will be stored to the same object.\n   */\n  path?: string;\n  /**\n   * Specify S3 region.\n   */\n  region?: string;\n  /**\n   * S3 container access. 'public' or 'private'.\n   */\n  access?: string;\n\n  /**\n   * Workflows ids to run after upload\n   */\n  workflows?: string[] | WorkflowConfig[];\n}\n\nexport interface PickerCustomText {\n  // Actions\n  Upload?: string;\n  'Upload more'?: string;\n  'Deselect All'?: string;\n  'View/Edit Selected'?: string;\n  'Sign Out'?: string;\n\n  // Source Labels\n  'My Device'?: string;\n  'Web Search'?: string;\n  'Take Photo'?: string;\n  'Link (URL)'?: string;\n  'Record Video'?: string;\n  'Record Audio'?: string;\n\n  // Custom Source\n  'Custom Source'?: string;\n\n  // Footer Text\n  Add?: string;\n  'more file'?: string;\n  'more files'?: string;\n\n  // Cloud\n  'Connect {providerName}'?: string;\n  'Select Files from {providerName}'?: string;\n  'You need to authenticate with {providerName}.'?: string;\n  'A new page will open to connect your account.'?: string;\n  'We only extract images and never modify or delete them.'?: string;\n  'To disconnect from {providerName} click \"Sign out\" button in the menu.'?: string;\n  'Sign in with Google'?: string;\n  'Go back'?: string;\n  'This folder is empty.'?: string;\n\n  // Summary\n  Files?: string;\n  Images?: string;\n  Uploaded?: string;\n  Uploading?: string;\n  Completed?: string;\n  Filter?: string;\n  'Cropped Images'?: string;\n  'Edited Images'?: string;\n  'Selected Files'?: string;\n  'Crop is required on images'?: string;\n\n  // Transform\n  Crop?: string;\n  Circle?: string;\n  Rotate?: string;\n  Mask?: string;\n  Revert?: string;\n  Edit?: string;\n  Reset?: string;\n  Done?: string;\n  Save?: string;\n  Next?: string;\n  'Edit Image'?: string;\n  'This image cannot be edited'?: string;\n\n  // Retry messaging\n  'Connection Lost'?: string;\n  'Failed While Uploading'?: string;\n  'Retrying in'?: string;\n  'Try again'?: string;\n  'Try now'?: string;\n\n  // Local File Source\n  'Drag and Drop, Copy and Paste Files'?: string;\n  'or Drag and Drop, Copy and Paste Files'?: string;\n  'Select Files to Upload'?: string;\n  'Select From'?: string;\n  'Drop your files anywhere'?: string;\n\n  // Input placeholders\n  'Enter a URL'?: string;\n  'Search images'?: string;\n\n  // Webcam Source\n  'Webcam Disabled'?: string;\n  'Webcam Not Supported'?: string;\n  'Please enable your webcam to take a photo.'?: string;\n  'Your current browser does not support webcam functionality.'?: string;\n  'We suggest using Chrome or Firefox.'?: string;\n\n  // Error Notifications\n  'File {displayName} is not an accepted file type. The accepted file types are {types}'?: string;\n  'File {displayName} is too big. The accepted file size is less than {roundFileSize}'?: string;\n  'Our file upload limit is {maxFiles} {filesText}'?: string;\n  'No search results found for \"{search}\"'?: string;\n  'An error occurred. Please try again.'?: string;\n}\n\nexport interface PickerOptions {\n  /**\n   * Restrict file types that are allowed to be picked. Formats accepted:\n   *  - .pdf <- any file extension\n   *  - image/jpeg <- any mime type commonly known by browsers\n   *  - image/* <- accept all types of images\n   *  - video/* <- accept all types of video files\n   *  - audio/* <- accept all types of audio files\n   *  - application/* <- accept all types of application files\n   *  - text/* <- accept all types of text files\n   */\n  accept?: string | string[];\n  /**\n   * Custom accept check function\n   * ```javascript\n   * acceptFn: (file, options) => {\n   *  return options.mimeFromMagicBytes(file.originalFile).then((res) => { // we can check mimetype from magic bytes\n   *    //console.log(options.mimeFromExtension(file.originalFile.name)); // or check extension from filestack extensions database\n   *    // throw new Error('Cannot accept that file') // we can throw exception to block file upload\n   *    // return Promise.reject('Cannot accept that file'') // or reject a promise\n   *    return Promise.resolve();\n   *  });\n   * }\n   * ```\n   */\n  acceptFn?: (PickerFileMetadata, PickerAcceptFnOptions) => Promise<string>;\n  /**\n   * Prevent modal close on upload failure and allow users to retry.\n   */\n  allowManualRetry?: boolean;\n  /**\n   *  Valid sources are:\n   *  - local_file_system - Default\n   *  - url - Default\n   *  - imagesearch - Default\n   *  - facebook - Default\n   *  - instagram - Default\n   *  - googledrive - Default\n   *  - dropbox - Default\n   *  - webcam - Uses device menu on mobile. Not currently supported in Safari and IE.\n   *  - video - Uses device menu on mobile. Not currently supported in Safari and IE.\n   *  - audio - Uses device menu on mobile. Not currently supported in Safari and IE.\n   *  - box\n   *  - github\n   *  - gmail\n   *  - googlephotos\n   *  - onedrive\n   *  - onedriveforbusiness\n   *  - customsource - Configure this in your Filestack Dev Portal.\n   *  - unsplash\n   */\n  fromSources?: string[];\n  /**\n   * Container where picker should be appended. Only relevant for `inline` and `dropPane` display modes.\n   */\n  container?: string | Node;\n\n  /**\n   * Turn on cleaning JPEG image exif. Method can keep image orientation or color profiles\n   * ```javascript\n   * cleanupImageExif: {\n   *   keepOrientation: true\n   *   keepICCandAPP: true\n   * }\n   * ```\n   */\n  cleanupImageExif?: boolean | {\n    keepOrientation?: boolean,\n    keepICCandAPP?: boolean\n  };\n  /**\n   * Customize the text on the cloud authentication screen in Picker.\n   * Use a cloud source name (see [[PickerOptions.fromSources]])\n   * or a 'default' as a key, then put your custom notice or consent\n   * to the 'top' or the 'bottom' key to show it respectivly above or under 'Connect button'.\n   *\n   * ```javascript\n   * customAuthText: {\n   *   // use it for every cloud authentication screen\n   *   default: {\n   *     top: [\n   *       'default top first line',\n   *       'default top second line'\n   *     ],\n   *     bottom: [\n   *       'default bottom first line',\n   *       'default bottom second line'\n   *     ]\n   *   },\n   *   // override a default bottom text for only gmail\n   *   gmail: {\n   *     bottom: [\n   *       'We need your permission to access your data and',\n   *       'process it with our machine learning system.'\n   *     ]\n   *   }\n   * }\n   * ```\n   */\n  customAuthText?: CustomAuthTextOptions;\n  /**\n   * Picker display mode, one of `'inline'`, `'overlay'`, `'dropPane'` - default is `'overlay'`.\n   */\n  displayMode?: PickerDisplayMode;\n  /**\n   * Max number of files to upload concurrently. Default is 4.\n   */\n  concurrency?: number;\n  /**\n   * Set the default container for your custom source.\n   */\n  customSourceContainer?: string;\n  /**\n   * Set the default path for your custom source container.\n   */\n  customSourcePath?: string;\n  /**\n   * Set the display name for the custom source.\n   */\n  customSourceName?: string;\n  /**\n   * Provide an object for mapping picker strings to your own strings.\n   * Strings surrounded by brackets, `{ foobar }`, are interpolated with runtime values.\n   * Source labels are also available to override, e.g. Facebook, Instagram, Dropbox, etc.\n   */\n  customText?: PickerCustomText;\n  /**\n   * set support email to display in case of error\n   */\n  supportEmail?: string;\n  /**\n   * When true removes the hash prefix on stored files.\n   */\n  disableStorageKey?: boolean;\n  /**\n   * When true removes ability to edit images.\n   */\n  disableTransformer?: boolean;\n  /**\n   * Disables local image thumbnail previews in the summary screen.\n   */\n  disableThumbnails?: boolean;\n  /**\n   * Configure the drop pane behavior, i.e. when `displayMode` is `dropPane`.\n   */\n  dropPane?: PickerDropPaneOptions;\n  /**\n   * When true the `originalFile` metadata will be the actual `File` object instead of a POJO\n   */\n  exposeOriginalFile?: boolean;\n  /**\n   * Toggle the drop zone to be active on all views. Default is active only on local file source.\n   */\n  globalDropZone?: boolean;\n  /**\n   * Hide the picker modal UI once uploading begins. Defaults to `false`.\n   */\n  hideModalWhenUploading?: boolean;\n\n  /**\n   * Specify image dimensions. e.g. [800, 600]. Only for JPEG, PNG, and BMP files.\n   * Local and cropped images will be resized (upscaled or downscaled) to the specified dimensions before uploading.\n   * The original height to width ratio is maintained. To resize all images based on the width, set [width, null], e.g. [800, null].\n   * For the height set [null, height], e.g. [null, 600].\n   */\n  imageDim?: [number, number];\n  /**\n   * Specify maximum image dimensions. e.g. [800, 600]. Only for JPEG, PNG, and BMP files.\n   * Images bigger than the specified dimensions will be resized to the maximum size while maintaining the original aspect ratio.\n   * The output will not be exactly 800x600 unless the imageMax matches the aspect ratio of the original image.\n   */\n  imageMax?: [number, number];\n  /**\n   * Specify minimum image dimensions. e.g. [800, 600]. Only for JPEG, PNG, and BMP files.\n   * Images smaller than the specified dimensions will be upscaled to the minimum size while maintaining the original aspect ratio.\n   * The output will not be exactly 800x600 unless the imageMin matches the aspect ratio of the original image.\n   */\n  imageMin?: [number, number];\n  /**\n   * Sets locale. Accepts: ca, da, de, en, es, fr, he, it, ja, ko, nl, no, pl, pt, sv, ru, vi, zh, tr\n   */\n  lang?: string;\n  /**\n   * Minimum number of files required to start uploading. Defaults to 1.\n   */\n  minFiles?: number;\n  /**\n   * Maximum number of files allowed to upload. Defaults to 1.\n   */\n  maxFiles?: number;\n  /**\n   * Restrict selected files to a maximum number of bytes. (e.g. 10 \\* 1024 \\* 1024 for 10MB limit).\n   */\n  maxSize?: number;\n\n  /**\n   * Default view type option for file browser\n   */\n  viewType?: 'grid' | 'list';\n\n  /**\n   * Timeout for error messages\n   */\n  errorsTimeout?: number;\n  /**\n   * Specify [width, height] in pixels of the desktop modal.\n   */\n  modalSize?: [number, number];\n  /**\n   * Called when all uploads in a pick are cancelled.\n   */\n  onCancel?: PickerUploadDoneCallback;\n  /**\n   * Called when the UI is exited.\n   */\n  onClose?: () => void;\n  /**\n   * Called when the UI is mounted.\n   * @param PickerInstance application handle\n   */\n  onOpen?: (handle: PickerInstance) => void;\n  /**\n   * Called whenever user selects a file.\n   * ### Example\n   *\n   * ```js\n   * // Using to veto file selection\n   * // If you throw any error in this function it will reject the file selection.\n   * // The error message will be displayed to the user as an alert.\n   * onFileSelected(file) {\n   *   if (file.size > 1000 * 1000) {\n   *     throw new Error('File too big, select something smaller than 1MB');\n   *   }\n   * }\n   *\n   * // Using to change selected file name\n   * // NOTE: This currently only works for local uploads\n   * onFileSelected(file) {\n   *   // It's important to return a new file by the end of this function.\n   *   return { ...file, name: 'foo' };\n   * }\n   * ```\n   *\n   * The callback function can also return a Promise to allow asynchronous validation logic.\n   * You can pass a file object to `resolve` for changing the file name, it will behave the same as when\n   * the file is returned from the non-async callback.\n   *\n   * ```js\n   * onFileSelected(file) {\n   *   return new Promise((resolve, reject) => {\n   *     // Do something async\n   *     resolve();\n   *     // Or reject the selection with reject()\n   *   });\n   * }\n   * ```\n   */\n  onFileSelected?: PickerFileCallback;\n  /**\n   * Called when a file upload has been canceled.\n   */\n  onFileUploadCancel?: PickerFileCancelCallback;\n  /**\n   * Called when a file begins uploading.\n   */\n  onFileUploadStarted?: PickerFileWithTokenCallback;\n  /**\n   * Called when a file is done uploading.\n   */\n  onFileUploadFinished?: PickerFileCallback;\n  /**\n   * Called when uploading a file fails.\n   */\n  onFileUploadFailed?: PickerFileErrorCallback;\n  /**\n   * Called during multi-part upload progress events. Local files only.\n   */\n  onFileUploadProgress?: PickerFileProgressCallback;\n  /**\n   * Called when file is cropped in picker\n   */\n  onFileCropped?: PickerFileCallback;\n  /**\n   * Called when uploading starts (user initiates uploading).\n   */\n  onUploadStarted?: PickerUploadStartedCallback;\n  /**\n   * Called when all files have been uploaded.\n   */\n  onUploadDone?: PickerUploadDoneCallback;\n\n  /**\n   * Define a unique id for the application mount point.\n   * May be useful for more advanced use cases.\n   * For example, if you wish to have more than one picker instance open at once,\n   * then each will need their own unique rootId.\n   *\n   * **Note:** This option is ignored when `displayMode` is `dropPane`.\n   */\n  rootId?: string;\n  /**\n   * Whether to start uploading automatically when maxFiles is hit. Defaults to `false`.\n   */\n  startUploadingWhenMaxFilesReached?: boolean;\n  /**\n   * Options for file storage.\n   */\n  storeTo?: PickerStoreOptions;\n  /**\n   * Specify options for images passed to the crop UI.\n   */\n  transformations?: PickerTransformationOptions;\n  /**\n   * Options for local file uploads.\n   */\n  uploadConfig?: UploadOptions;\n  /**\n   * Start uploading immediately on file selection. Defaults to `true`.\n   * @important The feature is can be enabled only if crop is disabled - disableTransformer: true\n   */\n  uploadInBackground?: boolean;\n  /**\n   * Sets the resolution of recorded video. One of \"320x240\", \"640x480\" or \"1280x720\". Default is `\"640x480\"`.\n   */\n  videoResolution?: string;\n  /**\n   * Use Sentry Breadcrumbs mechanism to log information about occured errors.\n   * It can override global objects like console, error etc. Defaults to `true`.\n   */\n  useSentryBreadcrumbs?: boolean;\n  /**\n   * Specify which Picker instance should respond to paste event.\n   * By default only hovered instance responds to event.\n   * @param {boolean = false} pasteToFirstInViewPort If none instance is hovered take first picker instance fully visible in viewport\n   * @param {boolean = false} pasteToFirstInstance If none instance is hovered take first picker instance that is initialized\n   * @pasteToFirstInViewPort is checked first\n   */\n  pasteMode?: {\n    pasteToFirstInViewPort?: boolean,\n    pasteToFirstInstance?: boolean\n  };\n}\n\nexport interface PickerCropOptions {\n  /**\n   * Maintain aspect ratio for crop selection. (e.g. 16/9, 800/600).\n   */\n  aspectRatio?: number;\n  /**\n   * Force all images to be cropped before uploading.\n   */\n  force?: boolean;\n}\n\nexport interface PickerTransformationOptions {\n  /**\n   * Enable crop. Defaults to `true`.\n   */\n  crop?: boolean | PickerCropOptions;\n  /**\n   * Enable circle crop. Disabled if crop.aspectRatio is defined and not 1. Converts to PNG. Defaults to `true`.\n   */\n  circle?: boolean;\n  /**\n   * Enable image rotation. Defaults to `true`.\n   */\n  rotate?: boolean;\n\n  /**\n   * Global force crop option. Can be use ie with circle\n   */\n  force?: boolean;\n}\n\nexport interface PickerAcceptFnOptions {\n  /**\n   * Provided accept string\n   */\n  accept: string[];\n  /**\n   * Accept string converted to mimetype\n   */\n  acceptMime: string[];\n  /**\n   * Mimetype based magic bytes\n   * {@link https://filestack.github.io/filestack-js/globals.html#getmimetype}\n   */\n  mimeFromMagicBytes: Promise<string>;\n  /**\n   * Mimetype based on file extension\n   * {@link https://filestack.github.io/filestack-js/globals.html#extensiontomime}\n   */\n  mimeFromExtension: string;\n}\n\n/**\n * @private\n * A synchronous-looking wrapper for loading the picker and calling its methods.\n * This is currently needed because the picker module is loaded asynchronously.\n * Eventually we should offer a bundle with the picker module included.\n */\nclass PickerLoader {\n\n  private _initialized: Promise<PickerInstance>;\n  constructor(client: Client, options?: PickerOptions) {\n    const validateRes = getValidator(PickerParamsSchema)(options);\n\n    if (validateRes.errors.length) {\n      throw new FilestackError(`Invalid picker params`, validateRes.errors, FilestackErrorType.VALIDATION);\n    }\n\n    this._initialized = this.loadModule(client, options);\n  }\n\n  async open(): Promise<void> {\n    const picker = await this._initialized;\n    await picker.open();\n  }\n\n  async crop(files: any[]): Promise<void> {\n    const picker = await this._initialized;\n    await picker.crop(files);\n  }\n\n  async close(): Promise<void> {\n    const picker = await this._initialized;\n    await picker.close();\n  }\n\n  async cancel(): Promise<void> {\n    const picker = await this._initialized;\n    await picker.cancel();\n  }\n\n  private async loadModule(client: Client, options?: PickerOptions): Promise<PickerInstance> {\n    const { session: { urls: { pickerUrl: url } } } = client;\n    const Picker = await loadModule(FILESTACK_MODULES.PICKER, url);\n    return new Picker(client, options);\n  }\n}\n\n/**\n * Loads and creates picker instance\n *\n * @private\n * @param client\n * @param options\n */\nexport const picker = (client: Client, options?: PickerOptions): PickerInstance => {\n  return new PickerLoader(client, options);\n};\n", "/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { EventEmitter } from 'eventemitter3';\nimport * as Sentry from '@sentry/minimal';\nimport { config, Hosts } from '../config';\nimport { FilestackError } from './../filestack_error';\nimport { metadata, MetadataOptions, remove, retrieve, RetrieveOptions, download } from './api/file';\nimport { transform, TransformOptions } from './api/transform';\nimport { storeURL } from './api/store';\nimport * as Utils from './utils';\nimport { Upload, InputFile, UploadOptions, StoreUploadOptions, UploadTags } from './api/upload';\nimport { preview, PreviewOptions } from './api/preview';\nimport { CloudClient } from './api/cloud';\nimport { Prefetch, PrefetchResponse, PrefetchOptions } from './api/prefetch';\nimport { FsResponse } from './request/types';\nimport { StoreParams } from './filelink';\n\nimport { picker, PickerInstance, PickerOptions } from './picker';\n\n/* istanbul ignore next */\nSentry.addBreadcrumb({ category: 'sdk', message: 'filestack-js-sdk scope' });\n\nexport interface Session {\n  apikey: string;\n  urls: Hosts;\n  cname?: string;\n  policy?: string;\n  signature?: string;\n  prefetch?: PrefetchResponse;\n}\n\nexport interface Security {\n  policy: string;\n  signature: string;\n}\n\nexport interface ClientOptions {\n  [option: string]: any;\n  /**\n   * Security object with policy and signature keys.\n   * Can be used to limit client capabilities and protect public URLs.\n   * It is intended to be used with server-side policy and signature generation.\n   * Read about [security policies](https://www.filestack.com/docs/concepts/security).\n   */\n  security?: Security;\n  /**\n   * Domain to use for all URLs. __Requires the custom CNAME addon__.\n   * If this is enabled then you must also set up your own OAuth applications\n   * for each cloud source you wish to use in the picker.\n   */\n  cname?: string;\n  /**\n   * Enable/disable caching of the cloud session token. Default is false.\n   * This ensures that users will be remembered on your domain when calling the cloud API from the browser.\n   * Please be aware that tokens stored in localStorage are accessible by other scripts on the same domain.\n   */\n  sessionCache?: boolean;\n\n  /**\n   * Enable forwarding error logs to sentry\n   * @default false\n   */\n  forwardErrors?: boolean;\n}\n\n/**\n * The Filestack client, the entry point for all public methods. Encapsulates session information.\n *\n * ### Example\n * ```js\n * // ES module\n * import * as filestack from 'filestack-js';\n * const client = filestack.init('apikey');\n * ```\n *\n * ```js\n * // UMD module in browser\n * <script src=\"https://static.filestackapi.com/filestack-js/3.x.x/filestack.min.js\"></script>\n * const client = filestack.init('apikey');\n * ```\n */\nexport class Client extends EventEmitter {\n  public session: Session;\n  private cloud: CloudClient;\n  private prefetchInstance: Prefetch;\n\n  private forwardErrors: boolean = true;\n\n  /**\n   * Returns filestack utils\n   *\n   * @readonly\n   * @memberof Client\n   */\n  get utils() {\n    return Utils;\n  }\n\n  constructor(apikey: string, private options?: ClientOptions) {\n    super();\n\n    /* istanbul ignore if */\n    if (options && options.forwardErrors) {\n      this.forwardErrors = options.forwardErrors;\n    }\n\n    if (!apikey || typeof apikey !== 'string' || apikey.length === 0) {\n      throw new Error('An apikey is required to initialize the Filestack client');\n    }\n    const { urls } = config;\n    this.session = { apikey, urls };\n\n    if (options) {\n      const { cname, security } = options;\n\n      this.setSecurity(security);\n      this.setCname(cname);\n    }\n\n    this.prefetchInstance = new Prefetch(this.session);\n    this.cloud = new CloudClient(this.session, options);\n  }\n\n  /**\n   * Make basic prefetch request to check permissions\n   *\n   * @param params\n   */\n  prefetch(params: PrefetchOptions) {\n    return this.prefetchInstance.getConfig(params);\n  }\n\n  /**\n   * Set security object\n   *\n   * @param {Security} security\n   * @memberof Client\n   */\n  setSecurity(security: Security) {\n    if (security && !(security.policy && security.signature)) {\n      throw new FilestackError('Both policy and signature are required for client security');\n    }\n\n    if (security && security.policy && security.signature) {\n      this.session.policy = security.policy;\n      this.session.signature = security.signature;\n    }\n  }\n\n  /**\n   * Set custom cname\n   *\n   * @param {string} cname\n   * @returns\n   * @memberof Client\n   */\n  setCname(cname: string) {\n    if (!cname || cname.length === 0) {\n      return;\n    }\n\n    this.session.cname = cname;\n    this.session.urls = Utils.resolveHost(this.session.urls, cname);\n  }\n\n  /**\n   * Clear all current cloud sessions in the picker.\n   * Optionally pass a cloud source name to only log out of that cloud source.\n   * This essentially clears the OAuth authorization codes from the Filestack session.\n   * @param name Optional cloud source name.\n   */\n  logout(name?: string) {\n    return this.cloud.logout(name);\n  }\n  /**\n   * Retrieve detailed data of stored files.\n   *\n   * ### Example\n   *\n   * ```js\n   * client\n   *   .metadata('DCL5K46FS3OIxb5iuKby')\n   *   .then((res) => {\n   *     console.log(res);\n   *   })\n   *   .catch((err) => {\n   *     console.log(err);\n   *   }));\n   * ```\n   * @see [File API - Metadata](https://www.filestack.com/docs/api/file#metadata).\n   * @param handle Valid Filestack handle.\n   * @param options Metadata fields to enable on response.\n   * @param security Optional security override.\n   */\n  metadata(handle: string, options?: MetadataOptions, security?: Security) {\n    /* istanbul ignore next */\n    return metadata(this.session, handle, options, security);\n  }\n  /**\n   * Construct a new picker instance.\n   */\n  picker(options?: PickerOptions): PickerInstance {\n    /* istanbul ignore next */\n    return picker(this, options);\n  }\n  /**\n   * Used for viewing files via Filestack handles or storage aliases, __requires Document Viewer addon to your Filestack application__.\n   * Opens document viewer in new window if id option is not provided.\n   *\n   * ### Example\n   *\n   * ```js\n   * // <div id=\"preview\"></div>\n   *\n   * client.preview('DCL5K46FS3OIxb5iuKby', { id: 'preview' });\n   * ```\n   * @param handle Valid Filestack handle.\n   * @param options Preview options\n   */\n  preview(handle: string, options?: PreviewOptions) {\n    /* istanbul ignore next */\n    return preview(this.session, handle, options);\n  }\n  /**\n   * Remove a file from storage and the Filestack system.\n   *\n   * __Requires a valid security policy and signature__. The policy and signature will be pulled from the client session, or it can be overridden with the security parameter.\n   *\n   * ### Example\n   *\n   * ```js\n   * client\n   *   .remove('DCL5K46FS3OIxb5iuKby')\n   *   .then((res) => {\n   *     console.log(res);\n   *   })\n   *   .catch((err) => {\n   *     console.log(err);\n   *   }));\n   * ```\n   * @see [File API - Delete](https://www.filestack.com/docs/api/file#delete)\n   * @param handle Valid Filestack handle.\n   * @param security Optional security override.\n   */\n  remove(handle: string, security?: Security): Promise<any> {\n    /* istanbul ignore next */\n    return remove(this.session, handle, false, security);\n  }\n  /**\n   * Remove a file **only** from the Filestack system. The file remains in storage.\n   *\n   * __Requires a valid security policy and signature__. The policy and signature will be pulled from the client session, or it can be overridden with the security parameter.\n   *\n   * ### Example\n   *\n   * ```js\n   * client\n   *   .removeMetadata('DCL5K46FS3OIxb5iuKby')\n   *   .then((res) => {\n   *     console.log(res);\n   *   })\n   *   .catch((err) => {\n   *     console.log(err);\n   *   }));\n   * ```\n   * @see [File API - Delete](https://www.filestack.com/docs/api/file#delete)\n   * @param handle Valid Filestack handle.\n   * @param security Optional security override.\n   */\n  removeMetadata(handle: string, security?: Security): Promise<any> {\n    /* istanbul ignore next */\n    return remove(this.session, handle, true, security);\n  }\n  /**\n   * Store a file from its URL.\n   *\n   * ### Example\n   *\n   * ```js\n   * client\n   *   .storeURL('https://d1wtqaffaaj63z.cloudfront.net/images/NY_199_E_of_Hammertown_2014.jpg')\n   *   .then(res => console.log(res));\n   * ```\n   * @see [File API - Store](https://www.filestack.com/docs/api/file#store)\n   * @param url       Valid URL to a file.\n   * @param options   Configure file storage.\n   * @param token     Optional control token to call .cancel()\n   * @param security  Optional security override.\n   * @param uploadTags Optional tags visible in webhooks.\n   * @param headers    Optional headers to send\n   * @param workflowIds    Optional workflowIds to send\n   */\n  storeURL(url: string, storeParams?: StoreParams, token?: any, security?: Security, uploadTags?: UploadTags, headers?: {[key: string]: string}, workflowIds?: string[]): Promise<Object> {\n    return storeURL({\n      session: this.session,\n      url,\n      storeParams,\n      token,\n      security,\n      uploadTags,\n      headers,\n      workflowIds,\n    });\n  }\n\n  /**\n   * Access files via their Filestack handles.\n   *\n   * If head option is provided - request headers are returned in promise\n   * If metadata option is provided - metadata object is returned in promise\n   * Otherwise file blob is returned\n   * Metadata and head options cannot be mixed\n   *\n   * ### Example\n   *\n   * ```js\n   * client.retrieve('fileHandle', {\n   *  metadata: true,\n   * }).then((response) => {\n   *  console.log(response);\n   * }).catch((err) => {\n   *  console.error(err);\n   * })\n   * ```\n   *\n   * @see [File API - Download](https://www.filestack.com/docs/api/file#download)\n   * @deprecated use metadata or download methods instead\n   * @param handle    Valid file handle\n   * @param options   RetrieveOptions\n   * @param security  Optional security override.\n   * @throws          Error\n   */\n  retrieve(handle: string, options?: RetrieveOptions, security?: Security): Promise<Object | Blob> {\n    /* istanbul ignore next */\n    return retrieve(this.session, handle, options, security);\n  }\n\n  /**\n   * Download file by handle\n   *\n   *\n   * ### Browser Example\n   *\n   * ```js\n   * client.download('fileHandle').then((response) => {\n   * const img = new Image();\n   * img.src = URL.createObjectURL(res.data)\n   * document.body.appendChild(img);\n   * }).catch((err) => {\n   *  console.error(err);\n   * })\n   * ```\n   *\n   * @see [File API - Download](https://www.filestack.com/docs/api/file#download)\n   * @param handle    Valid file handle\n   * @throws          Error\n   */\n  download(handle: string, security?: Security): Promise<FsResponse> {\n    /* istanbul ignore next */\n    return download(this.session, handle, security);\n  }\n\n  /**\n   * Interface to the Filestack [Processing API](https://www.filestack.com/docs/api/processing).\n   * Convert a URL, handle, or storage alias to another URL which links to the transformed file.\n   * You can optionally store the returned URL with client.storeURL.\n   *\n   * Transform params can be provided in camelCase or snakeCase style ie: partial_pixelate or partialPixelate\n   *\n   * ### Example\n   *\n   * ```js\n   * const transformedUrl = client.transform(url, {\n   *   crop: {\n   *     dim: [x, y, width, height],\n   *   },\n   *   vignette: {\n   *     blurmode: 'gaussian',\n   *     amount: 50,\n   *   },\n   *   flip: true,\n   *   partial_pixelate: {\n   *     objects: [[10, 20, 200, 250], [275, 91, 500, 557]],\n   *   },\n   * };\n   *\n   * // optionally store the new URL\n   * client.storeURL(transformedUrl).then(res => console.log(res));\n   * ```\n   * @see [Filestack Processing API](https://www.filestack.com/docs/api/processing)\n   * @param url     Single or multiple valid URLs (http(s)://), file handles, or storage aliases (src://) to an image.\n   * @param options Transformations are applied in the order specified by this object.\n   * @param b64     Use new more safe format for generating transforms url (default=false) Note: If there will be any issues with url please test it with enabled b64 support\n   * @returns       A new URL that points to the transformed resource.\n   */\n  transform(url: string | string[], options: TransformOptions, b64: boolean = false) {\n    /* istanbul ignore next */\n    return transform(this.session, url, options, b64);\n  }\n\n  /**\n   * Initiates a multi-part upload flow. Use this for Filestack CIN and FII uploads.\n   *\n   * In Node runtimes the file argument is treated as a file path.\n   * Uploading from a Node buffer is not yet implemented.\n   *\n   * ### Example\n   *\n   * ```js\n   * const token = {};\n   * const onRetry = (obj) => {\n   *   console.log(`Retrying ${obj.location} for ${obj.filename}. Attempt ${obj.attempt} of 10.`);\n   * };\n   *\n   * client.upload(file, { onRetry }, { filename: 'foobar.jpg' }, token)\n   *   .then(res => console.log(res));\n   *\n   * client.upload({file, name}, { onRetry }, { filename: 'foobar.jpg' }, token)\n   *   .then(res => console.log(res));\n   *\n   * token.pause();  // Pause flow\n   * token.resume(); // Resume flow\n   * token.cancel(); // Cancel flow (rejects)\n   * ```\n   * @param {InputFile}    file           Must be a valid [File | Blob | Buffer | string]\n   * @param uploadOptions  Uploader options.\n   * @param storeOptions   Storage options.\n   * @param token          A control token that can be used to call cancel(), pause(), and resume().\n   * @param security       Optional security policy and signature override.\n   *\n   * @returns {Promise}\n   */\n  upload(file: InputFile, options?: UploadOptions, storeOptions?: StoreUploadOptions, token?: any, security?: Security) {\n    let upload = new Upload(options, storeOptions);\n    upload.setSession(this.session);\n\n    if (token) {\n      upload.setToken(token);\n    }\n\n    if (security) {\n      upload.setSecurity(security);\n    }\n\n    upload.on('start', () => this.emit('upload.start'));\n    /* istanbul ignore next */\n    upload.on('error', e => {\n      if (this.forwardErrors) {\n        Sentry.withScope(scope => {\n          scope.setTag('filestack-apikey', this.session.apikey);\n          scope.setTag('filestack-version', Utils.getVersion());\n          scope.setExtra('filestack-options', this.options);\n          scope.setExtras({ uploadOptions: options, storeOptions, details: e.details });\n          e.message = `FS-${e.message}`;\n\n          Sentry.captureException(e);\n        });\n      }\n\n      this.emit('upload.error', e);\n    });\n\n    return upload.upload(file);\n  }\n\n  /**\n   * Initiates a multi-part upload flow. Use this for Filestack CIN and FII uploads.\n   *\n   * In Node runtimes the file argument is treated as a file path.\n   * Uploading from a Node buffer is not yet implemented.\n   *\n   * ### Example\n   *\n   * ```js\n   * const token = {};\n   * const onRetry = (obj) => {\n   *   console.log(`Retrying ${obj.location} for ${obj.filename}. Attempt ${obj.attempt} of 10.`);\n   * };\n   *\n   * client.multiupload([file], { onRetry }, token)\n   *   .then(res => console.log(res));\n   *\n   * client.multiupload([{file, name}], { onRetry }, token)\n   *   .then(res => console.log(res));\n   *\n   * token.pause();  // Pause flow\n   * token.resume(); // Resume flow\n   * token.cancel(); // Cancel flow (rejects)\n   * ```\n   * @param {InputFile[]}  file           Must be a valid [File | Blob | Buffer | string (base64)]\n   * @param uploadOptions  Upload options.\n   * @param storeOptions   Storage options.\n   * @param token          A control token that can be used to call cancel(), pause(), and resume().\n   * @param security       Optional security policy and signature override.\n   *\n   * @returns {Promise}\n   */\n  multiupload(file: InputFile[], options?: UploadOptions, storeOptions?: StoreUploadOptions, token?: any, security?: Security) {\n    let upload = new Upload(options, storeOptions);\n\n    upload.setSession(this.session);\n\n    if (token) {\n      upload.setToken(token);\n    }\n\n    if (security) {\n      upload.setSecurity(security);\n    }\n\n    upload.on('start', () => this.emit('upload.start'));\n    /* istanbul ignore next */\n    upload.on('error', e => {\n      Sentry.withScope(scope => {\n        scope.setTag('filestack-apikey', this.session.apikey);\n        scope.setTag('filestack-version', Utils.getVersion());\n        scope.setExtra('filestack-options', this.options);\n        scope.setExtras(e.details);\n        scope.setExtras({ uploadOptions: options, storeOptions });\n        Sentry.captureException(e);\n      });\n\n      this.emit('upload.error', e);\n    });\n\n    return upload.multiupload(file);\n  }\n}\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Security, Session } from '../client';\nimport { Filelink, StoreParams } from './../filelink';\nimport { FilestackError } from './../../filestack_error';\nimport { getValidator, StoreParamsSchema } from './../../schema';\nimport { FsRequest, FsCancelToken } from '../request';\nimport { UploadTags } from './upload/file';\n\nexport type StoreUrlParams = {\n  session: Session;\n  url?: string;\n  storeParams?: StoreParams;\n  token?: any;\n  security?: Security;\n  uploadTags?: UploadTags;\n  headers?: {[key: string]: string},\n  workflowIds?: string[]\n};\n\n/**\n * Store given url with options and\n *\n * @param session\n * @param url\n * @param storeOpts\n * @param token\n * @param security\n * @param uploadTags\n * @param workflowIds\n */\nexport const storeURL = ({\n  session,\n  url,\n  storeParams,\n  token,\n  security,\n  uploadTags,\n  headers,\n  workflowIds,\n}: StoreUrlParams): Promise<any> => {\n  if (!url || typeof url !== 'string') {\n    return Promise.reject(new FilestackError('url is required for storeURL'));\n  }\n\n  const validateRes = getValidator(StoreParamsSchema)(storeParams);\n\n  if (validateRes.errors.length) {\n    return Promise.reject(new FilestackError(`Invalid store params`, validateRes.errors));\n  }\n\n  session.policy = security && security.policy || session.policy;\n  session.signature = security && security.signature || session.signature;\n\n  const filelink = new Filelink(url, session.apikey);\n  filelink.store(storeParams);\n\n  if (session.policy && session.signature) {\n    filelink.security({\n      policy: session.policy,\n      signature: session.signature,\n    });\n  }\n\n  let options: any = {};\n\n  if (token) {\n    const cancelToken = new FsCancelToken();\n    token.cancel = cancelToken.cancel.bind(cancelToken);\n    options.cancelToken = cancelToken;\n  }\n\n  let sources: any = [ url ];\n\n  if (headers) {\n    sources = [{\n      source: url,\n      headers,\n    }];\n  }\n\n  if (workflowIds && workflowIds.length > 0) {\n    filelink.addTask('store', { workflows: workflowIds });\n  }\n\n  return FsRequest.post(`${session.urls.processUrl}/process`, {\n    apikey: session.apikey,\n    sources,\n    tasks: filelink.getTasks(),\n    upload_tags: uploadTags,\n  }, options).then((res) => {\n    if (res.data && res.data.handle) {\n      if (res.data.upload_tags) {\n        res.data.uploadTags = res.data.upload_tags;\n        delete res.data.upload_tags;\n      }\n\n      return { ...res.data, mimetype: res.data.type };\n    }\n\n    throw new FilestackError(`Invalid store response ${JSON.stringify(res.data)}`);\n  });\n};\n", "/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerModule, FILESTACK_MODULES } from '@filestack/loader';\nimport { SecurityOptions, getSecurity, validateWebhookSignature, WebhookValidatePayload } from './lib/api/security';\nimport { Client, ClientOptions, Security } from './lib/client';\nimport { PickerOptions, PickerInstance, PickerUploadDoneCallback, PickerFileMetadata, PickerResponse, PickerDisplayMode } from './lib/picker';\nimport { TransformSchema } from './schema/transforms.schema';\nimport { TransformOptions } from './lib/api/transform';\nimport { RetrieveOptions, MetadataOptions } from './lib/api/file';\nimport { UploadTags } from './lib/api/upload/file';\nimport { InputFile } from './lib/api/upload/file_tools';\nimport { UploadOptions } from './lib/api/upload/types';\nimport { StoreUploadOptions } from './lib/api/upload';\nimport { PreviewOptions } from './lib/api/preview';\nimport { PrefetchOptions, PrefetchResponse, PrefetchPermissions, PrefetchEvents } from './lib/api/prefetch';\nimport { FilestackError } from './filestack_error';\nimport { getMimetype } from './lib/utils/index';\n\n/**\n * Initialize client with given config\n *\n * @param apikey\n * @param options\n */\nexport const Filestack = (apikey: string, options?: ClientOptions): Client => {\n  return new Client(apikey, options);\n};\n\n// This will be deprecated in feature use\nexport const init = Filestack;\n\n/**\n * filestack-js version. Interpolated at build time.\n */\nexport const version = '@{VERSION}';\n\nregisterModule(FILESTACK_MODULES.FILESTACK_SDK, Filestack, { version: '@{VERSION}' });\n\nexport * from './lib/api/transform';\nexport * from './lib/filelink';\nexport * from './filestack_error';\nexport * from './lib/request';\nexport * from './lib/utils';\n\nexport {\n  UploadTags,\n  TransformSchema,\n  SecurityOptions,\n  getSecurity,\n  validateWebhookSignature,\n  WebhookValidatePayload,\n  ClientOptions,\n  PickerOptions,\n  PickerInstance,\n  Security,\n  TransformOptions,\n  RetrieveOptions,\n  InputFile,\n  UploadOptions,\n  StoreUploadOptions,\n  MetadataOptions,\n  PreviewOptions,\n  PickerUploadDoneCallback,\n  PickerFileMetadata,\n  PickerResponse,\n  Client,\n  FilestackError,\n  PickerDisplayMode,\n  getMimetype,\n  PrefetchOptions,\n  PrefetchResponse,\n  PrefetchPermissions,\n  PrefetchEvents\n};\n", "import { getGlobalObject } from './misc';\nimport { dynamicRequire, isNodeEnv } from './node';\n\n/**\n * An object that can return the current timestamp in seconds since the UNIX epoch.\n */\ninterface TimestampSource {\n  nowSeconds(): number;\n}\n\n/**\n * A TimestampSource implementation for environments that do not support the Performance Web API natively.\n *\n * Note that this TimestampSource does not use a monotonic clock. A call to `nowSeconds` may return a timestamp earlier\n * than a previously returned value. We do not try to emulate a monotonic behavior in order to facilitate debugging. It\n * is more obvious to explain \"why does my span have negative duration\" than \"why my spans have zero duration\".\n */\nconst dateTimestampSource: TimestampSource = {\n  nowSeconds: () => Date.now() / 1000,\n};\n\n/**\n * A partial definition of the [Performance Web API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Performance}\n * for accessing a high resolution monotonic clock.\n */\ninterface Performance {\n  /**\n   * The millisecond timestamp at which measurement began, measured in Unix time.\n   */\n  timeOrigin: number;\n  /**\n   * Returns the current millisecond timestamp, where 0 represents the start of measurement.\n   */\n  now(): number;\n}\n\n/**\n * Returns a wrapper around the native Performance API browser implementation, or undefined for browsers that do not\n * support the API.\n *\n * Wrapping the native API works around differences in behavior from different browsers.\n */\nfunction getBrowserPerformance(): Performance | undefined {\n  const { performance } = getGlobalObject<Window>();\n  if (!performance || !performance.now) {\n    return undefined;\n  }\n\n  // Replace performance.timeOrigin with our own timeOrigin based on Date.now().\n  //\n  // This is a partial workaround for browsers reporting performance.timeOrigin such that performance.timeOrigin +\n  // performance.now() gives a date arbitrarily in the past.\n  //\n  // Additionally, computing timeOrigin in this way fills the gap for browsers where performance.timeOrigin is\n  // undefined.\n  //\n  // The assumption that performance.timeOrigin + performance.now() ~= Date.now() is flawed, but we depend on it to\n  // interact with data coming out of performance entries.\n  //\n  // Note that despite recommendations against it in the spec, browsers implement the Performance API with a clock that\n  // might stop when the computer is asleep (and perhaps under other circumstances). Such behavior causes\n  // performance.timeOrigin + performance.now() to have an arbitrary skew over Date.now(). In laptop computers, we have\n  // observed skews that can be as long as days, weeks or months.\n  //\n  // See https://github.com/getsentry/sentry-javascript/issues/2590.\n  //\n  // BUG: despite our best intentions, this workaround has its limitations. It mostly addresses timings of pageload\n  // transactions, but ignores the skew built up over time that can aversely affect timestamps of navigation\n  // transactions of long-lived web pages.\n  const timeOrigin = Date.now() - performance.now();\n\n  return {\n    now: () => performance.now(),\n    timeOrigin,\n  };\n}\n\n/**\n * Returns the native Performance API implementation from Node.js. Returns undefined in old Node.js versions that don't\n * implement the API.\n */\nfunction getNodePerformance(): Performance | undefined {\n  try {\n    const perfHooks = dynamicRequire(module, 'perf_hooks') as { performance: Performance };\n    return perfHooks.performance;\n  } catch (_) {\n    return undefined;\n  }\n}\n\n/**\n * The Performance API implementation for the current platform, if available.\n */\nconst platformPerformance: Performance | undefined = isNodeEnv() ? getNodePerformance() : getBrowserPerformance();\n\nconst timestampSource: TimestampSource =\n  platformPerformance === undefined\n    ? dateTimestampSource\n    : {\n        nowSeconds: () => (platformPerformance.timeOrigin + platformPerformance.now()) / 1000,\n      };\n\n/**\n * Returns a timestamp in seconds since the UNIX epoch using the Date API.\n */\nexport const dateTimestampInSeconds = dateTimestampSource.nowSeconds.bind(dateTimestampSource);\n\n/**\n * Returns a timestamp in seconds since the UNIX epoch using either the Performance or Date APIs, depending on the\n * availability of the Performance API.\n *\n * See `usingPerformanceAPI` to test whether the Performance API is used.\n *\n * BUG: Note that because of how browsers implement the Performance API, the clock might stop when the computer is\n * asleep. This creates a skew between `dateTimestampInSeconds` and `timestampInSeconds`. The\n * skew can grow to arbitrary amounts like days, weeks or months.\n * See https://github.com/getsentry/sentry-javascript/issues/2590.\n */\nexport const timestampInSeconds = timestampSource.nowSeconds.bind(timestampSource);\n\n// Re-exported with an old name for backwards-compatibility.\nexport const timestampWithMs = timestampInSeconds;\n\n/**\n * A boolean that is true when timestampInSeconds uses the Performance API to produce monotonic timestamps.\n */\nexport const usingPerformanceAPI = platformPerformance !== undefined;\n\n/**\n * The number of milliseconds since the UNIX epoch. This value is only usable in a browser, and only when the\n * performance API is available.\n */\nexport const browserPerformanceTimeOrigin = ((): number | undefined => {\n  const { performance } = getGlobalObject<Window>();\n  if (!performance) {\n    return undefined;\n  }\n  if (performance.timeOrigin) {\n    return performance.timeOrigin;\n  }\n  // While performance.timing.navigationStart is deprecated in favor of performance.timeOrigin, performance.timeOrigin\n  // is not as widely supported. Namely, performance.timeOrigin is undefined in Safari as of writing.\n  // Also as of writing, performance.timing is not available in Web Workers in mainstream browsers, so it is not always\n  // a valid fallback. In the absence of an initial time provided by the browser, fallback to the current time from the\n  // Date API.\n  // eslint-disable-next-line deprecation/deprecation\n  return (performance.timing && performance.timing.navigationStart) || Date.now();\n})();\n", "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { ExtendedError, WrappedFunction } from '@sentry/types';\n\nimport { htmlTreeAsString } from './browser';\nimport { isElement, isError, isEvent, isInstanceOf, isPlainObject, isPrimitive, isSyntheticEvent } from './is';\nimport { Memo } from './memo';\nimport { getFunctionName } from './stacktrace';\nimport { truncate } from './string';\n\n/**\n * Wrap a given object method with a higher-order function\n *\n * @param source An object that contains a method to be wrapped.\n * @param name A name of method to be wrapped.\n * @param replacementFactory A function that should be used to wrap a given method, returning the wrapped method which\n * will be substituted in for `source[name]`.\n * @returns void\n */\nexport function fill(source: { [key: string]: any }, name: string, replacementFactory: (...args: any[]) => any): void {\n  if (!(name in source)) {\n    return;\n  }\n\n  const original = source[name] as () => any;\n  const wrapped = replacementFactory(original) as WrappedFunction;\n\n  // Make sure it's a function first, as we need to attach an empty prototype for `defineProperties` to work\n  // otherwise it'll throw \"TypeError: Object.defineProperties called on non-object\"\n  if (typeof wrapped === 'function') {\n    try {\n      wrapped.prototype = wrapped.prototype || {};\n      Object.defineProperties(wrapped, {\n        __sentry_original__: {\n          enumerable: false,\n          value: original,\n        },\n      });\n    } catch (_Oo) {\n      // This can throw if multiple fill happens on a global object like XMLHttpRequest\n      // Fixes https://github.com/getsentry/sentry-javascript/issues/2043\n    }\n  }\n\n  source[name] = wrapped;\n}\n\n/**\n * Encodes given object into url-friendly format\n *\n * @param object An object that contains serializable values\n * @returns string Encoded\n */\nexport function urlEncode(object: { [key: string]: any }): string {\n  return Object.keys(object)\n    .map(key => `${encodeURIComponent(key)}=${encodeURIComponent(object[key])}`)\n    .join('&');\n}\n\n/**\n * Transforms any object into an object literal with all its attributes\n * attached to it.\n *\n * @param value Initial source that we have to transform in order for it to be usable by the serializer\n */\nfunction getWalkSource(\n  value: any,\n): {\n  [key: string]: any;\n} {\n  if (isError(value)) {\n    const error = value as ExtendedError;\n    const err: {\n      [key: string]: any;\n      stack: string | undefined;\n      message: string;\n      name: string;\n    } = {\n      message: error.message,\n      name: error.name,\n      stack: error.stack,\n    };\n\n    for (const i in error) {\n      if (Object.prototype.hasOwnProperty.call(error, i)) {\n        err[i] = error[i];\n      }\n    }\n\n    return err;\n  }\n\n  if (isEvent(value)) {\n    /**\n     * Event-like interface that's usable in browser and node\n     */\n    interface SimpleEvent {\n      [key: string]: unknown;\n      type: string;\n      target?: unknown;\n      currentTarget?: unknown;\n    }\n\n    const event = value as SimpleEvent;\n\n    const source: {\n      [key: string]: any;\n    } = {};\n\n    source.type = event.type;\n\n    // Accessing event.target can throw (see getsentry/raven-js#838, #768)\n    try {\n      source.target = isElement(event.target)\n        ? htmlTreeAsString(event.target)\n        : Object.prototype.toString.call(event.target);\n    } catch (_oO) {\n      source.target = '<unknown>';\n    }\n\n    try {\n      source.currentTarget = isElement(event.currentTarget)\n        ? htmlTreeAsString(event.currentTarget)\n        : Object.prototype.toString.call(event.currentTarget);\n    } catch (_oO) {\n      source.currentTarget = '<unknown>';\n    }\n\n    if (typeof CustomEvent !== 'undefined' && isInstanceOf(value, CustomEvent)) {\n      source.detail = event.detail;\n    }\n\n    for (const i in event) {\n      if (Object.prototype.hasOwnProperty.call(event, i)) {\n        source[i] = event;\n      }\n    }\n\n    return source;\n  }\n\n  return value as {\n    [key: string]: any;\n  };\n}\n\n/** Calculates bytes size of input string */\nfunction utf8Length(value: string): number {\n  // eslint-disable-next-line no-bitwise\n  return ~-encodeURI(value).split(/%..|./).length;\n}\n\n/** Calculates bytes size of input object */\nfunction jsonSize(value: any): number {\n  return utf8Length(JSON.stringify(value));\n}\n\n/** JSDoc */\nexport function normalizeToSize<T>(\n  object: { [key: string]: any },\n  // Default Node.js REPL depth\n  depth: number = 3,\n  // 100kB, as 200kB is max payload size, so half sounds reasonable\n  maxSize: number = 100 * 1024,\n): T {\n  const serialized = normalize(object, depth);\n\n  if (jsonSize(serialized) > maxSize) {\n    return normalizeToSize(object, depth - 1, maxSize);\n  }\n\n  return serialized as T;\n}\n\n/**\n * Transform any non-primitive, BigInt, or Symbol-type value into a string. Acts as a no-op on strings, numbers,\n * booleans, null, and undefined.\n *\n * @param value The value to stringify\n * @returns For non-primitive, BigInt, and Symbol-type values, a string denoting the value's type, type and value, or\n *  type and `description` property, respectively. For non-BigInt, non-Symbol primitives, returns the original value,\n *  unchanged.\n */\nfunction serializeValue(value: any): any {\n  const type = Object.prototype.toString.call(value);\n\n  // Node.js REPL notation\n  if (typeof value === 'string') {\n    return value;\n  }\n  if (type === '[object Object]') {\n    return '[Object]';\n  }\n  if (type === '[object Array]') {\n    return '[Array]';\n  }\n\n  const normalized = normalizeValue(value);\n  return isPrimitive(normalized) ? normalized : type;\n}\n\n/**\n * normalizeValue()\n *\n * Takes unserializable input and make it serializable friendly\n *\n * - translates undefined/NaN values to \"[undefined]\"/\"[NaN]\" respectively,\n * - serializes Error objects\n * - filter global objects\n */\nfunction normalizeValue<T>(value: T, key?: any): T | string {\n  if (key === 'domain' && value && typeof value === 'object' && ((value as unknown) as { _events: any })._events) {\n    return '[Domain]';\n  }\n\n  if (key === 'domainEmitter') {\n    return '[DomainEmitter]';\n  }\n\n  if (typeof (global as any) !== 'undefined' && (value as unknown) === global) {\n    return '[Global]';\n  }\n\n  if (typeof (window as any) !== 'undefined' && (value as unknown) === window) {\n    return '[Window]';\n  }\n\n  if (typeof (document as any) !== 'undefined' && (value as unknown) === document) {\n    return '[Document]';\n  }\n\n  // React's SyntheticEvent thingy\n  if (isSyntheticEvent(value)) {\n    return '[SyntheticEvent]';\n  }\n\n  if (typeof value === 'number' && value !== value) {\n    return '[NaN]';\n  }\n\n  if (value === void 0) {\n    return '[undefined]';\n  }\n\n  if (typeof value === 'function') {\n    return `[Function: ${getFunctionName(value)}]`;\n  }\n\n  // symbols and bigints are considered primitives by TS, but aren't natively JSON-serilaizable\n\n  if (typeof value === 'symbol') {\n    return `[${String(value)}]`;\n  }\n\n  if (typeof value === 'bigint') {\n    return `[BigInt: ${String(value)}]`;\n  }\n\n  return value;\n}\n\n/**\n * Walks an object to perform a normalization on it\n *\n * @param key of object that's walked in current iteration\n * @param value object to be walked\n * @param depth Optional number indicating how deep should walking be performed\n * @param memo Optional Memo class handling decycling\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport function walk(key: string, value: any, depth: number = +Infinity, memo: Memo = new Memo()): any {\n  // If we reach the maximum depth, serialize whatever has left\n  if (depth === 0) {\n    return serializeValue(value);\n  }\n\n  /* eslint-disable @typescript-eslint/no-unsafe-member-access */\n  // If value implements `toJSON` method, call it and return early\n  if (value !== null && value !== undefined && typeof value.toJSON === 'function') {\n    return value.toJSON();\n  }\n  /* eslint-enable @typescript-eslint/no-unsafe-member-access */\n\n  // If normalized value is a primitive, there are no branches left to walk, so we can just bail out, as theres no point in going down that branch any further\n  const normalized = normalizeValue(value, key);\n  if (isPrimitive(normalized)) {\n    return normalized;\n  }\n\n  // Create source that we will use for next itterations, either objectified error object (Error type with extracted keys:value pairs) or the input itself\n  const source = getWalkSource(value);\n\n  // Create an accumulator that will act as a parent for all future itterations of that branch\n  const acc = Array.isArray(value) ? [] : {};\n\n  // If we already walked that branch, bail out, as it's circular reference\n  if (memo.memoize(value)) {\n    return '[Circular ~]';\n  }\n\n  // Walk all keys of the source\n  for (const innerKey in source) {\n    // Avoid iterating over fields in the prototype if they've somehow been exposed to enumeration.\n    if (!Object.prototype.hasOwnProperty.call(source, innerKey)) {\n      continue;\n    }\n    // Recursively walk through all the child nodes\n    (acc as { [key: string]: any })[innerKey] = walk(innerKey, source[innerKey], depth - 1, memo);\n  }\n\n  // Once walked through all the branches, remove the parent from memo storage\n  memo.unmemoize(value);\n\n  // Return accumulated values\n  return acc;\n}\n\n/**\n * normalize()\n *\n * - Creates a copy to prevent original input mutation\n * - Skip non-enumerablers\n * - Calls `toJSON` if implemented\n * - Removes circular references\n * - Translates non-serializeable values (undefined/NaN/Functions) to serializable format\n * - Translates known global objects/Classes to a string representations\n * - Takes care of Error objects serialization\n * - Optionally limit depth of final output\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport function normalize(input: any, depth?: number): any {\n  try {\n    return JSON.parse(JSON.stringify(input, (key: string, value: any) => walk(key, value, depth)));\n  } catch (_oO) {\n    return '**non-serializable**';\n  }\n}\n\n/**\n * Given any captured exception, extract its keys and create a sorted\n * and truncated list that will be used inside the event message.\n * eg. `Non-error exception captured with keys: foo, bar, baz`\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport function extractExceptionKeysForMessage(exception: any, maxLength: number = 40): string {\n  const keys = Object.keys(getWalkSource(exception));\n  keys.sort();\n\n  if (!keys.length) {\n    return '[object has no keys]';\n  }\n\n  if (keys[0].length >= maxLength) {\n    return truncate(keys[0], maxLength);\n  }\n\n  for (let includedKeys = keys.length; includedKeys > 0; includedKeys--) {\n    const serialized = keys.slice(0, includedKeys).join(', ');\n    if (serialized.length > maxLength) {\n      continue;\n    }\n    if (includedKeys === keys.length) {\n      return serialized;\n    }\n    return truncate(serialized, maxLength);\n  }\n\n  return '';\n}\n\n/**\n * Given any object, return the new object with removed keys that value was `undefined`.\n * Works recursively on objects and arrays.\n */\nexport function dropUndefinedKeys<T>(val: T): T {\n  if (isPlainObject(val)) {\n    const obj = val as { [key: string]: any };\n    const rv: { [key: string]: any } = {};\n    for (const key of Object.keys(obj)) {\n      if (typeof obj[key] !== 'undefined') {\n        rv[key] = dropUndefinedKeys(obj[key]);\n      }\n    }\n    return rv as T;\n  }\n\n  if (Array.isArray(val)) {\n    return (val as any[]).map(dropUndefinedKeys) as any;\n  }\n\n  return val;\n}\n"],
  "mappings": "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",
  "names": ["installedModules", "__webpack_require__", "moduleId", "exports", "module", "i", "l", "modules", "call", "m", "c", "d", "name", "getter", "o", "Object", "defineProperty", "enumerable", "get", "r", "Symbol", "toStringTag", "value", "t", "mode", "__esModule", "ns", "create", "key", "bind", "n", "object", "property", "prototype", "hasOwnProperty", "p", "s", "extendStatics", "b", "setPrototypeOf", "__proto__", "Array", "__extends", "__", "this", "constructor", "__assign", "assign", "arguments", "length", "apply", "__awaiter", "thisArg", "_arguments", "P", "generator", "Promise", "resolve", "reject", "fulfilled", "step", "next", "e", "rejected", "result", "done", "then", "__generator", "body", "f", "y", "g", "_", "label", "sent", "trys", "ops", "verb", "iterator", "v", "op", "TypeError", "pop", "push", "__values", "__read", "ar", "error", "__spread", "concat", "last", "ExtensionsMap", "mobileRegexp", "md5", "data", "btoa", "hash", "b64", "safeUrl", "replace", "getVersion", "isMobile", "navigator", "userAgent", "test", "isFacebook", "resolveCdnUrl", "session", "handle", "cdnURL", "urls", "cdnUrl", "indexOf", "apikey", "Error", "resolveHost", "cname", "hosts", "keys", "forEach", "obj", "newObj", "k", "uniqueTime", "time", "Date", "now", "uniqueId", "len", "join", "Math", "random", "toString", "file", "type", "mime", "isutf8", "console", "warn", "ext", "split", "toLocaleLowerCase", "mapLen", "sanitizeName", "options", "replacement", "exclude", "fileParts", "map", "char", "toFilter", "requiredFields", "filter", "reduce", "cleanUpCallbacks", "FsRequestErrorCode", "message", "config", "response", "code", "target", "log", "formatArgs", "args", "useColors", "namespace", "humanize", "diff", "color", "splice", "index", "lastC", "match", "save", "namespaces", "storage", "setItem", "removeItem", "load", "getItem", "process", "env", "DEBUG", "window", "__nwjs", "toLowerCase", "document", "documentElement", "style", "WebkitAppearance", "firebug", "exception", "table", "parseInt", "RegExp", "$1", "localStorage", "localstorage", "colors", "require", "formatters", "j", "JSON", "stringify", "isError", "wat", "isInstanceOf", "isString", "isPrimitive", "isPlainObject", "isEvent", "Event", "isElement", "Element", "isRegExp", "isThenable", "Boolean", "isSyntheticEvent", "base", "_e", "isBuffer", "isStream", "isArrayBuffer", "val", "isObject", "isFile", "isBlob", "isURLSearchParams", "URLSearchParams", "isFormData", "FormData", "trim", "str", "FsHttpMethod", "nameStartChar", "nameRegexp", "regexName", "isExist", "isEmptyObject", "merge", "a", "arrayMode", "getValue", "buildOptions", "defaultOptions", "props", "newOptions", "isName", "string", "exec", "getAllMatches", "regex", "matches", "allmatches", "has", "prefix", "Events", "EE", "fn", "context", "once", "addListener", "emitter", "event", "listener", "evt", "_events", "_eventsCount", "clearEvent", "EventEmitter", "eventNames", "events", "names", "slice", "getOwnPropertySymbols", "listeners", "handlers", "ee", "listenerCount", "emit", "a1", "a2", "a3", "a4", "a5", "removeListener", "undefined", "on", "removeAllListeners", "off", "prefixed", "fallbackGlobalObject", "getGlobalObject", "global", "self", "uuid4", "crypto", "msCrypto", "getRandomValues", "arr", "Uint16Array", "pad", "num", "consoleSandbox", "callback", "originalConsole", "wrappedLevels", "level", "__sentry_original__", "truncate", "max", "substr", "snipLine", "line", "colno", "newLine", "ll", "start", "end", "min", "ignoreDuplicates", "headers", "parsed", "set", "setIFExists", "normalizedName", "normalizeName", "parse", "dnt", "etag", "tcn", "te", "text", "charAt", "toUpperCase", "debug", "filestackHeaders", "floor", "contentType", "bufferToString", "parser", "ignoreAttributes", "trimValues", "buffer", "bufView", "addition", "pow", "String", "fromCharCode", "subarray", "combineURL", "url", "params", "serialized", "urlfy", "hashIndex", "encodeURIComponent", "uri", "ValidationError", "instance", "schema", "propertyPath", "argument", "id", "stack", "ValidatorResult", "ctx", "errors", "throwError", "disableFormat", "stringizer", "addError", "detail", "err", "importErrors", "res", "validatorType", "SchemaError", "msg", "captureStackTrace", "SchemaContext", "schemas", "makeChild", "propertyName", "makeSuffix", "FORMAT_REGEXPS", "input", "parseFloat", "isNaN", "regexp", "pattern", "ipv4", "isFormat", "format", "validator", "customFormats", "deepMerger", "dst", "deepMerge", "copyist", "src", "copyistWithDeepMerge", "array", "isArray", "pathEncoder", "deepCompareStrict", "every", "aKeys", "bKeys", "objectGetPath", "parts", "shift", "decodeURIComponent", "encodePath", "getDecimalPlaces", "number", "decimalPlaces", "Number", "decimalParts", "isNodeEnv", "dynamicRequire", "mod", "request", "Function", "util", "xmlNode", "TagType", "regx", "attributeNamePrefix", "attrNodeName", "textNodeName", "ignoreNameSpace", "allowBooleanAttributes", "parseNodeValue", "parseAttributeValue", "cdataTagName", "cdataPositionChar", "tagValueProcessor", "tagName", "attrValueProcessor", "attrName", "stopNodes", "processTagValue", "parsedTags", "parentTagName", "parseValue", "parseTrueNumberOnly", "checkForTagType", "resolveNameSpace", "tagname", "tags", "shouldParse", "attrsRegx", "buildAttributesMap", "attrStr", "attrs", "attrCollection", "getTraversalObj", "xmlData", "xmlObj", "currentNode", "tagsRegx", "tag", "nextTag", "tagType", "parent", "includes", "child", "attrsMap", "startIndex", "childNode", "addChild", "shouldRetry", "status", "NETWORK", "SERVER", "TIMEOUT", "ABORTED", "toBytes", "charCodeAt", "xpiZipFilename", "oxmlContentTypes", "oxmlRels", "readUInt64LE", "buf", "offset", "mul", "fileType", "Uint8Array", "ArrayBuffer", "Buffer", "check", "header", "mask", "checkString", "findNextZipHeaderIndex", "startAt", "findIndex", "el", "zipHeaderIndex", "oxmlFound", "sliced", "idPos", "docTypePos", "findDocType", "objectSize", "default", "stream", "readableStream", "eval", "pass", "PassThrough", "chunk", "read", "minimumBytes", "unshift", "pipeline", "pipe", "Validator", "SchemaScanResult", "scan", "validate", "punycode", "Url", "protocol", "slashes", "auth", "host", "port", "hostname", "search", "query", "pathname", "path", "href", "urlParse", "source", "relative", "resolveObject", "protocolPattern", "portPattern", "simplePathPattern", "unwise", "autoEscape", "nonHostChars", "hostEndingChars", "hostnamePartPattern", "hostnamePartStart", "unsafeProtocol", "hostlessProtocol", "slashedProtocol", "querystring", "parseQueryString", "slashesDenoteHost", "u", "queryIndex", "splitter", "uSplit", "rest", "simplePath", "proto", "lowerProto", "atSign", "hostEnd", "hec", "lastIndexOf", "parseHost", "ipv6Hostname", "hostparts", "part", "newpart", "validParts", "notHost", "bit", "toASCII", "h", "ae", "esc", "escape", "qm", "rel", "tkeys", "tk", "tkey", "rkeys", "rk", "rkey", "relPath", "isSourceAbs", "isRelAbs", "mustEndAbs", "removeAllDots", "srcPath", "psychotic", "isNullOrUndefined", "authInHost", "isNull", "hasTrailingSlash", "up", "isAbsolute", "urilib", "helpers", "found", "ref", "scanSchema", "baseuri", "$ref", "resolvedUri", "ourBase", "substring", "scanArray", "items", "extends", "additionalItems", "scanObject", "properties", "additionalProperties", "definitions", "patternProperties", "dependencies", "disallow", "allOf", "anyOf", "oneOf", "not", "nodeToJson", "xmlToNodeobj", "x2xmlnode", "validationOption", "convertToJson", "convertTonimn", "convert2nimn", "convertToJsonString", "j2xParser", "parseToNimn", "htmlTreeAsString", "elem", "currentElem", "out", "height", "sepLength", "nextStr", "_htmlElementAsString", "parentNode", "reverse", "_oO", "className", "classes", "attr", "allowedAttrs", "getAttribute", "webpackPolyfill", "deprecate", "paths", "children", "__webpack_amd_options__", "cachedSetTimeout", "cachedClearTimeout", "defaultSetTimout", "defaultClearTimeout", "runTimeout", "fun", "setTimeout", "clearTimeout", "currentQueue", "queue", "draining", "queueIndex", "cleanUpNextTick", "drainQueue", "timeout", "run", "marker", "Item", "noop", "nextTick", "title", "browser", "argv", "version", "versions", "prependListener", "prependOnceListener", "binding", "cwd", "chdir", "dir", "umask", "factory", "hex_chr", "md5cycle", "x", "md5blk", "md5blks", "md5blk_array", "md51", "tail", "tmp", "lo", "hi", "state", "rhex", "hex", "toUtf8", "unescape", "hexToBinaryString", "bytes", "SparkMD5", "reset", "clamp", "from", "to", "targetArray", "sourceArray", "byteLength", "begin", "append", "appendBinary", "contents", "_buff", "_length", "_hash", "raw", "ret", "buff", "_finish", "getState", "setState", "destroy", "hashBinary", "content", "first", "second", "returnUInt8Array", "define", "PriorityQueue", "_queue", "element", "priority", "size", "comp", "count", "it", "PQueue", "carryoverConcurrencyCount", "intervalCap", "Infinity", "interval", "concurrency", "autoStart", "queueClass", "isFinite", "_carryoverConcurrencyCount", "_isIntervalIgnored", "_intervalCount", "_intervalCap", "_interval", "_intervalId", "_intervalEnd", "_timeoutId", "_queueClass", "_pendingCount", "_concurrency", "_isPaused", "_resolveEmpty", "_resolveIdle", "_tryToStartAnother", "_onInterval", "_initializeIntervalIfNeeded", "delay", "_onResumeInterval", "clearInterval", "_resolvePromises", "canInitializeInterval", "_intervalPaused", "_doesIntervalAllowAnother", "_doesConcurrentAllowAnother", "dequeue", "setInterval", "enqueue", "_next", "fns", "all", "add", "existingResolve", "argsTag", "funcTag", "genTag", "mapTag", "setTag", "reFlags", "reIsHostCtor", "reIsUint", "cloneableTags", "freeGlobal", "freeSelf", "root", "freeExports", "nodeType", "freeModule", "moduleExports", "addMapEntry", "pair", "addSetEntry", "arrayReduce", "iteratee", "accumulator", "initAccum", "isHostObject", "mapToArray", "overArg", "func", "transform", "arg", "setToArray", "uid", "arrayProto", "funcProto", "objectProto", "coreJsData", "maskSrcKey", "IE_PROTO", "funcToString", "objectToString", "reIsNative", "getPrototype", "getPrototypeOf", "objectCreate", "propertyIsEnumerable", "nativeGetSymbols", "nativeIsBuffer", "nativeKeys", "DataView", "getNative", "Map", "Set", "WeakMap", "nativeCreate", "dataViewCtorString", "toSource", "mapCtorString", "promiseCtorString", "setCtorString", "weakMapCtorString", "symbolProto", "symbolValueOf", "valueOf", "Hash", "entries", "clear", "entry", "ListCache", "MapCache", "Stack", "__data__", "arrayLikeKeys", "inherited", "isArrayLike", "skipIndexes", "isIndex", "assignValue", "objValue", "eq", "assocIndexOf", "baseClone", "isDeep", "isFull", "customizer", "isArr", "getTag", "isFunc", "copy", "isPrototype", "copyObject", "getSymbols", "cloneFunc", "Ctor", "cloneArrayBuffer", "dataView", "byteOffset", "typedArray", "lastIndex", "symbol", "stacked", "keysFunc", "symbolsFunc", "values", "subValue", "baseIsNative", "isFunction", "arrayBuffer", "newValue", "getMapData", "cache", "pairs", "LARGE_ARRAY_SIZE", "other", "ctorString", "getFunctionName", "_hasWeakSet", "WeakSet", "_inner", "memoize", "unmemoize", "delete", "attribute", "unresolvedRefs", "types", "attributes", "validators", "shouldResolve", "addSchema", "ourUri", "addSubSchemaArray", "addSubSchema", "addSubSchemaObject", "setSchemas", "getSchema", "urn", "sch", "validateSchema", "switchSchema", "schemaobj", "schemaTraverser", "superResolve", "resolved", "subctx", "subschema", "skipAttributes", "ignoreProperties", "validatorErr", "allowUnknownAttributes", "rewrite", "fragment", "testType", "integer", "boolean", "date", "any", "maxInt", "regexPunycode", "regexNonASCII", "regexSeparators", "stringFromCharCode", "RangeError", "mapDomain", "ucs2decode", "extra", "output", "counter", "ucs2encode", "digitToBasic", "digit", "flag", "adapt", "delta", "numPoints", "firstTime", "baseMinusTMin", "decode", "basic", "oldi", "w", "baseMinusT", "codePoint", "inputLength", "bias", "encode", "handledCPCount", "basicLength", "q", "currentValue", "handledCPCountPlusOne", "qMinusT", "prop", "qs", "sep", "maxKeys", "kstr", "vstr", "idx", "xs", "stringifyPrimitive", "objectKeys", "ks", "testSchemaNoThrow", "valid", "testAdditionalProperty", "preValidateProperty", "some", "list", "inner", "nestedErrors", "minProperties", "maxProperties", "minimum", "exclusiveMinimum", "maximum", "exclusiveMaximum", "validateMultipleOfOrDivisbleBy", "validationType", "errorMessage", "validationArgument", "instanceDecimals", "divisorDecimals", "maxDecimals", "multiplier", "round", "testArrays", "multipleOf", "divisibleBy", "required", "minLength", "hsp", "maxLength", "minItems", "maxItems", "uniqueItems", "dep", "childContext", "notTypes", "schemaId", "selectColor", "createDebug", "abs", "prevTime", "enabled", "curr", "ms", "prev", "coerce", "formatter", "logFn", "extend", "init", "instances", "delimiter", "newDebug", "toNamespace", "disable", "skips", "enable", "plural", "msAbs", "isPlural", "long", "XMLHttpRequest", "blobResponse", "responseType", "username", "password", "Authorization", "open", "method", "cancelListener", "cancelToken", "reason", "abort", "onreadystatechange", "readyState", "responseURL", "responseHeaders", "getAllResponseHeaders", "responseData", "statusText", "REQUEST", "onabort", "onerror", "ontimeout", "setRequestHeader", "onProgress", "POST", "PUT", "upload", "addEventListener", "send", "node", "jObj", "readPI", "getErrorObject", "getLineNumberForPosition", "readCommentAndCDATA", "angleBracketsCount", "tagFound", "reachedRoot", "closingTag", "readAttributeStr", "isValid", "validateAttributeString", "tagClosed", "otg", "afterAmp", "validateAmpersand", "startChar", "validAttrStrRegxp", "attrNames", "getPositionFromMatch", "validateAttrName", "re", "lineNumber", "chars", "nilChar", "missingChar", "nilPremitive", "missingPremitive", "emptyChar", "emptyValue", "boundryChar", "objStart", "arrStart", "arrayEnd", "charsArr", "e_schema", "hasValidData", "itemSchema", "arr_len", "arr_i", "processValue", "isAppChar", "ch", "x2j", "_cToJsonStr", "indentBy", "supressEmptyNode", "Parser", "isAttribute", "attrPrefixLen", "isCDATA", "replaceCDATAstr", "replaceCDATAarr", "indentate", "tagEndChar", "buildTextNode", "buildEmptyTextNode", "buildObjNode", "buildEmptyObjNode", "buildTextValNode", "buildObjectNode", "cdata", "repeat", "startsWith", "j2x", "arrLen", "item", "Ks", "L", "originalModule", "FILESTACK_MODULES", "globalHolder", "filestackInternals", "holder", "detachEvent", "removeEventListener", "loadModules", "modulesList", "loadModule", "toReturn", "moduleDefinition", "promise", "readyStateChange", "currentTarget", "srcElement", "script", "createElement", "attachEvent", "setAttribute", "appendChild", "registerModule", "metadata", "loadCss", "querySelector", "head", "getElementsByTagName", "link", "loaded", "getSecurity", "policyOptions", "appSecret", "validateWebhookSignature", "secret", "rawBody", "toCompare", "PREFIX", "_enabled", "__SENTRY__", "States", "logger", "executor", "_state", "PENDING", "_handlers", "_resolve", "_setResult", "RESOLVED", "_reject", "REJECTED", "is", "_value", "_executeHandlers", "_attachHandler", "handler", "cachedHandlers", "onfulfilled", "onrejected", "SyncPromise", "collection", "resolvedCollection", "catch", "finally", "onfinally", "isRejected", "_notifyingListeners", "_scopeListeners", "_eventProcessors", "_breadcrumbs", "_user", "_tags", "_extra", "_contexts", "clone", "scope", "newScope", "Scope", "_level", "_span", "_session", "_transactionName", "_fingerprint", "addScopeListener", "addEventProcessor", "setUser", "user", "update", "_notifyScopeListeners", "getUser", "setTags", "setExtras", "extras", "setExtra", "setFingerprint", "fingerprint", "setLevel", "setTransactionName", "setTransaction", "setContext", "setSpan", "span", "getSpan", "getTransaction", "transaction", "spanRecorder", "spans", "setSession", "getSession", "captureContext", "updatedScope", "contexts", "addBreadcrumb", "breadcrumb", "maxBreadcrumbs", "mergedBreadcrumb", "timestamp", "clearBreadcrumbs", "applyToEvent", "hint", "trace", "getTraceContext", "transactionName", "_applyFingerprint", "breadcrumbs", "_notifyEventProcessors", "getGlobalEventProcessors", "processors", "processor", "final", "globalEventProcessors", "sid", "started", "duration", "SessionStatus", "Ok", "ip_address", "ipAddress", "did", "email", "release", "environment", "close", "Exited", "toJSON", "toISOString", "user_agent", "client", "_version", "_stack", "getStackTop", "bindClient", "isOlderThan", "setupIntegrations", "pushScope", "getScope", "getStack", "getClient", "popScope", "withScope", "captureException", "eventId", "_lastEventId", "finalHint", "syntheticException", "originalException", "_invokeClient", "event_id", "captureMessage", "captureEvent", "lastEventId", "beforeBreadcrumb", "finalBreadcrumb", "configureScope", "oldHub", "makeMain", "getIntegration", "integration", "startSpan", "_callExtensionMethod", "startTransaction", "customSamplingContext", "traceHeaders", "captureSession", "endSession", "_sendSessionUpdate", "startSession", "currentSession", "carrier", "getMainCarrier", "sentry", "extensions", "hub", "registry", "getHubFromCarrier", "setHubOnCarrier", "getCurrentHub", "hasHubOnCarrier", "activeDomain", "domain", "active", "registryHubTopStack", "_Oo", "callOnHub", "FilestackErrorType", "processUrl", "fileApiUrl", "uploadApiUrl", "cloudApiUrl", "pickerUrl", "details", "FilestackError", "TransformSchema", "description", "flip", "auto_image", "no_metadata", "compress", "flop", "enhance", "preset", "enum", "redeye", "monochrome", "negative", "sfw", "imagesize", "smart_crop", "width", "animate", "loop", "fit", "background", "align", "resize", "crop", "dim", "rotate", "deg", "exif", "detect_faces", "maxsize", "minsize", "export", "crop_faces", "faces", "pixelate_faces", "amount", "blur", "blur_faces", "rounded_corners", "radius", "vignette", "blurmode", "polaroid", "torn_edges", "spread", "shadow", "opacity", "vector", "circle", "border", "sharpen", "blackwhite", "threshold", "sepia", "tone", "pixelate", "oil_paint", "modulate", "brightness", "saturation", "hue", "ascii", "foreground", "colored", "collage", "files", "margin", "autorotate", "urlscreenshot", "agent", "orientation", "device", "upscale", "noise", "page", "density", "quality", "secure", "docinfo", "strip", "colorspace", "pageformat", "pageorientation", "pjpg", "expiry", "video_convert", "force", "extname", "aspect_mode", "audio_sample_rate", "two_pass", "video_bitrate", "fps", "keyframe_interval", "audio_bitrate", "audio_channels", "clip_length", "clip_offset", "watermark_url", "watermark_top", "watermark_right", "watermark_bottom", "watermark_left", "frame_count", "filename", "location", "container", "access", "store", "region", "base64decode", "workflows", "watermark", "position", "partial_blur", "objects", "partial_pixelate", "security", "policy", "signature", "pdfinfo", "colorinfo", "pdfconvert", "pages", "fallback", "zip", "minify_css", "gzip", "minify_js", "use_babel_polyfill", "keep_fn_name", "keep_class_name", "mangle", "merge_vars", "remove_console", "remove_undefined", "targets", "DefinitionsSchema", "workflowsDef", "securityCallDef", "regionsDef", "locationsDef", "colorDef", "pageFormatDef", "pageRangeDef", "facesDef", "objectsDef", "positionDef", "HTMLContainer", "Align", "FitOptions", "BlurMode", "ShapeType", "NoiseType", "StyleType", "ColorspaceType", "CropfacesType", "ImageWatermarkPosition", "SmartCropMode", "VideoTypes", "URLScreenshotAgent", "URLScreenshotMode", "URLScreenshotOrientation", "Locations", "VideoAccess", "VideoAccessMode", "EnhancePreset", "handleRegexp", "transforms", "useValidator", "arrayToObject", "nameKey", "dataKey", "setSource", "setBase64", "setUseValidator", "setCname", "setCustomDomain", "customDomain", "isExternal", "isSourceExternal", "getValidationSchema", "getTransformations", "validateTasks", "returnUrl", "getCdnHost", "transformsString", "generateTransformString", "arrayToString", "escapeValue", "addTask", "getTasks", "autoImage", "noMetadata", "smartCrop", "detectFaces", "cropFaces", "pixelateFaces", "blurFaces", "roundedCorners", "tornEdges", "oilPaint", "partialPixelate", "partialBlur", "videoConvert", "URLScreenshot", "PDFInfo", "PDFConvert", "minifyCss", "minifyJs", "toTest", "transformations", "Filelink", "VALIDATION", "optionToString", "optionsString", "StoreParamsSchema", "disableStorageKey", "sanitizer", "PreviewParamsSchema", "css", "UploadParamsSchema", "$schema", "partSize", "progressInterval", "retry", "retryFactor", "retryMaxTime", "intelligent", "intelligentChunkSize", "onRetry", "disableIntegrityCheck", "maxlength", "PickerParamsSchema", "allowManualRetry", "accept", "acceptFn", "fromSources", "cleanupImageExif", "keepOrientation", "keepICCandAPP", "displayMode", "supportEmail", "customSourceContainer", "customSourcePath", "customSourceName", "disableTransformer", "disableThumbnails", "exposeOriginalFile", "globalDropZone", "hideModalWhenUploading", "imageDim", "imageMax", "imageMin", "imageMinMaxBlock", "lang", "minFiles", "maxFiles", "maxSize", "modalSize", "rootId", "startUploadingWhenMaxFilesReached", "uploadInBackground", "videoResolution", "onCancel", "onClose", "onOpen", "onFileSelected", "onFileUploadCancel", "onFileUploadStarted", "onFileUploadFinished", "onFileUploadFailed", "onFileUploadProgress", "onUploadStarted", "onUploadDone", "onFileCropped", "storeTo", "viewType", "aspectRatio", "customText", "cropFiles", "failOverMaxFiles", "dropPane", "disableClick", "overlay", "showIcon", "showProgress", "onDragEnter", "onDragLeave", "onDragOver", "onDrop", "onSuccess", "onError", "onClick", "errorsTimeout", "customAuthText", "top", "bottom", "uploadConfig", "useSentryBreadcrumbs", "pasteMode", "pasteToFirstInViewPort", "pasteToFirstInstance", "MetadataParamsSchema", "mimetype", "uploaded", "writeable", "cloud", "sourceUrl", "sha1", "sha224", "sha256", "sha384", "sha512", "RetrieveParamsSchema", "dl", "extension", "adapter", "retryConfig", "attempts", "runtime", "retryCount", "retryDelay", "RequestAdapter", "XhrAdapter", "defaults", "dispatcher", "getInstance", "FsRequest", "dispatch", "GET", "HEAD", "OPTIONS", "purge", "PURGE", "DELETE", "post", "put", "PATH", "cancel", "skipStorage", "baseURL", "skip_storage", "EAlignOptions", "EAlignFacesOptions", "EFitOptions", "EBlurMode", "EShapeType", "ENoiseType", "EStyleType", "EColorspaceType", "ECropfacesType", "ESmartCropMode", "EImageWatermarkPosition", "EVideoTypes", "EUrlscreenshotAgent", "EUrlscreenshotMode", "EUrlscreenshotOrientation", "EVideoLocations", "EVideoAccess", "EVideoAccessMode", "toSnakeCase", "original", "snakeCased", "newKey", "filelink", "STORE_TYPE", "_file", "_sanitizeOptions", "getPartsCount", "ceil", "getPartMetadata", "partNum", "startByte", "endByte", "partNumber", "getPartByMetadata", "meta", "md5Enabled", "getChunkByMetadata", "chunkSize", "uploadTags", "base64Regexp", "readPart", "FileReader", "blob", "onload", "readAsArrayBuffer", "getFile", "sanitizeOptions", "File", "atob", "b64Data", "sliceSize", "byteCharacters", "byteArrays", "byteNumbers", "Blob", "_a", "_b", "storeOptions", "uploadMode", "isModeLocked", "integrityCheck", "setSecurity", "setApikey", "setRetryConfig", "cfg", "setUrl", "setUploadTags", "setIntegrityCheck", "setUploadMode", "lock", "setPartSize", "getPartSize", "setIntelligentChunkSize", "getIntelligentChunkSize", "getUrl", "payloads", "partsQueue", "pause", "resume", "isPaused", "execute", "tasks", "startRequest", "prepareParts", "startPartsQueue", "completeRequest", "getPayloadById", "addFile", "getUploadUrl", "location_url", "getStoreOptions", "payload", "getDefaultFields", "fiiFallback", "fields", "upload_id", "getDefaultHeaders", "location_region", "partsCount", "setPayloadStatus", "updatePayload", "upload_type", "rejectUpload", "waitingLength", "startPart", "onIdle", "uploadRegular", "uploadIntelligent", "getS3PartMetadata", "partMetadata", "pr", "onProgressUpdate", "setPartETag", "resp", "uploadNextChunk", "commitPart", "newOffset", "setPartData", "nextChunkSize", "partsHandle", "partLen", "part_number", "upload_tags", "emitProgress", "totalSize", "totalBytes", "filesProgress", "totalParts", "progress", "totalPercent", "parseError", "normalizeProgress", "current", "lastProgress", "validateRes", "storeValidateRes", "overrideFileName", "sanitizerOptions", "uploader", "handleProgress", "setToken", "token", "customName", "startProgressInterval", "stopProgressInterval", "multiupload", "progressIntervalHandler", "opts", "hasSecurity", "baseUrl", "previewTask", "iframe", "domElement", "getElementById", "Store", "availableTypes", "LOCAL", "sessionStorage", "SESSION", "hasAccess", "prefType", "getStore", "PrefetchEvents", "PICKER_KEY", "storeAdapter", "sessionCache", "isInAppBrowser", "_token", "prefetch", "settings", "inapp_browser", "clouds", "cancelTokenInput", "flow", "appurl", "currentAppUrl", "customSource", "customsource", "requestOptions", "logout", "tokInit", "tokStart", "sessionId", "session_id", "tokStop", "archiveId", "archive_id", "searchParams", "RotateDirection", "PickerDisplayMode", "param", "getConfig", "pickerOptions", "permissions", "paramsToSend", "pickerOptionsToSend", "picker_config", "updated_config", "reassignCallbacks", "objOld", "objTarget", "_initialized", "PICKER", "category", "forwardErrors", "prefetchInstance", "source_url", "picker", "preview", "remove", "removeMetadata", "storeURL", "storeParams", "workflowIds", "sources", "retrieve", "info", "download", "fl", "uploadOptions", "FILESTACK_SDK", "dateTimestampSource", "nowSeconds", "platformPerformance", "performance", "getNodePerformance", "timeOrigin", "getBrowserPerformance", "timestampSource", "dateTimestampInSeconds", "timing", "navigationStart", "dropUndefinedKeys", "rv"]
}
